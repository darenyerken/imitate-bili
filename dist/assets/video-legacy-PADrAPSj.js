!function(){function e(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */e=function(){return n};var t,n={},r=Object.prototype,o=r.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},l=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag";function h(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{h({},"")}catch(t){h=function(e,t,n){return e[t]=n}}function f(e,t,n,i){var r=t&&t.prototype instanceof x?t:x,o=Object.create(r.prototype),s=new O(i||[]);return a(o,"_invoke",{value:P(e,n,s)}),o}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}n.wrap=f;var d="suspendedStart",g="suspendedYield",y="executing",v="completed",m={};function x(){}function b(){}function k(){}var w={};h(w,l,(function(){return this}));var C=Object.getPrototypeOf,_=C&&C(C(R([])));_&&_!==r&&o.call(_,l)&&(w=_);var T=k.prototype=x.prototype=Object.create(w);function S(e){["next","throw","return"].forEach((function(t){h(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(r,a,s,l){var u=p(e[r],e,a);if("throw"!==u.type){var c=u.arg,h=c.value;return h&&"object"==i(h)&&o.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,s,l)}),(function(e){n("throw",e,s,l)})):t.resolve(h).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,l)}))}l(u.arg)}var r;a(this,"_invoke",{value:function(e,i){function o(){return new t((function(t,r){n(e,i,t,r)}))}return r=r?r.then(o,o):o()}})}function P(e,n,i){var r=d;return function(o,a){if(r===y)throw new Error("Generator is already running");if(r===v){if("throw"===o)throw a;return{value:t,done:!0}}for(i.method=o,i.arg=a;;){var s=i.delegate;if(s){var l=A(s,i);if(l){if(l===m)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===d)throw r=v,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=y;var u=p(e,n,i);if("normal"===u.type){if(r=i.done?v:g,u.arg===m)continue;return{value:u.arg,done:i.done}}"throw"===u.type&&(r=v,i.method="throw",i.arg=u.arg)}}}function A(e,n){var i=n.method,r=e.iterator[i];if(r===t)return n.delegate=null,"throw"===i&&e.iterator.return&&(n.method="return",n.arg=t,A(e,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),m;var o=p(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function R(e){if(e||""===e){var n=e[l];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function n(){for(;++r<e.length;)if(o.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(i(e)+" is not iterable")}return b.prototype=k,a(T,"constructor",{value:k,configurable:!0}),a(k,"constructor",{value:b,configurable:!0}),b.displayName=h(k,c,"GeneratorFunction"),n.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,h(e,c,"GeneratorFunction")),e.prototype=Object.create(T),e},n.awrap=function(e){return{__await:e}},S(E.prototype),h(E.prototype,u,(function(){return this})),n.AsyncIterator=E,n.async=function(e,t,i,r,o){void 0===o&&(o=Promise);var a=new E(f(e,t,i,r),o);return n.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(T),h(T,c,"Generator"),h(T,l,(function(){return this})),h(T,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},n.values=R,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(i,r){return s.type="throw",s.arg=e,n.next=i,r&&(n.method="next",n.arg=t),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=o.call(a,"catchLoc"),u=o.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;I(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,i){return this.delegate={iterator:R(e),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=t),m}},n}function t(e,t,n,i,r,o,a){try{var s=e[o](a),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(i,r)}function n(e){return function(){var n=this,i=arguments;return new Promise((function(r,o){var a=e.apply(n,i);function s(e){t(a,r,o,s,l,"next",e)}function l(e){t(a,r,o,s,l,"throw",e)}s(void 0)}))}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}System.register(["./index-legacy-bz2DWqmg.js","./default-legacy-0oxDLS7u.js","./index-legacy-mqB9VoLl.js","./index-legacy-o6BOEpOc.js"],(function(t,r){"use strict";var o,a,s,l,u,c,h,f,p,d,g,y,v,m,x,b,k,w,C,_,T,S,E,P,A,L,I,O,R,D,M,N;return{setters:[function(e){o=e.aF,a=e.at,s=e.x,l=e.u,u=e.j,c=e.b,h=e.P,f=e.H,p=e.I,d=e.aG},function(e){g=e._,y=e.L},null,function(e){v=e.d,m=e.a,x=e.r,b=e._,k=e.G,w=e.x,C=e.H,_=e.I,T=e.B,S=e.z,E=e.n,P=e.C,A=e.D,L=e.j,I=e.O,O=e.y,R=e.A,D=e.F,M=e.P,N=e.s}],execute:function(){var r=document.createElement("style");r.textContent='@charset "UTF-8";.ant-empty{margin:0 8px;font-size:14px;line-height:1.5715;text-align:center}.ant-empty-image{height:100px;margin-bottom:8px}.ant-empty-image img{height:100%}.ant-empty-image svg{height:100%;margin:auto}.ant-empty-footer{margin-top:16px}.ant-empty-normal{margin:32px 0;color:rgba(0,0,0,.25)}.ant-empty-normal .ant-empty-image{height:40px}.ant-empty-small{margin:8px 0;color:rgba(0,0,0,.25)}.ant-empty-small .ant-empty-image{height:35px}.ant-empty-img-default-ellipse{fill:#f5f5f5;fill-opacity:.8}.ant-empty-img-default-path-1{fill:#aeb8c2}.ant-empty-img-default-path-2{fill:url(#linearGradient-1)}.ant-empty-img-default-path-3{fill:#f5f5f7}.ant-empty-img-default-path-4,.ant-empty-img-default-path-5{fill:#dce0e6}.ant-empty-img-default-g{fill:#fff}.ant-empty-img-simple-ellipse{fill:#f5f5f5}.ant-empty-img-simple-g{stroke:#d9d9d9}.ant-empty-img-simple-path{fill:#fafafa}.ant-empty-rtl{direction:rtl}.ant-comment{position:relative;background-color:inherit}.ant-comment-inner{display:flex;padding:16px 0}.ant-comment-avatar{position:relative;flex-shrink:0;margin-right:12px;cursor:pointer}.ant-comment-avatar img{width:32px;height:32px;border-radius:50%}.ant-comment-content{position:relative;flex:1 1 auto;min-width:1px;font-size:14px;word-wrap:break-word}.ant-comment-content-author{display:flex;flex-wrap:wrap;justify-content:flex-start;margin-bottom:4px;font-size:14px}.ant-comment-content-author>a,.ant-comment-content-author>span{padding-right:8px;font-size:12px;line-height:18px}.ant-comment-content-author-name{color:rgba(0,0,0,.45);font-size:14px;transition:color .3s}.ant-comment-content-author-name>*{color:rgba(0,0,0,.45)}.ant-comment-content-author-name>*:hover{color:rgba(0,0,0,.45)}.ant-comment-content-author-time{color:#ccc;white-space:nowrap;cursor:auto}.ant-comment-content-detail p{margin-bottom:inherit;white-space:pre-wrap}.ant-comment-actions{margin-top:12px;margin-bottom:inherit;padding-left:0}.ant-comment-actions>li{display:inline-block;color:rgba(0,0,0,.45)}.ant-comment-actions>li>span{margin-right:10px;color:rgba(0,0,0,.45);font-size:12px;cursor:pointer;transition:color .3s;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ant-comment-actions>li>span:hover{color:#595959}.ant-comment-nested{margin-left:44px}.ant-comment-rtl{direction:rtl}.ant-comment-rtl .ant-comment-avatar{margin-right:0;margin-left:12px}.ant-comment-rtl .ant-comment-content-author>a,.ant-comment-rtl .ant-comment-content-author>span{padding-right:0;padding-left:8px}.ant-comment-rtl .ant-comment-actions{padding-right:0}.ant-comment-rtl .ant-comment-actions>li>span{margin-right:0;margin-left:10px}.ant-comment-rtl .ant-comment-nested{margin-right:44px;margin-left:0}.avatar[data-v-5cdac874]{width:30px;height:30px;background-color:#ece8e8;border-radius:50%}.avatar-img[data-v-5cdac874]{width:15px;height:15px;margin:8px;border-radius:0}.xgplayer.not-allow-autoplay .xgplayer-controls,.xgplayer.xgplayer-nostart .xgplayer-controls,.xgplayer.xgplayer-inactive .controls-autohide{pointer-events:none;visibility:hidden;cursor:default;opacity:0}.xgplayer.not-allow-autoplay .xgplayer-controls-initshow,.xgplayer.xgplayer-nostart .xgplayer-controls-initshow{pointer-events:auto;visibility:visible;opacity:1}.xgplayer .xgplayer-controls{display:block;position:absolute;visibility:visible;height:48px;left:0;right:0;bottom:0;opacity:1;z-index:10;background-image:linear-gradient(180deg,transparent,rgba(0,0,0,.37),rgba(0,0,0,.75),rgba(0,0,0,.75));transition:opacity .5s ease,visibility .5s ease}.xgplayer .xgplayer-controls.show{display:block;opacity:1;visibility:visible;pointer-events:auto}.xgplayer .xg-inner-controls{position:absolute;height:40px;bottom:0;justify-content:space-between;display:flex}.xgplayer .xg-left-grid,.xgplayer .xg-right-grid{position:relative;display:flex;flex-wrap:wrap;flex-shrink:1;height:100%;z-index:1}.xgplayer .xg-right-grid{flex-direction:row-reverse}.xgplayer .xg-right-grid>:first-child{margin-right:0}.xgplayer .xg-right-grid xg-icon{margin-left:0}.xgplayer .xg-left-grid>:first-child{margin-left:0}.xgplayer .xg-left-grid xg-icon{margin-right:0}.xgplayer .xg-center-grid{display:block;position:absolute;left:0;right:0;outline:none;top:-20px;padding:5px 0;text-align:center}.xgplayer .flex-controls .xg-inner-controls{justify-content:space-around;display:flex;bottom:8px}.xgplayer .flex-controls .xg-center-grid{display:flex;flex:1;position:relative;top:0;height:100%;justify-content:space-between;align-items:center;left:0;right:0;padding:0 16px}.xgplayer.xgplayer-mobile .xg-center-grid{z-index:2}.xgplayer.xgplayer-mobile .flex-controls .xg-center-grid{padding:0 8px}.xgplayer .bottom-controls .xg-center-grid{top:20px;padding:0}.xgplayer .bottom-controls .xg-left-grid,.xgplayer .bottom-controls .xg-right-grid{bottom:10px}.xgplayer .mini-controls{background-image:none}.xgplayer .mini-controls .xg-inner-controls{bottom:0;left:0;right:0}.xgplayer .mini-controls .xg-center-grid{bottom:-28px;top:auto;padding:0}.xgplayer .mini-controls .xg-left-grid,.xgplayer .mini-controls .xg-right-grid{display:none}.xgplayer .controls-follow{bottom:70px;transition:bottom .3s ease}.xgplayer.flex-controls .controls-follow{bottom:45px}.xgplayer.xgplayer-inactive .controls-follow,.xgplayer.no-controls .controls-follow,.xgplayer.mini-controls .controls-follow{bottom:10px}.xgplayer-fullscreen-parent{position:fixed;left:0;top:0;width:100%;height:100%;z-index:9999}.xgplayer-fullscreen-parent .xgplayer.xgplayer-is-cssfullscreen,.xgplayer-fullscreen-parent .xgplayer.xgplayer-is-fullscreen{z-index:10;position:absolute}.xgplayer-rotate-parent{position:fixed;top:0;left:100%;bottom:0;right:0;width:100vh;height:100vw;z-index:9999;transform-origin:top left;transform:rotate(90deg)}.xgplayer-rotate-parent .xgplayer.xgplayer-rotate-fullscreen{position:absolute;top:0;left:0;z-index:10;margin:0;padding:0;width:100%;height:100%;transform:rotate(0)}.xgplayer-rotate-parent .xgplayer-mobile video{z-index:-1}.xgplayer{position:relative;width:100%;height:100%;overflow:hidden;font-family:PingFang SC,Helvetica Neue,Helvetica,STHeiTi,Microsoft YaHei,WenQuanYi Micro Hei,sans-serif;font-size:14px;font-weight:400;background:#000;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}.xgplayer *{margin:0;padding:0;border:0;vertical-align:baseline;white-space:normal;word-wrap:normal;overflow-wrap:normal}.xgplayer ul,.xgplayer li{list-style:none}.xgplayer .xgplayer-none{display:none}.xgplayer.xgplayer-is-fullscreen{position:fixed;top:0;left:0;width:100%;height:100%;margin:0;padding:0;z-index:9999}.xgplayer.xgplayer-is-cssfullscreen{position:fixed;left:0;top:0;width:100%;height:100%;z-index:9999}.xgplayer.xgplayer-rotate-fullscreen{position:fixed;top:0;left:100%;bottom:0;right:0;width:100vh;height:100vw;transform-origin:top left;transform:rotate(90deg);z-index:9999}.xgplayer.xgplayer-rotate-fullscreen.xgplayer-mobile video{z-index:-1}.xgplayer xg-video-container.xg-video-container{position:absolute;top:0;bottom:48px;display:block;width:100%}.xgplayer video{position:absolute;top:0;left:0;width:100%;height:100%;outline:none}.xgplayer[data-xgfill=contain] video{-o-object-fit:contain;object-fit:contain}.xgplayer[data-xgfill=cover] video{-o-object-fit:cover;object-fit:cover}.xgplayer[data-xgfill=fill] video{-o-object-fit:fill;object-fit:fill}.xgplayer .xg-pos{left:10px;right:10px}.xgplayer .xg-margin{margin-left:16px;margin-right:16px}.xgplayer .xg-bottom{bottom:0}.xgplayer .btn-text{position:relative;top:50%;height:24px;font-size:13px;text-align:center}.xgplayer .btn-text span{display:inline-block;min-width:52px;height:24px;line-height:24px;background:rgba(0,0,0,.38);border-radius:12px}.xgplayer xg-icon{position:relative;box-sizing:border-box;height:40px;margin-left:16px;margin-right:16px;cursor:pointer;color:rgba(255,255,255,.8);fill:#fff}.xgplayer xg-icon .xg-tips{top:-30px;left:50%;transform:translate(-50%)}.xgplayer xg-icon:active .xg-tips,.xgplayer xg-icon:hover .xg-tips{display:block}.xgplayer xg-icon:active .xg-tips.hide,.xgplayer xg-icon:hover .xg-tips.hide{display:none}.xgplayer xg-icon .xgplayer-icon{position:relative;top:50%;transform:translateY(-50%);cursor:pointer}.xgplayer xg-icon .xg-icon-disable{cursor:not-allowed}.xgplayer xg-icon .xg-img{width:100%}.xgplayer xg-icon svg,.xgplayer xg-icon img{height:100%;display:block}.xgplayer xg-bar{display:block}.xgplayer.xgplayer-inactive xg-bar,.xgplayer.xgplayer-mini xg-bar{display:none}.xgplayer.xgplayer-inactive .xg-top-bar{display:flex}.xgplayer.xgplayer-inactive .xg-top-bar.top-bar-autohide{display:none}.xgplayer .xg-top-bar{position:absolute;z-index:10;top:0;padding:0 16px;display:flex;height:50px}.xgplayer .xg-top-bar xg-icon{position:relative;top:10px;left:0;width:34px;margin-top:0}.xgplayer .xg-top-bar xg-icon:first-child{margin-left:0}.xgplayer .xg-left-bar,.xgplayer .xg-right-bar{position:absolute;z-index:9;top:50px;bottom:50px;width:50px}.xgplayer .xg-left-bar{left:0}.xgplayer .xg-right-bar{right:0}.xgplayer .xg-tips{display:none;position:absolute;padding:4px 6px;background:rgba(0,0,0,.54);border-radius:4px;font-size:11px;color:#fff;text-align:center;white-space:nowrap;opacity:.85}.xgplayer .xg-margin{left:0;right:0}.xgplayer-mobile{-webkit-tap-highlight-color:rgba(0,0,0,0)}.xgplayer-mobile *{text-decoration:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.xgplayer-mobile.xgplayer-rotate-fullscreen .xg-top-bar,.xgplayer-mobile.xgplayer-rotate-fullscreen .xg-pos{left:6%;right:6%}.xgplayer-mobile xg-icon:hover .xg-tips{display:none}.xg-list-slide-scroll::-webkit-scrollbar-track{background-color:transparent;display:none}.xg-list-slide-scroll:hover::-webkit-scrollbar-track{display:block}.xg-list-slide-scroll::-webkit-scrollbar{-webkit-appearance:none;appearance:none;background:rgba(0,0,0,0);height:4px;width:4px}.xg-list-slide-scroll::-webkit-scrollbar-corner{background:transparent;display:none}.xg-list-slide-scroll::-webkit-scrollbar-thumb{background:hsla(0,0%,100%,.5);border-radius:3px;display:none;width:4px}.xg-list-slide-scroll:hover::-webkit-scrollbar-thumb{display:block}@media only screen and (max-width: 480px){.xgplayer-mobile xg-icon{margin-right:10px;margin-left:10px}.xgplayer-mobile .xg-top-bar{left:10px;right:10px}}@media screen and (orientation: portrait){.xgplayer-mobile.xgplayer-is-fullscreen .xgplayer-controls,.xgplayer-mobile.xgplayer-is-cssfullscreen .xgplayer-controls{bottom:34px;bottom:constant(safe-area-inset-bottom);bottom:env(safe-area-inset-bottom)}.xgplayer-mobile.xgplayer-is-fullscreen .xg-top-bar,.xgplayer-mobile.xgplayer-is-cssfullscreen .xg-top-bar{top:34px;top:constant(safe-area-inset-top);top:env(safe-area-inset-top)}}@media only screen and (orientation: landscape){.xgplayer-mobile.xgplayer-is-fullscreen .xg-top-bar,.xgplayer-mobile.xgplayer-is-fullscreen .xg-pos{left:6%;right:6%}.xgplayer-mobile.xgplayer-rotate-fullscreen{left:0;width:100vw;height:100vh;transform:rotate(0)}}.xgplayer .xgplayer-screen-container{display:block;width:100%}.xgplayer .xg-options-icon{display:none;cursor:pointer}.xgplayer .xg-options-icon.show{display:block}@keyframes xg_right_options_active{0%{transform:translate(50%)}to{transform:translate(-50%)}}@keyframes xg_right_options_hide{0%{transform:translate(-50%)}to{transform:translate(50%)}}@keyframes xg_left_options_active{0%{transform:translate(-50%)}to{transform:translate(50%)}}@keyframes xg_left_options_hide{0%{transform:translate(50%)}to{transform:translate(-50%)}}.xgplayer .xg-options-list{display:none;position:absolute;z-index:5;width:78px;right:50%;bottom:100%;background:rgba(0,0,0,.54);border-radius:1px;transform:translate(50%);cursor:pointer;overflow:auto;height:0;opacity:.85;font-size:14px;color:rgba(255,255,255,.8)}.xgplayer .xg-options-list li{height:20px;line-height:20px;position:relative;padding:4px 0;text-align:center}.xgplayer .xg-options-list li:hover,.xgplayer .xg-options-list li.selected{color:red;opacity:1}.xgplayer .xg-options-list li:nth-child(1){position:relative;margin-top:12px}.xgplayer .xg-options-list li:last-child{position:relative;margin-bottom:12px}.xgplayer .xg-options-list:hover{opacity:1}.xgplayer .xg-options-list.active{display:block;height:auto}.xgplayer .xg-options-list.xg-side-list{width:20%;height:100%;bottom:0;background:rgba(0,0,0,.9);display:flex;flex-direction:column;box-sizing:border-box}.xgplayer .xg-options-list.xg-side-list li{flex:1;width:100%;padding:0;position:relative}.xgplayer .xg-options-list.xg-side-list li span{display:block;position:relative;top:50%;transform:translateY(-50%);pointer-events:none}.xgplayer .xg-options-list.xg-side-list li:nth-child(1){margin-top:20px}.xgplayer .xg-options-list.xg-side-list li:last-child{margin-bottom:20px}.xgplayer .xg-options-list.xg-right-side{right:-10.5%}.xgplayer .xg-options-list.xg-right-side.active{height:100%;animation:xg_right_options_active .2s ease-out forwards}.xgplayer .xg-options-list.xg-right-side.hide{height:100%;animation:xg_right_options_hide .2s ease-in forwards}.xgplayer .xg-options-list.xg-left-side{left:-10.5%;transform:translate(-50%)}.xgplayer .xg-options-list.xg-left-side.active{height:100%;animation:xg_left_options_active .2s ease-out forwards}.xgplayer .xg-options-list.xg-left-side.hide{height:100%;animation:xg_left_options_hide .2s ease-in forwards}@media only screen and (max-width: 480px){.xgplayer-mobile .xg-options-icon.portrait{display:none}}.xgplayer-replay{display:none}.xgplayer .xgplayer-replay{display:none;position:absolute;left:50%;top:50%;width:100px;height:100px;justify-content:center;align-items:center;flex-direction:column;z-index:5;transform:translate(-50%,-50%);cursor:pointer}.xgplayer .xgplayer-replay .xgplayer-replay-txt{display:inline-block;font-size:14px;color:#fff;line-height:34px;text-align:center}.xgplayer.xgplayer-mobile .xgplayer-replay-svg{width:50px;height:50px}.xgplayer.xgplayer-mobile .xgplayer-replay-txt{line-height:24px;font-size:12px}.xgplayer .xgplayer-poster{display:block;opacity:1;visibility:visible;position:absolute;left:0;top:0;width:100%;height:100%;background-size:cover;background-position:center center;background-size:100% auto;background-repeat:no-repeat;transition:opacity .3s ease,visibility .3s ease;pointer-events:none}.xgplayer .xgplayer-poster.hide,.xgplayer.xgplayer-playing .xgplayer-poster{opacity:0;visibility:hidden}.xgplayer.xgplayer-is-enter .xgplayer-poster.xg-showplay,.xgplayer.xgplayer-playing .xgplayer-poster.xg-showplay,.xgplayer.xgplayer-nostart .xgplayer-poster,.xgplayer.xgplayer-ended .xgplayer-poster,.xgplayer.not-allow-autoplay .xgplayer-poster{opacity:1;visibility:visible}.xgplayer.xgplayer-nostart .xgplayer-poster.hide,.xgplayer.xgplayer-ended .xgplayer-poster.hide,.xgplayer.not-allow-autoplay .xgplayer-poster.hide{opacity:0;visibility:hidden}@keyframes playPause{0%{transform:scale(1);opacity:1}99%{transform:scale(1.3);opacity:0}to{transform:scale(1);opacity:0}}.xgplayer xg-start-inner{display:block;width:100%;height:100%;overflow:hidden;border-radius:50%;background:rgba(0,0,0,.38)}.xgplayer .xgplayer-start{width:70px;height:70px;position:absolute;left:50%;top:50%;z-index:5;transform:translate(-50%,-50%);cursor:pointer}.xgplayer .xgplayer-start svg{width:100%;height:100%}.xgplayer .xgplayer-start.hide,.xgplayer .xgplayer-start.focus-hide{display:none;pointer-events:none}.xgplayer .xgplayer-start:hover{opacity:.85}.xgplayer .xgplayer-start .xg-icon-play{display:block}.xgplayer .xgplayer-start .xg-icon-pause,.xgplayer .xgplayer-start[data-state=pause] .xg-icon-play{display:none}.xgplayer .xgplayer-start[data-state=pause] .xg-icon-pause,.xgplayer .xgplayer-start.interact{display:block}.xgplayer .xgplayer-start.interact xg-start-inner{animation:playPause .4s .1s ease-out forwards}.xgplayer .xgplayer-start.show{display:block}.xgplayer.xgplayer-mobile xg-start-inner{background:initial;border-radius:0}.xgplayer.xgplayer-mobile .xgplayer-start{height:50px;width:50px}.xgplayer.xgplayer-mobile .xgplayer-start:hover{opacity:1}.xgplayer.xgplayer-inactive .xgplayer-start.auto-hide,.xgplayer.xgplayer-is-enter .xgplayer-start.auto-hide,.xgplayer.xgplayer-isloading.xgplayer-playing .xgplayer-start,.xgplayer.xgplayer-is-enter .xgplayer-start,.xgplayer.xgplayer-is-error .xgplayer-start,.xgplayer.xgplayer-is-enter .xgplayer-start.show,.xgplayer.xgplayer-is-error .xgplayer-start.show{display:none}.xgplayer-enter{display:none;position:absolute;left:0;top:0;width:100%;height:100%;background:rgba(0,0,0,.8);z-index:5;pointer-events:none}.xgplayer-enter .show{display:block}.xgplayer-enter .xgplayer-enter-spinner{display:block;position:absolute;z-index:1;left:50%;top:50%;height:100px;width:100px;transform:translate(-50%,-50%)}.xgplayer-enter .xgplayer-enter-spinner div{width:6%;height:13%;background-color:rgba(255,255,255,.7);position:absolute;left:45%;top:45%;opacity:0;border-radius:30px;animation:fade 1s linear infinite}.xgplayer-enter .xgplayer-enter-spinner div.xgplayer-enter-bar1{transform:rotate(0) translateY(-140%);animation-delay:-0s}.xgplayer-enter .xgplayer-enter-spinner div.xgplayer-enter-bar2{transform:rotate(30deg) translateY(-140%);animation-delay:-.9163s}.xgplayer-enter .xgplayer-enter-spinner div.xgplayer-enter-bar3{transform:rotate(60deg) translateY(-140%);animation-delay:-.833s}.xgplayer-enter .xgplayer-enter-spinner div.xgplayer-enter-bar4{transform:rotate(90deg) translateY(-140%);animation-delay:-.7497s}.xgplayer-enter .xgplayer-enter-spinner div.xgplayer-enter-bar5{transform:rotate(120deg) translateY(-140%);animation-delay:-.6664s}.xgplayer-enter .xgplayer-enter-spinner div.xgplayer-enter-bar6{transform:rotate(150deg) translateY(-140%);animation-delay:-.5831s}.xgplayer-enter .xgplayer-enter-spinner div.xgplayer-enter-bar7{transform:rotate(180deg) translateY(-140%);animation-delay:-.4998s}.xgplayer-enter .xgplayer-enter-spinner div.xgplayer-enter-bar8{transform:rotate(210deg) translateY(-140%);animation-delay:-.4165s}.xgplayer-enter .xgplayer-enter-spinner div.xgplayer-enter-bar9{transform:rotate(240deg) translateY(-140%);animation-delay:-.3332s}.xgplayer-enter .xgplayer-enter-spinner div.xgplayer-enter-bar10{transform:rotate(270deg) translateY(-140%);animation-delay:-.2499s}.xgplayer-enter .xgplayer-enter-spinner div.xgplayer-enter-bar11{transform:rotate(300deg) translateY(-140%);animation-delay:-.1666s}.xgplayer-enter .xgplayer-enter-spinner div.xgplayer-enter-bar12{transform:rotate(330deg) translateY(-142%);animation-delay:-.0833s}@keyframes fade{0%{opacity:1}to{opacity:.25}}.xgplayer.xgplayer-is-enter .xgplayer-enter{display:block;opacity:1;transition:opacity .3s}.xgplayer.xgplayer-nostart .xgplayer-enter{display:none}.xgplayer.xgplayer-mobile .xgplayer-enter .xgplayer-enter-spinner{width:70px;height:70px}.xg-mini-layer{display:none;position:absolute;top:0;left:0;width:100%;height:100%;z-index:11;background:linear-gradient(180deg,rgba(57,57,57,.9),rgba(57,57,57,0) 50.27%)}.xg-mini-layer .mask{pointer-events:none;position:absolute;top:0;left:0;height:100%;width:100%;background-color:rgba(0,0,0,.4)}.xg-mini-layer xg-mini-header{display:flex;top:0;left:0;right:40px;box-sizing:border-box;padding:10px 3px 0 8px;justify-content:space-between;color:#fff;font-size:14px;position:absolute;z-index:22}.xg-mini-layer xg-mini-header .xgplayer-pip-disableBtn{pointer-events:all}.xg-mini-layer xg-mini-header #disabledMini{display:none;position:relative}.xg-mini-layer xg-mini-header #disabledMini+label{cursor:pointer;position:relative;display:flex;align-items:center}.xg-mini-layer xg-mini-header #disabledMini+label:before{content:"";color:#ff142b;background-color:transparent;border-radius:2px;border:solid 1px #cdcdcd;width:16px;height:16px;display:inline-block;text-align:center;vertical-align:middle;line-height:16px;margin-right:7px}.xg-mini-layer xg-mini-header #disabledMini:checked+label{color:#ff142b}.xg-mini-layer xg-mini-header #disabledMini:checked+label:before{border-color:#ff142b}.xg-mini-layer xg-mini-header #disabledMini:checked+label:after{content:"";position:absolute;width:4px;height:8px;border-color:#ff142b;border-style:solid;border-width:0px 2px 2px 0px;transform:rotate(45deg);left:6px;top:5px}.xg-mini-layer xg-mini-header .xgplayer-mini-disableBtn xg-tips{position:absolute;padding:4px 6px;white-space:nowrap;bottom:-30px;right:15px;border-radius:4px;background-color:rgba(0,0,0,.54);display:none}.xg-mini-layer xg-mini-header .xgplayer-mini-disableBtn:hover #disabledMini+label:before{border-color:#ff142b}.xg-mini-layer xg-mini-header .xgplayer-mini-disableBtn:hover #disabledMini+label{color:#ff142b}.xg-mini-layer xg-mini-header .xgplayer-mini-disableBtn:hover xg-tips{display:block}.xg-mini-layer .mini-cancel-btn{cursor:pointer;display:block;color:#fff;width:40px;height:38px;position:absolute;right:0;top:0;text-align:center;line-height:38px}.xg-mini-layer .play-icon{cursor:pointer;height:48px;width:48px;position:absolute;background:rgba(0,0,0,.54);border-radius:24px;top:50%;left:50%;margin:-24px 0 0 -24px}.xg-mini-layer .play-icon svg,.xg-mini-layer .play-icon img{width:50px;height:50px;fill:#faf7f7}.xg-mini-layer .xg-icon-play{display:none}.xg-mini-layer .xg-icon-pause,.xg-mini-layer[data-state=pause] .xg-icon-play{display:block}.xg-mini-layer[data-state=pause] .xg-icon-pause{display:none}.xgplayer-miniicon{position:relative;outline:none;display:block}.xgplayer-miniicon .name{text-align:center;font-size:13px;line-height:20px;height:20px;color:rgba(255,255,255,.8);line-height:40px}.xgplayer-miniicon .name span{font-size:13px;width:60px;height:20px;line-height:20px;background:rgba(0,0,0,.38);border-radius:10px;display:inline-block;vertical-align:middle}.xgplayer-mini{position:fixed;width:320px;height:180px;z-index:91;box-shadow:0 4px 7px 2px rgba(0,0,0,.2)}.xgplayer-mini:hover{cursor:move}.xgplayer-mini:hover .xg-mini-layer{display:block}.xgplayer-mini.xgplayer-ended .xg-mini-layer{display:none}.xgplayer-mobile .xg-mini-layer .play-icon{background:none;border-radius:initial}.xgplayer.xgplayer-inactive{cursor:none}.xgplayer xg-thumbnail{display:block}.xgplayer xg-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:absolute;top:0;left:0;height:100%;width:100%}.xgplayer xg-trigger .time-preview{display:none;position:absolute;width:200px;margin:0 auto;padding:0 20px 30px;top:50%;left:50%;transform:translate(-50%,-50%);color:#fff;text-shadow:0 0 1px rgba(0,0,0,.54);font-size:17px;text-align:center;pointer-events:none}.xgplayer xg-trigger .time-preview span{line-height:24px}.xgplayer xg-trigger .time-preview span.xg-cur{color:red}.xgplayer xg-trigger .time-preview .xg-seek-show{transform:translate(-10px)}.xgplayer xg-trigger .time-preview .xg-seek-show.xg-back .xg-seek-pre{transform:rotate(180deg) translate(-5px)}.xgplayer xg-trigger .time-preview .xg-seek-show.hide-seek-icon .xg-seek-icon{display:none}.xgplayer xg-trigger .time-preview .xg-bar{width:96px;height:2px;margin:8px auto 0;border-radius:10px;box-sizing:content-box;background:rgba(255,255,255,.3)}.xgplayer xg-trigger .time-preview .xg-bar .xg-curbar{width:0;height:100%;background-color:red}.xgplayer xg-trigger .time-preview .xg-bar.hide{display:none}.xgplayer xg-trigger .mobile-thumbnail{position:relative;left:50%;transform:translate(-50%)}.xgplayer xg-trigger .xg-top-note{position:absolute;height:32px;width:135px;top:26px;left:50%;margin-left:-78px;background:rgba(0,0,0,.3);border-radius:100px;color:#fff}.xgplayer xg-trigger .xg-top-note span{display:block;line-height:32px;height:32px;font-size:13px;text-align:center}.xgplayer xg-trigger .xg-top-note i{color:red;margin:0 5px}.xgplayer xg-trigger .xg-playbackrate{display:none}.xgplayer xg-trigger[data-xg-action=seeking] .time-preview{display:block}.xgplayer xg-trigger[data-xg-action=playbackrate] .xg-playbackrate{display:block}.xgplayer .gradient{display:none;position:absolute;top:0;left:0;height:100%;width:100%;pointer-events:none;background-image:linear-gradient(rgba(0,0,0,.6),rgba(0,0,0,.36) 20%,rgba(0,0,0,0) 36%,rgba(0,0,0,0) 70%,rgba(0,0,0,.24) 77%,rgba(0,0,0,.36) 83%,rgba(0,0,0,.6))}.xgplayer .gradient.top{background-image:linear-gradient(rgba(0,0,0,.6),rgba(0,0,0,.36) 20%,rgba(0,0,0,0) 36%,rgba(0,0,0,0) 70%)}.xgplayer .gradient.bottom{background-image:linear-gradient(rgba(0,0,0,0) 70%,rgba(0,0,0,.24) 77%,rgba(0,0,0,.36) 83%,rgba(0,0,0,.6))}.xgplayer .gradient.none,.xgplayer-mobile .xgplayer-controls{background-image:initial}.xgplayer-mobile.xgplayer-playing .gradient{display:block}.xgplayer-mobile.xgplayer-inactive .gradient{background-image:initial}.xgplayer-mobile .xgmask{position:absolute;height:100%;z-index:10;top:0;left:0;width:100%;pointer-events:none;background-color:rgba(0,0,0,0)}@media (prefers-color-scheme: dark){.xgplayer-mobile xg-trigger .time-preview{color:#fff}.xgplayer-mobile xg-trigger .time-preview span.xg-cur{color:red}.xgplayer-mobile xg-trigger .time-preview .xg-bar{background-color:rgba(255,255,255,.3)}.xgplayer-mobile xg-trigger .time-preview .xg-bar.xg-curbar{background-color:red}}@keyframes loadingRotate{0%{transform:rotate(0)}25%{transform:rotate(90deg)}50%{transform:rotate(180deg)}75%{transform:rotate(270deg)}to{transform:rotate(360deg)}}@keyframes loadingDashOffset{0%{stroke-dashoffset:236}to{stroke-dashoffset:0}}xg-loading-inner{display:block;height:100%;width:100%;transform-origin:center;animation:loadingRotate 1s .1s linear infinite}.xgplayer-loading{display:none;width:70px;height:70px;overflow:hidden;position:absolute;z-index:10;left:50%;top:50%;transform:translate(-50%,-50%);pointer-events:none}.xgplayer-loading svg,.xgplayer-loading img{width:100%;height:100%}.xgplayer-mobile .xgplayer-loading{width:50px;height:50px}.xgplayer-isloading .xgplayer-loading{display:block}.xgplayer-nostart .xgplayer-loading,.xgplayer-pause .xgplayer-loading,.xgplayer-is-enter .xgplayer-loading,.xgplayer-is-ended .xgplayer-loading,.xgplayer-is-error .xgplayer-loading{display:none}.xgplayer .xgplayer-progress{display:flex;align-items:center;position:relative;min-width:50px;height:12px;left:0;right:0;top:0;outline:none;flex:1;cursor:pointer}.xgplayer .xgplayer-progress-outer{position:relative;width:100%;height:2px;border-radius:3px;cursor:pointer}.xgplayer .progress-list{display:flex;height:100%;width:100%;border-radius:inherit}.xgplayer .xgplayer-progress-inner{position:relative;flex:1;height:100%;background:rgba(255,255,255,.3);transition:height .2s ease-in,opacity .2s ease-out;border-radius:inherit;margin-right:2px;pointer-events:none}.xgplayer .xgplayer-progress-inner:last-child,.xgplayer .xgplayer-progress-inner:only-child{margin-right:0}.xgplayer .inner-focus-point{background:#fff;position:relative}.xgplayer .inner-focus-point:before,.xgplayer .inner-focus-point:after{position:absolute;content:" ";display:block;width:2px;height:300%;top:50%;z-index:1;transform:translateY(-50%);border-radius:3px;background:#fff}.xgplayer .inner-focus-point:before{left:0}.xgplayer .inner-focus-point:after{right:0}.xgplayer .xgplayer-progress-cache,.xgplayer .xgplayer-progress-played{display:block;height:100%;width:0;position:absolute;top:0;left:0;border-radius:inherit}.xgplayer .xgplayer-progress-played{background:linear-gradient(-90deg,#FA1F41 0%,#E31106 100%)}.xgplayer .xgplayer-progress-cache{background:rgba(255,255,255,.5)}.xgplayer .xgplayer-progress-btn{display:block;background:rgba(255,94,94,.304093);border:.5px solid rgba(255,94,94,.056545);box-shadow:0 0 1px rgba(255,0,0,.384);width:20px;height:20px;border-radius:30px;left:0;top:50%;position:absolute;z-index:1;transform:translate(-50%,-50%);box-sizing:border-box;pointer-events:none}.xgplayer .xgplayer-progress-btn:before{content:" ";display:block;position:relative;width:12px;height:12px;left:50%;top:50%;transform:translate(-50%,-50%);border-radius:30px;background:#FFFFFF}.xgplayer .xgplayer-progress-btn.active{border:4px solid rgba(255,94,94,.064057)}.xgplayer .xgplayer-progress-btn.active:before{box-shadow:0 0 3px rgba(248,89,89,.69)}.xgplayer .xgplayer-progress-dot{display:inline-block;position:absolute;height:100%;width:5px;top:0;background:white;border-radius:6px;z-index:16}.xgplayer .xgplayer-progress-dot .xgplayer-progress-tip{position:absolute;left:25%;top:-40px;height:auto;line-height:30px;width:auto;transform:scale(.8) translate(-50%);background:rgba(0,0,0,.3);border-radius:6px;border:1px solid rgba(0,0,0,.8);cursor:default;white-space:nowrap;display:none}.xgplayer .xgplayer-progress-dot:hover .xgplayer-progress-tip{display:block}.xgplayer .flex-controls .xgplayer-progress{transform:translateY(0)}.xgplayer.xgplayer-pc .xgplayer-progress-btn{transform:translate(-50%,-50%) scale(0)}.xgplayer.xgplayer-pc .xgplayer-progress-outer{height:3px}.xgplayer.xgplayer-pc .xgplayer-progress-inner{margin-right:4px}.xgplayer.xgplayer-pc .xgplayer-progress-inner:last-child,.xgplayer.xgplayer-pc .xgplayer-progress-inner:only-child{margin-right:0}.xgplayer.xgplayer-pc .inner-focus-point:before,.xgplayer.xgplayer-pc .inner-focus-point:after{width:3px}.xgplayer.xgplayer-pc .inner-focus-highlight{background:rgba(255,255,255,.8)}.xgplayer.xgplayer-pc .xgplayer-progress.active .xgplayer-progress-outer{height:6px;margin-bottom:3px;transition:height .3s ease,margin-bottom .3s ease}.xgplayer.xgplayer-pc .xgplayer-progress.active .xgplayer-progress-btn{transform:translate(-50%,-50%) scale(1)}.xgplayer.xgplayer-pc .xgplayer-progress.active .inner-focus-point:before,.xgplayer.xgplayer-pc .xgplayer-progress.active .inner-focus-point:after{width:6px}.xgplayer .xgplayer-progress-bottom .xgplayer-progress-outer{top:9px}.xgplayer .xgplayer-progress-bottom .xgplayer-progress-btn:before{height:6px;width:6px}.xgplayer.xgplayer-mobile .xgplayer-progress-bottom .xgplayer-progress-outer{height:4px}@media (prefers-color-scheme: dark){.xgplayer .xgplayer-progress .xgplayer-progress-inner{background-color:rgba(255,255,255,.3)}.xgplayer .xgplayer-progress .inner-focus-highlight{background:rgba(255,255,255,.8)}.xgplayer .xgplayer-progress .xgplayer-progress-btn{background:rgba(255,94,94,.304093);border:.5px solid rgba(255,94,94,.056545);box-shadow:0 0 1px rgba(255,0,0,.384)}.xgplayer .xgplayer-progress .xgplayer-progress-btn:before{background-color:#fff}.xgplayer .xgplayer-progress .xgplayer-progress-played{background-color:linear-gradient(-90deg,#FA1F41 0%,#E31106 100%)}.xgplayer .xgplayer-progress .xgplayer-progress-cache{background-color:rgba(255,255,255,.5)}}.xg-mini-progress{display:none;position:absolute;height:2px;left:0;right:0;bottom:0;pointer-events:none}.xg-mini-progress xg-mini-progress-played,.xg-mini-progress xg-mini-progress-cache{height:100%;width:0;position:absolute;top:0;left:0;border-radius:inherit}.xg-mini-progress xg-mini-progress-played{background:linear-gradient(-90deg,#FA1F41 0%,#E31106 100%)}.xg-mini-progress xg-mini-progress-cache{background:rgba(255,255,255,.5)}.xgplayer-inactive .xg-mini-progress,.xgplayer-mini .xg-mini-progress{display:block}.xgplayer .xgplayer-play .xg-icon-play{display:none}.xgplayer .xgplayer-play .xg-icon-pause,.xgplayer .xgplayer-play[data-state=pause] .xg-icon-play{display:block}.xgplayer .xgplayer-play[data-state=pause] .xg-icon-pause,.xgplayer .xgplayer-fullscreen .xg-exit-fullscreen{display:none}.xgplayer .xgplayer-fullscreen .xg-get-fullscreen,.xgplayer .xgplayer-fullscreen[data-state=full] .xg-exit-fullscreen{display:block}.xgplayer .xgplayer-fullscreen[data-state=full] .xg-get-fullscreen{display:none}.xgplayer .xg-top-bar .xgplayer-back{position:relative;left:0;top:16px;width:34px;height:40px;display:none}.xgplayer .xg-top-bar .xgplayer-back.show{display:block}.xgplayer .xgplayer-time{min-width:40px;font-size:14px;font-family:PingFangSC-Semibold;color:#fff;text-align:center;display:inline-block;line-height:40px}.xgplayer .xgplayer-time span{display:inline-block;line-height:40px;height:40px}.xgplayer .xgplayer-time span .time-min-width{text-align:center;min-width:2ch}.xgplayer .xgplayer-time span .time-min-width:first-child{text-align:right}.xgplayer .xgplayer-time span .time-min-width:last-child{text-align:left}.xgplayer .xgplayer-time .time-duration{color:rgba(255,255,255,.5)}.xgplayer .xgplayer-time .time-live-tag{display:none}.xgplayer .xgplayer-time.xg-time-left{margin-left:0}.xgplayer .xgplayer-time.xg-time-right{margin-right:0}.xgplayer.xgplayer-mobile .xgplayer-time{min-width:30px;font-size:12px}.xgplayer.xgplayer-mobile .xgplayer-time.xg-time-left{margin-right:8px}.xgplayer.xgplayer-mobile .xgplayer-time.xg-time-right{margin-left:8px}.xgplayer .xgplayer-volume.slide-show .xgplayer-slider{display:block}.xgplayer .xgplayer-slider{display:none;position:absolute;width:28px;height:92px;background:rgba(0,0,0,.54);border-radius:1px;bottom:40px;outline:none}.xgplayer .xgplayer-slider:after{content:" ";display:block;height:15px;width:28px;position:absolute;bottom:-15px;left:0;z-index:20;cursor:initial}.xgplayer .xgplayer-value-label{position:absolute;left:0;right:0;bottom:100%;padding:5px 0 0;font-size:12px;background-color:rgba(0,0,0,.54);color:#fff;text-align:center}.xgplayer .xgplayer-bar,.xgplayer .xgplayer-drag{display:block;position:absolute;bottom:6px;left:12px;background:rgba(255,255,255,.3);border-radius:100px;width:4px;height:76px;outline:none;cursor:pointer}.xgplayer .xgplayer-drag{bottom:0;left:0;background:#FA1F41;max-height:76px}.xgplayer .xgplayer-drag:after{content:" ";display:inline-block;width:8px;height:8px;background:#fff;box-shadow:0 0 5px rgba(0,0,0,.26);position:absolute;border-radius:50%;left:-2px;top:-4px}.xgplayer .xgplayer-volume[data-state=normal] .xg-volume{display:block}.xgplayer .xgplayer-volume[data-state=normal] .xg-volume-small,.xgplayer .xgplayer-volume[data-state=normal] .xg-volume-mute,.xgplayer .xgplayer-volume[data-state=small] .xg-volume{display:none}.xgplayer .xgplayer-volume[data-state=small] .xg-volume-small{display:block}.xgplayer .xgplayer-volume[data-state=small] .xg-volume-mute,.xgplayer .xgplayer-volume[data-state=mute] .xg-volume,.xgplayer .xgplayer-volume[data-state=mute] .xg-volume-small{display:none}.xgplayer .xgplayer-volume[data-state=mute] .xg-volume-mute{display:block}.xgplayer.xgplayer-mobile .xgplayer-volume .xgplayer-slider,.xgplayer .xgplayer-pip .xg-exit-pip{display:none}.xgplayer .xgplayer-pip .xg-get-pip,.xgplayer .xgplayer-pip[data-state=pip] .xg-exit-pip{display:block}.xgplayer .xgplayer-pip[data-state=pip] .xg-get-pip{display:none}.xgplayer .xgplayer-playnext{position:relative;display:none;cursor:pointer}.xgplayer .xgplayer-playnext .xgplayer-tips .xgplayer-tip-playnext{display:block}.xgplayer .xgplayer-playnext:hover{opacity:.85}.xgplayer .xgplayer-playnext:hover .xgplayer-tips{display:block}.lang-is-en .xgplayer-playnext .xgplayer-tips{margin-left:-25px}.lang-is-jp .xgplayer-playnext .xgplayer-tips{margin-left:-38px}.xgplayer .xgplayer-download{position:relative;display:block;cursor:pointer}.lang-is-en .xgplayer-download .xgplayer-tips{margin-left:-32px}.lang-is-jp .xgplayer-download .xgplayer-tips{margin-left:-40px}.xgplayer .xgplayer-shot{display:none}.xgplayer-definition{display:none;cursor:pointer}.xgplayer .xgplayer-playbackrate{display:none;cursor:default}.xgplayer .xgplayer-cssfullscreen .xg-get-cssfull{display:block}.xgplayer .xgplayer-cssfullscreen .xg-exit-cssfull,.xgplayer .xgplayer-cssfullscreen[data-state=full] .xg-get-cssfull{display:none}.xgplayer .xgplayer-cssfullscreen[data-state=full] .xg-exit-cssfull{display:block}.xgplayer-error{background:#000;display:none;position:absolute;left:0;top:0;width:100%;height:100%;z-index:6;color:#fff;text-align:center;line-height:100%;justify-content:center;align-items:center}.xgplayer-error .xgplayer-error-refresh{color:#fa1f41;padding:0 3px;cursor:pointer}.xgplayer-error .xgplayer-error-text{line-height:18px;margin:auto 6px 20px;display:block}.xgplayer-is-error .xgplayer-error{display:flex}.xgplayer .xgplayer-prompt{display:block;pointer-events:none;position:absolute;z-index:1;padding:6px 12px 5px;opacity:0;left:10px;background:rgba(0,0,0,.5);border-radius:50px;font-size:12px;line-height:17px;text-align:center;color:#fff}.xgplayer .xgplayer-prompt.show{display:block;opacity:1;z-index:10;pointer-events:initial}.xgplayer .xgplayer-prompt.arrow{transform:translate(-50%)}.xgplayer .xgplayer-prompt.arrow:after{content:"";display:block;position:absolute;left:50%;bottom:0;width:0;height:0;border-left:6px solid transparent;border-right:6px solid transparent;border-top:8px solid rgba(0,0,0,.5);transform:translate(-50%,100%)}.xgplayer .xgplayer-prompt .highlight{display:inline-block;margin-left:6px;color:red;cursor:pointer}.xgplayer.xgplayer-is-error .xgplayer-prompt.show{display:none;opacity:1}.xgplayer .xgplayer-spot{position:absolute;top:0;left:0;height:100%;background:#fff;border-radius:12px}.xgplayer .xgplayer-spot.mini{min-width:6px;transform:translate(-50%)}.xgplayer .xgplayer-spot.active .xgplayer-spot-pop{display:block;opacity:1;pointer-events:initial}.xgplayer .xgplayer-spot-pop{display:block;opacity:0;pointer-events:none;position:absolute;left:50%;bottom:5px;padding-bottom:5px;transform:translate(-50%)}.xgplayer-mobile .xgplayer-spot{height:3px;min-width:3px;top:50%;opacity:1;transform:translateY(-50%)}.xgplayer-mobile .xgplayer-spot.mini{min-width:3px;transform:translate(-50%,-50%)}.xgplayer .xgplayer-progress.active .xgplayer-spot{opacity:1;transition:opacity .3s;visibility:visible}.xgplayer .xg-spot-info{position:absolute;left:0;bottom:100%;display:none}.xgplayer .xg-spot-info.short-line .xg-spot-line{height:6px}.xgplayer .xg-spot-info.short-line .xg-spot-content{bottom:-4px}.xgplayer .xg-spot-info.no-thumbnail .xg-spot-thumbnail{display:none}.xgplayer .xg-spot-info.no-thumbnail .xgplayer-progress-point{display:block}.xgplayer .xg-spot-info.no-timepoint .xgplayer-progress-point,.xgplayer .xg-spot-info.hide{display:none}.xgplayer .xgplayer-progress.active .xg-spot-info{display:block}.xgplayer .xgplayer-progress.active .xg-spot-info.hide{display:none}.xgplayer .xg-spot-line{position:relative;bottom:-7px;margin-left:50%;display:block;width:1px;height:41px;background-color:#fff;pointer-events:none}.xgplayer .xgplayer-progress-point{display:none;position:relative;bottom:-4px;left:50%;transform:translate(-50%);background:rgba(0,0,0,.54);font-size:11px;color:#fff;padding:4px 6px;border-radius:4px;text-align:center;opacity:.85;white-space:nowrap}.xgplayer .xg-spot-content{position:relative;bottom:-7px;color:#fff;border-radius:2px 2px 0 0}.xgplayer .xg-spot-ext-text{position:relative;bottom:-7px}.xgplayer .xg-spot-thumbnail{position:relative;background-color:#111010;pointer-events:none;border-radius:2px 2px 0 0}.xgplayer .xg-spot-time{position:absolute;bottom:2px;font-size:12px;line-height:16.8px;left:50%;transform:translate(-50%);pointer-events:none}.xgplayer .progress-thumbnail{margin:0 auto;display:block}.xgplayer .xg-spot-text{display:none;padding:5px 8px;background:rgba(0,0,0,.8);border-radius:0 0 2px 2px;pointer-events:none;box-sizing:border-box}.xgplayer .spot-inner-text{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;line-height:20px;font-size:12px;max-height:40px}.xgplayer .xg-spot-content.show-text .xg-spot-text{display:block}.xgplayer .product .xg-spot-text{background:#3370FF}.xgplayer .product .xg-spot-line{border-left:10px solid transparent;border-right:10px solid transparent;border-top:7px solid #3370FF;width:0;height:15px;left:-10px;background:none}.xgplayer .xgvideo-preview{position:absolute;width:100%;height:100%;top:0;left:0;opacity:0;visibility:hidden;transition:visibility .3s,opacity .3s;background-color:#000}.xgplayer .xgvideo-preview .xgvideo-thumbnail{position:relative;top:50%;left:50%;transform:translate(-50%,-50%);border-radius:0}.xgplayer .xgvideo-preview.show{opacity:1;visibility:visible}.xgplayer-dynamic-bg,.xgplayer-dynamic-bg canvas,.xgplayer-dynamic-bg xgmask,.xgplayer-dynamic-bg xgfilter{display:block;position:absolute;top:0;left:0;height:100%;width:100%;pointer-events:none}.xgplayer-dynamic-bg canvas{transform:translateZ(0)}.xgplayer-dynamic-bg xgmask{background:rgba(0,0,0,.7)}.container[data-v-a04d8a29]{display:flex;flex-direction:column;flex-wrap:nowrap;align-items:center}.video[data-v-a04d8a29]{width:95%;max-width:1000px;border-radius:10px;margin-bottom:40px}#player[data-v-a04d8a29]{border-radius:10px}.outer[data-v-a04d8a29]{width:95%;max-width:1000px;max-height:792px;overflow:auto;position:relative}.placeholder[data-v-a04d8a29]{width:100%;background-image:linear-gradient(90deg,#F0F2F5,#e9effa 10%,#F0F2F5)}.viewWindow[data-v-a04d8a29]{max-height:1320px;overflow:hidden;position:absolute;top:0}\n',document.head.appendChild(r);var F={exports:{}};!function(e,t){e.exports=function(){var e=1e3,t=6e4,n=36e5,r="millisecond",o="second",a="minute",s="hour",l="day",u="week",c="month",h="quarter",f="year",p="date",d="Invalid Date",g=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},m=function(e,t,n){var i=String(e);return!i||i.length>=t?e:""+Array(t+1-i.length).join(n)+e},x={s:m,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),i=Math.floor(n/60),r=n%60;return(t<=0?"+":"-")+m(i,2,"0")+":"+m(r,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var i=12*(n.year()-t.year())+(n.month()-t.month()),r=t.clone().add(i,c),o=n-r<0,a=t.clone().add(i+(o?-1:1),c);return+(-(i+(n-r)/(o?r-a:a-r))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:f,w:u,d:l,D:p,h:s,m:a,s:o,ms:r,Q:h}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},b="en",k={};k[b]=v;var w="$isDayjsObject",C=function(e){return e instanceof E||!(!e||!e[w])},_=function e(t,n,i){var r;if(!t)return b;if("string"==typeof t){var o=t.toLowerCase();k[o]&&(r=o),n&&(k[o]=n,r=o);var a=t.split("-");if(!r&&a.length>1)return e(a[0])}else{var s=t.name;k[s]=t,r=s}return!i&&r&&(b=r),r||!i&&b},T=function(e,t){if(C(e))return e.clone();var n="object"==i(t)?t:{};return n.date=e,n.args=arguments,new E(n)},S=x;S.l=_,S.i=C,S.w=function(e,t){return T(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var E=function(){function i(e){this.$L=_(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[w]=!0}var v=i.prototype;return v.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(S.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var i=t.match(g);if(i){var r=i[2]-1||0,o=(i[7]||"0").substring(0,3);return n?new Date(Date.UTC(i[1],r,i[3]||1,i[4]||0,i[5]||0,i[6]||0,o)):new Date(i[1],r,i[3]||1,i[4]||0,i[5]||0,i[6]||0,o)}}return new Date(t)}(e),this.init()},v.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},v.$utils=function(){return S},v.isValid=function(){return!(this.$d.toString()===d)},v.isSame=function(e,t){var n=T(e);return this.startOf(t)<=n&&n<=this.endOf(t)},v.isAfter=function(e,t){return T(e)<this.startOf(t)},v.isBefore=function(e,t){return this.endOf(t)<T(e)},v.$g=function(e,t,n){return S.u(e)?this[t]:this.set(n,e)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(e,t){var n=this,i=!!S.u(t)||t,r=S.p(e),h=function(e,t){var r=S.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return i?r:r.endOf(l)},d=function(e,t){return S.w(n.toDate()[e].apply(n.toDate("s"),(i?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},g=this.$W,y=this.$M,v=this.$D,m="set"+(this.$u?"UTC":"");switch(r){case f:return i?h(1,0):h(31,11);case c:return i?h(1,y):h(0,y+1);case u:var x=this.$locale().weekStart||0,b=(g<x?g+7:g)-x;return h(i?v-b:v+(6-b),y);case l:case p:return d(m+"Hours",0);case s:return d(m+"Minutes",1);case a:return d(m+"Seconds",2);case o:return d(m+"Milliseconds",3);default:return this.clone()}},v.endOf=function(e){return this.startOf(e,!1)},v.$set=function(e,t){var n,i=S.p(e),u="set"+(this.$u?"UTC":""),h=(n={},n[l]=u+"Date",n[p]=u+"Date",n[c]=u+"Month",n[f]=u+"FullYear",n[s]=u+"Hours",n[a]=u+"Minutes",n[o]=u+"Seconds",n[r]=u+"Milliseconds",n)[i],d=i===l?this.$D+(t-this.$W):t;if(i===c||i===f){var g=this.clone().set(p,1);g.$d[h](d),g.init(),this.$d=g.set(p,Math.min(this.$D,g.daysInMonth())).$d}else h&&this.$d[h](d);return this.init(),this},v.set=function(e,t){return this.clone().$set(e,t)},v.get=function(e){return this[S.p(e)]()},v.add=function(i,r){var h,p=this;i=Number(i);var d=S.p(r),g=function(e){var t=T(p);return S.w(t.date(t.date()+Math.round(e*i)),p)};if(d===c)return this.set(c,this.$M+i);if(d===f)return this.set(f,this.$y+i);if(d===l)return g(1);if(d===u)return g(7);var y=(h={},h[a]=t,h[s]=n,h[o]=e,h)[d]||1,v=this.$d.getTime()+i*y;return S.w(v,this)},v.subtract=function(e,t){return this.add(-1*e,t)},v.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||d;var i=e||"YYYY-MM-DDTHH:mm:ssZ",r=S.z(this),o=this.$H,a=this.$m,s=this.$M,l=n.weekdays,u=n.months,c=n.meridiem,h=function(e,n,r,o){return e&&(e[n]||e(t,i))||r[n].slice(0,o)},f=function(e){return S.s(o%12||12,e,"0")},p=c||function(e,t,n){var i=e<12?"AM":"PM";return n?i.toLowerCase():i};return i.replace(y,(function(e,i){return i||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return S.s(t.$y,4,"0");case"M":return s+1;case"MM":return S.s(s+1,2,"0");case"MMM":return h(n.monthsShort,s,u,3);case"MMMM":return h(u,s);case"D":return t.$D;case"DD":return S.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return h(n.weekdaysMin,t.$W,l,2);case"ddd":return h(n.weekdaysShort,t.$W,l,3);case"dddd":return l[t.$W];case"H":return String(o);case"HH":return S.s(o,2,"0");case"h":return f(1);case"hh":return f(2);case"a":return p(o,a,!0);case"A":return p(o,a,!1);case"m":return String(a);case"mm":return S.s(a,2,"0");case"s":return String(t.$s);case"ss":return S.s(t.$s,2,"0");case"SSS":return S.s(t.$ms,3,"0");case"Z":return r}return null}(e)||r.replace(":","")}))},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(i,r,p){var d,g=this,y=S.p(r),v=T(i),m=(v.utcOffset()-this.utcOffset())*t,x=this-v,b=function(){return S.m(g,v)};switch(y){case f:d=b()/12;break;case c:d=b();break;case h:d=b()/3;break;case u:d=(x-m)/6048e5;break;case l:d=(x-m)/864e5;break;case s:d=x/n;break;case a:d=x/t;break;case o:d=x/e;break;default:d=x}return p?d:S.a(d)},v.daysInMonth=function(){return this.endOf(c).$D},v.$locale=function(){return k[this.$L]},v.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),i=_(e,t,!0);return i&&(n.$L=i),n},v.clone=function(){return S.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},i}(),P=E.prototype;return T.prototype=P,[["$ms",r],["$s",o],["$m",a],["$H",s],["$W",l],["$M",c],["$y",f],["$D",p]].forEach((function(e){P[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),T.extend=function(e,t){return e.$i||(e(t,E,T),e.$i=!0),T},T.locale=_,T.isDayjs=C,T.unix=function(e){return T(1e3*e)},T.en=k[b],T.Ls=k,T.p={},T}()}(F);var j=a(F.exports),H=v({compatConfig:{MODE:3},name:"AComment",props:{actions:Array,author:h.any,avatar:h.any,content:h.any,prefixCls:String,datetime:h.any},slots:["actions","author","avatar","content","datetime"],setup:function(e,t){var n=t.slots,i=l("comment",e),r=i.prefixCls,o=i.direction,a=function(e,t){return m("div",{class:"".concat(e,"-nested")},[t])},s=function(e){return e&&e.length?e.map((function(e,t){return m("li",{key:"action-".concat(t)},[e])})):null};return function(){var t,i,l,h,f,p,d,g,y,v,x,b=r.value,k=null!==(t=e.actions)&&void 0!==t?t:null===(i=n.actions)||void 0===i?void 0:i.call(n),w=null!==(l=e.author)&&void 0!==l?l:null===(h=n.author)||void 0===h?void 0:h.call(n),C=null!==(f=e.avatar)&&void 0!==f?f:null===(p=n.avatar)||void 0===p?void 0:p.call(n),_=null!==(d=e.content)&&void 0!==d?d:null===(g=n.content)||void 0===g?void 0:g.call(n),T=null!==(y=e.datetime)&&void 0!==y?y:null===(v=n.datetime)||void 0===v?void 0:v.call(n),S=m("div",{class:"".concat(b,"-avatar")},["string"==typeof C?m("img",{src:C,alt:"comment-avatar"},null):C]),E=k?m("ul",{class:"".concat(b,"-actions")},[s(Array.isArray(k)?k:[k])]):null,P=m("div",{class:"".concat(b,"-content-author")},[w&&m("span",{class:"".concat(b,"-content-author-name")},[w]),T&&m("span",{class:"".concat(b,"-content-author-time")},[T])]),A=m("div",{class:"".concat(b,"-content")},[P,m("div",{class:"".concat(b,"-content-detail")},[_]),E]),L=m("div",{class:"".concat(b,"-inner")},[S,A]),I=u(null===(x=n.default)||void 0===x?void 0:x.call(n));return m("div",{class:[b,c({},"".concat(b,"-rtl"),"rtl"===o.value)]},[L,I&&I.length?a(b,I):null])}}}),U=s(H),B={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.9 490.3c3.6-12 5.4-24.4 5.4-37 0-28.3-9.3-55.5-26.1-77.7 3.6-12 5.4-24.4 5.4-37 0-28.3-9.3-55.5-26.1-77.7 3.6-12 5.4-24.4 5.4-37 0-51.6-30.7-98.1-78.3-118.4a66.1 66.1 0 00-26.5-5.4H273v428h.3l85.8 310.8C372.9 889 418.9 924 470.9 924c29.7 0 57.4-11.8 77.9-33.4 20.5-21.5 31-49.7 29.5-79.4l-6-122.9h239.9c12.1 0 23.9-3.2 34.3-9.3 40.4-23.5 65.5-66.1 65.5-111 0-28.3-9.3-55.5-26.1-77.7zM112 132v364c0 17.7 14.3 32 32 32h65V100h-65c-17.7 0-32 14.3-32 32z"}}]},name:"dislike",theme:"filled"};function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){V(e,t,n[t])}))}return e}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var G=function(e,t){var n=z({},e,t.attrs);return m(f,z({},n,{icon:B}),null)};G.displayName="DislikeFilled",G.inheritAttrs=!1;var W=G,Y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.9 490.3c3.6-12 5.4-24.4 5.4-37 0-28.3-9.3-55.5-26.1-77.7 3.6-12 5.4-24.4 5.4-37 0-28.3-9.3-55.5-26.1-77.7 3.6-12 5.4-24.4 5.4-37 0-51.6-30.7-98.1-78.3-118.4a66.1 66.1 0 00-26.5-5.4H144c-17.7 0-32 14.3-32 32v364c0 17.7 14.3 32 32 32h129.3l85.8 310.8C372.9 889 418.9 924 470.9 924c29.7 0 57.4-11.8 77.9-33.4 20.5-21.5 31-49.7 29.5-79.4l-6-122.9h239.9c12.1 0 23.9-3.2 34.3-9.3 40.4-23.5 65.5-66.1 65.5-111 0-28.3-9.3-55.5-26.1-77.7zM184 456V172h81v284h-81zm627.2 160.4H496.8l9.6 198.4c.6 11.9-4.7 23.1-14.6 30.5-6.1 4.5-13.6 6.8-21.1 6.7a44.28 44.28 0 01-42.2-32.3L329 459.2V172h415.4a56.85 56.85 0 0133.6 51.8c0 9.7-2.3 18.9-6.9 27.3l-13.9 25.4 21.9 19a56.76 56.76 0 0119.6 43c0 9.7-2.3 18.9-6.9 27.3l-13.9 25.4 21.9 19a56.76 56.76 0 0119.6 43c0 9.7-2.3 18.9-6.9 27.3l-14 25.5 21.9 19a56.76 56.76 0 0119.6 43c0 19.1-11 37.5-28.8 48.4z"}}]},name:"dislike",theme:"outlined"};function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){$(e,t,n[t])}))}return e}function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var X=function(e,t){var n=K({},e,t.attrs);return m(f,K({},n,{icon:Y}),null)};X.displayName="DislikeOutlined",X.inheritAttrs=!1;var q=X,J={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.9 533.7c16.8-22.2 26.1-49.4 26.1-77.7 0-44.9-25.1-87.4-65.5-111.1a67.67 67.67 0 00-34.3-9.3H572.4l6-122.9c1.4-29.7-9.1-57.9-29.5-79.4A106.62 106.62 0 00471 99.9c-52 0-98 35-111.8 85.1l-85.9 311h-.3v428h472.3c9.2 0 18.2-1.8 26.5-5.4 47.6-20.3 78.3-66.8 78.3-118.4 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7-.2-12.6-2-25.1-5.6-37.1zM112 528v364c0 17.7 14.3 32 32 32h65V496h-65c-17.7 0-32 14.3-32 32z"}}]},name:"like",theme:"filled"};function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){Q(e,t,n[t])}))}return e}function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ee=function(e,t){var n=Z({},e,t.attrs);return m(f,Z({},n,{icon:J}),null)};ee.displayName="LikeFilled",ee.inheritAttrs=!1;var te=ee,ne={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.9 533.7c16.8-22.2 26.1-49.4 26.1-77.7 0-44.9-25.1-87.4-65.5-111.1a67.67 67.67 0 00-34.3-9.3H572.4l6-122.9c1.4-29.7-9.1-57.9-29.5-79.4A106.62 106.62 0 00471 99.9c-52 0-98 35-111.8 85.1l-85.9 311H144c-17.7 0-32 14.3-32 32v364c0 17.7 14.3 32 32 32h601.3c9.2 0 18.2-1.8 26.5-5.4 47.6-20.3 78.3-66.8 78.3-118.4 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7-.2-12.6-2-25.1-5.6-37.1zM184 852V568h81v284h-81zm636.4-353l-21.9 19 13.9 25.4a56.2 56.2 0 016.9 27.3c0 16.5-7.2 32.2-19.6 43l-21.9 19 13.9 25.4a56.2 56.2 0 016.9 27.3c0 16.5-7.2 32.2-19.6 43l-21.9 19 13.9 25.4a56.2 56.2 0 016.9 27.3c0 22.4-13.2 42.6-33.6 51.8H329V564.8l99.5-360.5a44.1 44.1 0 0142.2-32.3c7.6 0 15.1 2.2 21.1 6.7 9.9 7.4 15.2 18.6 14.6 30.5l-9.6 198.4h314.4C829 418.5 840 436.9 840 456c0 16.5-7.2 32.1-19.6 43z"}}]},name:"like",theme:"outlined"};function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){re(e,t,n[t])}))}return e}function re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var oe=function(e,t){var n=ie({},e,t.attrs);return m(f,ie({},n,{icon:ne}),null)};oe.displayName="LikeOutlined",oe.inheritAttrs=!1;var ae=oe,se={exports:{}};!function(e,t){e.exports=function(e,t,n){e=e||{};var i=t.prototype,r={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function o(e,t,n,r){return i.fromToBase(e,t,n,r)}n.en.relativeTime=r,i.fromToBase=function(t,i,o,a,s){for(var l,u,c,h=o.$locale().relativeTime||r,f=e.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],p=f.length,d=0;d<p;d+=1){var g=f[d];g.d&&(l=a?n(t).diff(o,g.d,!0):o.diff(t,g.d,!0));var y=(e.rounding||Math.round)(Math.abs(l));if(c=l>0,y<=g.r||!g.r){y<=1&&d>0&&(g=f[d-1]);var v=h[g.l];s&&(y=s(""+y)),u="string"==typeof v?v.replace("%d",y):v(y,i,g.l,c);break}}if(i)return u;var m=c?h.future:h.past;return"function"==typeof m?m(u):m.replace("%s",u)},i.to=function(e,t){return o(e,t,this,!0)},i.from=function(e,t){return o(e,t,this)};var a=function(e){return e.$u?n.utc():n()};i.toNow=function(e){return this.to(a(this),e)},i.fromNow=function(e){return this.from(a(this),e)}}}(se);var le=a(se.exports);j.extend(le);var ue=v({components:{LikeFilled:te,LikeOutlined:ae,DislikeFilled:W,DislikeOutlined:q},setup:function(){var e=x(0),t=x(0),n=x();return{likes:e,dislikes:t,action:n,like:function(){e.value=1,t.value=0,n.value="liked"},dislike:function(){e.value=0,t.value=1,n.value="disliked"},dayjs:j}}}),ce=function(e){return P("data-v-5cdac874"),e=e(),A(),e},he={key:"comment-basic-like"},fe={style:{"padding-left":"8px",cursor:"auto"}},pe={key:"comment-basic-dislike"},de={style:{"padding-left":"8px",cursor:"auto"}},ge=ce((function(){return S("span",{key:"comment-basic-reply-to"},"Reply to",-1)})),ye=ce((function(){return S("div",{class:"avatar"},[S("img",{class:"avatar-img",src:"/imitate-bili/bilibili.png"})],-1)}));var ve,me,xe=b(ue,[["render",function(e,t,n,i,r,o){var a=k("LikeFilled"),s=k("LikeOutlined"),l=g,u=k("DislikeFilled"),c=k("DislikeOutlined"),h=U;return w(),C(h,null,{actions:_((function(){return[S("span",he,[m(l,{title:"Like"},{default:_((function(){return["liked"===e.action?(w(),C(a,{key:0,onClick:e.like},null,8,["onClick"])):(w(),C(s,{key:1,onClick:e.like},null,8,["onClick"]))]})),_:1}),S("span",fe,T(e.likes),1)]),S("span",pe,[m(l,{title:"Dislike"},{default:_((function(){return["disliked"===e.action?(w(),C(u,{key:0,onClick:e.dislike},null,8,["onClick"])):(w(),C(c,{key:1,onClick:e.dislike},null,8,["onClick"]))]})),_:1}),S("span",de,T(e.dislikes),1)]),ge]})),author:_((function(){return[E(e.$slots,"author",{},void 0,!0)]})),avatar:_((function(){return[ye]})),content:_((function(){return[E(e.$slots,"default",{},void 0,!0),E(e.$slots,"content",{},void 0,!0)]})),datetime:_((function(){return[m(l,{title:e.dayjs().format("YYYY-MM-DD HH:mm:ss")},{default:_((function(){return[S("span",null,T(e.dayjs().fromNow()),1)]})),_:1},8,["title"])]})),_:3})}],["__scopeId","data-v-5cdac874"]]),be={exports:{}},ke={};function we(){if(me)return ve;me=1;var e=function(e){return e&&e.Math===Math&&e};return ve=e("object"==("undefined"==typeof globalThis?"undefined":i(globalThis))&&globalThis)||e("object"==("undefined"==typeof window?"undefined":i(window))&&window)||e("object"==("undefined"==typeof self?"undefined":i(self))&&self)||e("object"==i(o)&&o)||e("object"==i(o)&&o)||function(){return this}()||Function("return this")()}var Ce,_e,Te,Se,Ee,Pe,Ae,Le,Ie={};function Oe(){return _e?Ce:(_e=1,Ce=function(e){try{return!!e()}catch(t){return!0}})}function Re(){if(Se)return Te;Se=1;var e=Oe();return Te=!e((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))}function De(){if(Pe)return Ee;Pe=1;var e=Oe();return Ee=!e((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))}function Me(){if(Le)return Ae;Le=1;var e=De(),t=Function.prototype.call;return Ae=e?t.bind(t):function(){return t.apply(t,arguments)},Ae}var Ne,Fe,je,He,Ue,Be,ze,Ve,Ge,We,Ye,Ke,$e,Xe,qe,Je,Ze,Qe,et,tt,nt,it,rt,ot,at,st,lt,ut,ct,ht,ft,pt,dt,gt,yt,vt,mt,xt,bt,kt,wt,Ct,_t,Tt={};function St(){if(Ne)return Tt;Ne=1;var e={}.propertyIsEnumerable,t=Object.getOwnPropertyDescriptor,n=t&&!e.call({1:2},1);return Tt.f=n?function(e){var n=t(this,e);return!!n&&n.enumerable}:e,Tt}function Et(){return je?Fe:(je=1,Fe=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}})}function Pt(){if(Ue)return He;Ue=1;var e=De(),t=Function.prototype,n=t.call,i=e&&t.bind.bind(n,n);return He=e?i:function(e){return function(){return n.apply(e,arguments)}},He}function At(){if(ze)return Be;ze=1;var e=Pt(),t=e({}.toString),n=e("".slice);return Be=function(e){return n(t(e),8,-1)}}function Lt(){if(Ge)return Ve;Ge=1;var e=Pt(),t=Oe(),n=At(),i=Object,r=e("".split);return Ve=t((function(){return!i("z").propertyIsEnumerable(0)}))?function(e){return"String"===n(e)?r(e,""):i(e)}:i}function It(){return Ye?We:(Ye=1,We=function(e){return null==e})}function Ot(){if($e)return Ke;$e=1;var e=It(),t=TypeError;return Ke=function(n){if(e(n))throw new t("Can't call method on "+n);return n}}function Rt(){if(qe)return Xe;qe=1;var e=Lt(),t=Ot();return Xe=function(n){return e(t(n))}}function Dt(){if(Ze)return Je;Ze=1;var e="object"==("undefined"==typeof document?"undefined":i(document))&&document.all;return Je={all:e,IS_HTMLDDA:void 0===e&&void 0!==e}}function Mt(){if(et)return Qe;et=1;var e=Dt(),t=e.all;return Qe=e.IS_HTMLDDA?function(e){return"function"==typeof e||e===t}:function(e){return"function"==typeof e}}function Nt(){if(nt)return tt;nt=1;var e=Mt(),t=Dt(),n=t.all;return tt=t.IS_HTMLDDA?function(t){return"object"==i(t)?null!==t:e(t)||t===n}:function(t){return"object"==i(t)?null!==t:e(t)}}function Ft(){if(rt)return it;rt=1;var e=we(),t=Mt();return it=function(n,i){return arguments.length<2?(r=e[n],t(r)?r:void 0):e[n]&&e[n][i];var r},it}function jt(){if(at)return ot;at=1;var e=Pt();return ot=e({}.isPrototypeOf)}function Ht(){return lt?st:(lt=1,st="undefined"!=typeof navigator&&String(navigator.userAgent)||"")}function Ut(){if(ct)return ut;ct=1;var e,t,n=we(),i=Ht(),r=n.process,o=n.Deno,a=r&&r.versions||o&&o.version,s=a&&a.v8;return s&&(t=(e=s.split("."))[0]>0&&e[0]<4?1:+(e[0]+e[1])),!t&&i&&(!(e=i.match(/Edge\/(\d+)/))||e[1]>=74)&&(e=i.match(/Chrome\/(\d+)/))&&(t=+e[1]),ut=t}function Bt(){if(ft)return ht;ft=1;var e=Ut(),t=Oe(),n=we().String;return ht=!!Object.getOwnPropertySymbols&&!t((function(){var t=Symbol("symbol detection");return!n(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&e&&e<41}))}function zt(){if(dt)return pt;dt=1;var e=Bt();return pt=e&&!Symbol.sham&&"symbol"==i(Symbol.iterator)}function Vt(){if(yt)return gt;yt=1;var e=Ft(),t=Mt(),n=jt(),r=zt(),o=Object;return gt=r?function(e){return"symbol"==i(e)}:function(i){var r=e("Symbol");return t(r)&&n(r.prototype,o(i))}}function Gt(){if(mt)return vt;mt=1;var e=String;return vt=function(t){try{return e(t)}catch(n){return"Object"}}}function Wt(){if(bt)return xt;bt=1;var e=Mt(),t=Gt(),n=TypeError;return xt=function(i){if(e(i))return i;throw new n(t(i)+" is not a function")}}function Yt(){if(wt)return kt;wt=1;var e=Wt(),t=It();return kt=function(n,i){var r=n[i];return t(r)?void 0:e(r)}}function Kt(){if(_t)return Ct;_t=1;var e=Me(),t=Mt(),n=Nt(),i=TypeError;return Ct=function(r,o){var a,s;if("string"===o&&t(a=r.toString)&&!n(s=e(a,r)))return s;if(t(a=r.valueOf)&&!n(s=e(a,r)))return s;if("string"!==o&&t(a=r.toString)&&!n(s=e(a,r)))return s;throw new i("Can't convert object to primitive value")}}var $t,Xt,qt,Jt,Zt,Qt,en,tn,nn,rn,on,an,sn,ln,un,cn,hn,fn,pn,dn,gn,yn,vn,mn,xn={exports:{}};function bn(){return Xt?$t:(Xt=1,$t=!1)}function kn(){if(Jt)return qt;Jt=1;var e=we(),t=Object.defineProperty;return qt=function(n,i){try{t(e,n,{value:i,configurable:!0,writable:!0})}catch(r){e[n]=i}return i}}function wn(){if(Qt)return Zt;Qt=1;var e=we(),t=kn(),n="__core-js_shared__",i=e[n]||t(n,{});return Zt=i}function Cn(){if(en)return xn.exports;en=1;var e=bn(),t=wn();return(xn.exports=function(e,n){return t[e]||(t[e]=void 0!==n?n:{})})("versions",[]).push({version:"3.34.0",mode:e?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.34.0/LICENSE",source:"https://github.com/zloirock/core-js"}),xn.exports}function _n(){if(nn)return tn;nn=1;var e=Ot(),t=Object;return tn=function(n){return t(e(n))}}function Tn(){if(on)return rn;on=1;var e=Pt(),t=_n(),n=e({}.hasOwnProperty);return rn=Object.hasOwn||function(e,i){return n(t(e),i)}}function Sn(){if(sn)return an;sn=1;var e=Pt(),t=0,n=Math.random(),i=e(1..toString);return an=function(e){return"Symbol("+(void 0===e?"":e)+")_"+i(++t+n,36)}}function En(){if(un)return ln;un=1;var e=we(),t=Cn(),n=Tn(),i=Sn(),r=Bt(),o=zt(),a=e.Symbol,s=t("wks"),l=o?a.for||a:a&&a.withoutSetter||i;return ln=function(e){return n(s,e)||(s[e]=r&&n(a,e)?a[e]:l("Symbol."+e)),s[e]}}function Pn(){if(hn)return cn;hn=1;var e=Me(),t=Nt(),n=Vt(),i=Yt(),r=Kt(),o=En(),a=TypeError,s=o("toPrimitive");return cn=function(o,l){if(!t(o)||n(o))return o;var u,c=i(o,s);if(c){if(void 0===l&&(l="default"),u=e(c,o,l),!t(u)||n(u))return u;throw new a("Can't convert object to primitive value")}return void 0===l&&(l="number"),r(o,l)}}function An(){if(pn)return fn;pn=1;var e=Pn(),t=Vt();return fn=function(n){var i=e(n,"string");return t(i)?i:i+""}}function Ln(){if(gn)return dn;gn=1;var e=we(),t=Nt(),n=e.document,i=t(n)&&t(n.createElement);return dn=function(e){return i?n.createElement(e):{}}}function In(){if(vn)return yn;vn=1;var e=Re(),t=Oe(),n=Ln();return yn=!e&&!t((function(){return 7!==Object.defineProperty(n("div"),"a",{get:function(){return 7}}).a}))}function On(){if(mn)return Ie;mn=1;var e=Re(),t=Me(),n=St(),i=Et(),r=Rt(),o=An(),a=Tn(),s=In(),l=Object.getOwnPropertyDescriptor;return Ie.f=e?l:function(e,u){if(e=r(e),u=o(u),s)try{return l(e,u)}catch(c){}if(a(e,u))return i(!t(n.f,e,u),e[u])},Ie}var Rn,Dn,Mn,Nn,Fn,jn,Hn,Un={};function Bn(){if(Dn)return Rn;Dn=1;var e=Re(),t=Oe();return Rn=e&&t((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))}function zn(){if(Nn)return Mn;Nn=1;var e=Nt(),t=String,n=TypeError;return Mn=function(i){if(e(i))return i;throw new n(t(i)+" is not an object")}}function Vn(){if(Fn)return Un;Fn=1;var e=Re(),t=In(),n=Bn(),i=zn(),r=An(),o=TypeError,a=Object.defineProperty,s=Object.getOwnPropertyDescriptor,l="enumerable",u="configurable",c="writable";return Un.f=e?n?function(e,t,n){if(i(e),t=r(t),i(n),"function"==typeof e&&"prototype"===t&&"value"in n&&c in n&&!n[c]){var o=s(e,t);o&&o[c]&&(e[t]=n.value,n={configurable:u in n?n[u]:o[u],enumerable:l in n?n[l]:o[l],writable:!1})}return a(e,t,n)}:a:function(e,n,s){if(i(e),n=r(n),i(s),t)try{return a(e,n,s)}catch(l){}if("get"in s||"set"in s)throw new o("Accessors not supported");return"value"in s&&(e[n]=s.value),e},Un}function Gn(){if(Hn)return jn;Hn=1;var e=Re(),t=Vn(),n=Et();return jn=e?function(e,i,r){return t.f(e,i,n(1,r))}:function(e,t,n){return e[t]=n,e}}var Wn,Yn,Kn,$n,Xn,qn,Jn,Zn,Qn,ei,ti,ni,ii,ri,oi,ai={exports:{}};function si(){if(Yn)return Wn;Yn=1;var e=Re(),t=Tn(),n=Function.prototype,i=e&&Object.getOwnPropertyDescriptor,r=t(n,"name"),o=r&&"something"===function(){}.name,a=r&&(!e||e&&i(n,"name").configurable);return Wn={EXISTS:r,PROPER:o,CONFIGURABLE:a}}function li(){if($n)return Kn;$n=1;var e=Pt(),t=Mt(),n=wn(),i=e(Function.toString);return t(n.inspectSource)||(n.inspectSource=function(e){return i(e)}),Kn=n.inspectSource}function ui(){if(Zn)return Jn;Zn=1;var e=Cn(),t=Sn(),n=e("keys");return Jn=function(e){return n[e]||(n[e]=t(e))}}function ci(){return ei?Qn:(ei=1,Qn={})}function hi(){if(ni)return ti;ni=1;var e,t,n,i=function(){if(qn)return Xn;qn=1;var e=we(),t=Mt(),n=e.WeakMap;return Xn=t(n)&&/native code/.test(String(n))}(),r=we(),o=Nt(),a=Gn(),s=Tn(),l=wn(),u=ui(),c=ci(),h="Object already initialized",f=r.TypeError,p=r.WeakMap;if(i||l.state){var d=l.state||(l.state=new p);d.get=d.get,d.has=d.has,d.set=d.set,e=function(e,t){if(d.has(e))throw new f(h);return t.facade=e,d.set(e,t),t},t=function(e){return d.get(e)||{}},n=function(e){return d.has(e)}}else{var g=u("state");c[g]=!0,e=function(e,t){if(s(e,g))throw new f(h);return t.facade=e,a(e,g,t),t},t=function(e){return s(e,g)?e[g]:{}},n=function(e){return s(e,g)}}return ti={set:e,get:t,has:n,enforce:function(i){return n(i)?t(i):e(i,{})},getterFor:function(e){return function(n){var i;if(!o(n)||(i=t(n)).type!==e)throw new f("Incompatible receiver, "+e+" required");return i}}}}function fi(){if(ii)return ai.exports;ii=1;var e=Pt(),t=Oe(),n=Mt(),i=Tn(),r=Re(),o=si().CONFIGURABLE,a=li(),s=hi(),l=s.enforce,u=s.get,c=String,h=Object.defineProperty,f=e("".slice),p=e("".replace),d=e([].join),g=r&&!t((function(){return 8!==h((function(){}),"length",{value:8}).length})),y=String(String).split("String"),v=ai.exports=function(e,t,n){"Symbol("===f(c(t),0,7)&&(t="["+p(c(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!i(e,"name")||o&&e.name!==t)&&(r?h(e,"name",{value:t,configurable:!0}):e.name=t),g&&n&&i(n,"arity")&&e.length!==n.arity&&h(e,"length",{value:n.arity});try{n&&i(n,"constructor")&&n.constructor?r&&h(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(s){}var a=l(e);return i(a,"source")||(a.source=d(y,"string"==typeof t?t:"")),e};return Function.prototype.toString=v((function(){return n(this)&&u(this).source||a(this)}),"toString"),ai.exports}function pi(){if(oi)return ri;oi=1;var e=Mt(),t=Vn(),n=fi(),i=kn();return ri=function(r,o,a,s){s||(s={});var l=s.enumerable,u=void 0!==s.name?s.name:o;if(e(a)&&n(a,u,s),s.global)l?r[o]=a:i(o,a);else{try{s.unsafe?r[o]&&(l=!0):delete r[o]}catch(c){}l?r[o]=a:t.f(r,o,{value:a,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return r}}var di,gi,yi,vi,mi,xi,bi,ki,wi,Ci,_i,Ti,Si,Ei,Pi,Ai,Li,Ii={};function Oi(){if(vi)return yi;vi=1;var e=function(){if(gi)return di;gi=1;var e=Math.ceil,t=Math.floor;return di=Math.trunc||function(n){var i=+n;return(i>0?t:e)(i)}}();return yi=function(t){var n=+t;return n!=n||0===n?0:e(n)}}function Ri(){if(xi)return mi;xi=1;var e=Oi(),t=Math.max,n=Math.min;return mi=function(i,r){var o=e(i);return o<0?t(o+r,0):n(o,r)}}function Di(){if(ki)return bi;ki=1;var e=Oi(),t=Math.min;return bi=function(n){return n>0?t(e(n),9007199254740991):0}}function Mi(){if(Ci)return wi;Ci=1;var e=Di();return wi=function(t){return e(t.length)}}function Ni(){if(Ti)return _i;Ti=1;var e=Rt(),t=Ri(),n=Mi(),i=function(i){return function(r,o,a){var s,l=e(r),u=n(l),c=t(a,u);if(i&&o!=o){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((i||c in l)&&l[c]===o)return i||c||0;return!i&&-1}};return _i={includes:i(!0),indexOf:i(!1)}}function Fi(){if(Ei)return Si;Ei=1;var e=Pt(),t=Tn(),n=Rt(),i=Ni().indexOf,r=ci(),o=e([].push);return Si=function(e,a){var s,l=n(e),u=0,c=[];for(s in l)!t(r,s)&&t(l,s)&&o(c,s);for(;a.length>u;)t(l,s=a[u++])&&(~i(c,s)||o(c,s));return c}}function ji(){return Ai?Pi:(Ai=1,Pi=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"])}function Hi(){if(Li)return Ii;Li=1;var e=Fi(),t=ji().concat("length","prototype");return Ii.f=Object.getOwnPropertyNames||function(n){return e(n,t)},Ii}var Ui,Bi,zi,Vi,Gi,Wi,Yi,Ki,$i,Xi,qi,Ji,Zi,Qi,er,tr,nr,ir,rr,or,ar,sr,lr,ur,cr,hr,fr,pr={};function dr(){return Ui||(Ui=1,pr.f=Object.getOwnPropertySymbols),pr}function gr(){if(zi)return Bi;zi=1;var e=Ft(),t=Pt(),n=Hi(),i=dr(),r=zn(),o=t([].concat);return Bi=e("Reflect","ownKeys")||function(e){var t=n.f(r(e)),a=i.f;return a?o(t,a(e)):t}}function yr(){if(Gi)return Vi;Gi=1;var e=Tn(),t=gr(),n=On(),i=Vn();return Vi=function(r,o,a){for(var s=t(o),l=i.f,u=n.f,c=0;c<s.length;c++){var h=s[c];e(r,h)||a&&e(a,h)||l(r,h,u(o,h))}}}function vr(){if(Yi)return Wi;Yi=1;var e=Oe(),t=Mt(),n=/#|\.prototype\./,i=function(n,i){var l=o[r(n)];return l===s||l!==a&&(t(i)?e(i):!!i)},r=i.normalize=function(e){return String(e).replace(n,".").toLowerCase()},o=i.data={},a=i.NATIVE="N",s=i.POLYFILL="P";return Wi=i}function mr(){if($i)return Ki;$i=1;var e=we(),t=On().f,n=Gn(),r=pi(),o=kn(),a=yr(),s=vr();return Ki=function(l,u){var c,h,f,p,d,g=l.target,y=l.global,v=l.stat;if(c=y?e:v?e[g]||o(g,{}):(e[g]||{}).prototype)for(h in u){if(p=u[h],f=l.dontCallGetSet?(d=t(c,h))&&d.value:c[h],!s(y?h:g+(v?".":"#")+h,l.forced)&&void 0!==f){if(i(p)==i(f))continue;a(p,f)}(l.sham||f&&f.sham)&&n(p,"sham",!0),r(c,h,p,l)}}}function xr(){if(qi)return Xi;qi=1;var e=At(),t=Pt();return Xi=function(n){if("Function"===e(n))return t(n)}}function br(){if(Zi)return Ji;Zi=1;var e=xr(),t=Wt(),n=De(),i=e(e.bind);return Ji=function(e,r){return t(e),void 0===r?e:n?i(e,r):function(){return e.apply(r,arguments)}},Ji}function kr(){if(er)return Qi;er=1;var e=At();return Qi=Array.isArray||function(t){return"Array"===e(t)}}function wr(){if(nr)return tr;nr=1;var e={};return e[En()("toStringTag")]="z",tr="[object z]"===String(e)}function Cr(){if(rr)return ir;rr=1;var e=wr(),t=Mt(),n=At(),i=En()("toStringTag"),r=Object,o="Arguments"===n(function(){return arguments}());return ir=e?n:function(e){var a,s,l;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(s=function(e,t){try{return e[t]}catch(n){}}(a=r(e),i))?s:o?n(a):"Object"===(l=n(a))&&t(a.callee)?"Arguments":l}}function _r(){if(ar)return or;ar=1;var e=Pt(),t=Oe(),n=Mt(),i=Cr(),r=Ft(),o=li(),a=function(){},s=[],l=r("Reflect","construct"),u=/^\s*(?:class|function)\b/,c=e(u.exec),h=!u.test(a),f=function(e){if(!n(e))return!1;try{return l(a,s,e),!0}catch(t){return!1}},p=function(e){if(!n(e))return!1;switch(i(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return h||!!c(u,o(e))}catch(t){return!0}};return p.sham=!0,or=!l||t((function(){var e;return f(f.call)||!f(Object)||!f((function(){e=!0}))||e}))?p:f}function Tr(){if(lr)return sr;lr=1;var e=kr(),t=_r(),n=Nt(),i=En()("species"),r=Array;return sr=function(o){var a;return e(o)&&(a=o.constructor,(t(a)&&(a===r||e(a.prototype))||n(a)&&null===(a=a[i]))&&(a=void 0)),void 0===a?r:a}}function Sr(){if(cr)return ur;cr=1;var e=Tr();return ur=function(t,n){return new(e(t))(0===n?0:n)}}function Er(){if(fr)return hr;fr=1;var e=br(),t=Pt(),n=Lt(),i=_n(),r=Mi(),o=Sr(),a=t([].push),s=function(t){var s=1===t,l=2===t,u=3===t,c=4===t,h=6===t,f=7===t,p=5===t||h;return function(d,g,y,v){for(var m,x,b=i(d),k=n(b),w=r(k),C=e(g,y),_=0,T=v||o,S=s?T(d,w):l||f?T(d,0):void 0;w>_;_++)if((p||_ in k)&&(x=C(m=k[_],_,b),t))if(s)S[_]=x;else if(x)switch(t){case 3:return!0;case 5:return m;case 6:return _;case 2:a(S,m)}else switch(t){case 4:return!1;case 7:a(S,m)}return h?-1:u||c?c:S}};return hr={forEach:s(0),map:s(1),filter:s(2),some:s(3),every:s(4),find:s(5),findIndex:s(6),filterReject:s(7)}}var Pr,Ar,Lr,Ir,Or,Rr,Dr,Mr,Nr,Fr,jr={};function Hr(){if(Ar)return Pr;Ar=1;var e=Fi(),t=ji();return Pr=Object.keys||function(n){return e(n,t)}}function Ur(){if(Lr)return jr;Lr=1;var e=Re(),t=Bn(),n=Vn(),i=zn(),r=Rt(),o=Hr();return jr.f=e&&!t?Object.defineProperties:function(e,t){i(e);for(var a,s=r(t),l=o(t),u=l.length,c=0;u>c;)n.f(e,a=l[c++],s[a]);return e},jr}function Br(){if(Or)return Ir;Or=1;var e=Ft();return Ir=e("document","documentElement")}function zr(){if(Dr)return Rr;Dr=1;var e,t=zn(),n=Ur(),i=ji(),r=ci(),o=Br(),a=Ln(),s=ui(),l="prototype",u="script",c=s("IE_PROTO"),h=function(){},f=function(e){return"<"+u+">"+e+"</"+u+">"},p=function(e){e.write(f("")),e.close();var t=e.parentWindow.Object;return e=null,t},d=function(){try{e=new ActiveXObject("htmlfile")}catch(c){}var t,n,r;d="undefined"!=typeof document?document.domain&&e?p(e):(n=a("iframe"),r="java"+u+":",n.style.display="none",o.appendChild(n),n.src=String(r),(t=n.contentWindow.document).open(),t.write(f("document.F=Object")),t.close(),t.F):p(e);for(var s=i.length;s--;)delete d[l][i[s]];return d()};return r[c]=!0,Rr=Object.create||function(e,i){var r;return null!==e?(h[l]=t(e),r=new h,h[l]=null,r[c]=e):r=d(),void 0===i?r:n.f(r,i)}}function Vr(){if(Nr)return Mr;Nr=1;var e=En(),t=zr(),n=Vn().f,i=e("unscopables"),r=Array.prototype;return void 0===r[i]&&n(r,i,{configurable:!0,value:t(null)}),Mr=function(e){r[i][e]=!0}}var Gr,Wr,Yr,Kr={};function $r(){if(Yr)return Kr;Yr=1;var e=wr(),t=pi(),n=function(){if(Wr)return Gr;Wr=1;var e=wr(),t=Cr();return Gr=e?{}.toString:function(){return"[object "+t(this)+"]"}}();return e||t(Object.prototype,"toString",n,{unsafe:!0}),Kr}var Xr,qr,Jr,Zr,Qr,eo,to,no={};function io(){if(qr)return Xr;qr=1;var e=TypeError;return Xr=function(t){if(t>9007199254740991)throw e("Maximum allowed index exceeded");return t}}function ro(){if(Zr)return Jr;Zr=1;var e=An(),t=Vn(),n=Et();return Jr=function(i,r,o){var a=e(r);a in i?t.f(i,a,n(0,o)):i[a]=o}}function oo(){if(eo)return Qr;eo=1;var e=Oe(),t=En(),n=Ut(),i=t("species");return Qr=function(t){return n>=51||!e((function(){var e=[];return(e.constructor={})[i]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}}var ao,so,lo,uo,co,ho,fo,po,go,yo={};function vo(){return so?ao:(so=1,ao={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0})}function mo(){if(uo)return lo;uo=1;var e=Ln()("span").classList,t=e&&e.constructor&&e.constructor.prototype;return lo=t===Object.prototype?void 0:t}function xo(){if(ho)return co;ho=1;var e=Oe();return co=function(t,n){var i=[][t];return!!i&&e((function(){i.call(null,n||function(){return 1},1)}))}}function bo(){if(go)return yo;go=1;var e=we(),t=vo(),n=mo(),i=function(){if(po)return fo;po=1;var e=Er().forEach,t=xo()("forEach");return fo=t?[].forEach:function(t){return e(this,t,arguments.length>1?arguments[1]:void 0)},fo}(),r=Gn(),o=function(e){if(e&&e.forEach!==i)try{r(e,"forEach",i)}catch(t){e.forEach=i}};for(var a in t)t[a]&&o(e[a]&&e[a].prototype);return o(n),yo}var ko,wo={};var Co,_o,To,So={};function Eo(){if(_o)return Co;_o=1;var e=Pt();return Co=e([].slice)}var Po,Ao={};var Lo,Io,Oo,Ro,Do,Mo={};function No(){if(Ro)return Oo;Ro=1;var e=Gt(),t=TypeError;return Oo=function(n,i){if(!delete n[i])throw new t("Cannot delete property "+e(i)+" of "+e(n))}}function Fo(){if(Do)return Mo;Do=1;var e=mr(),t=_n(),n=Ri(),i=Oi(),r=Mi(),o=function(){if(Io)return Lo;Io=1;var e=Re(),t=kr(),n=TypeError,i=Object.getOwnPropertyDescriptor,r=e&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();return Lo=r?function(e,r){if(t(e)&&!i(e,"length").writable)throw new n("Cannot set read only .length");return e.length=r}:function(e,t){return e.length=t}}(),a=io(),s=Sr(),l=ro(),u=No(),c=oo()("splice"),h=Math.max,f=Math.min;return e({target:"Array",proto:!0,forced:!c},{splice:function(e,c){var p,d,g,y,v,m,x=t(this),b=r(x),k=n(e,b),w=arguments.length;for(0===w?p=d=0:1===w?(p=0,d=b-k):(p=w-2,d=f(h(i(c),0),b-k)),a(b+p-d),g=s(x,d),y=0;y<d;y++)(v=k+y)in x&&l(g,y,x[v]);if(g.length=d,p<d){for(y=k;y<b-d;y++)m=y+p,(v=y+d)in x?x[m]=x[v]:u(x,m);for(y=b;y>b-d+p;y--)u(x,y-1)}else if(p>d)for(y=b-d;y>k;y--)m=y+p-1,(v=y+d-1)in x?x[m]=x[v]:u(x,m);for(y=0;y<p;y++)x[y+k]=arguments[y+2];return o(x,b-d+p),g}}),Mo}var jo,Ho,Uo,Bo,zo,Vo,Go,Wo,Yo,Ko,$o,Xo,qo,Jo,Zo,Qo,ea,ta,na,ia,ra,oa,aa,sa,la,ua,ca,ha,fa,pa,da,ga,ya,va,ma,xa,ba,ka,wa,Ca,_a,Ta,Sa,Ea,Pa,Aa,La,Ia,Oa={},Ra={};function Da(){if(Ho)return jo;Ho=1;var e=we(),t=At();return jo="process"===t(e.process)}function Ma(){if(Vo)return zo;Vo=1;var e=Mt(),t=String,n=TypeError;return zo=function(r){if("object"==i(r)||e(r))return r;throw new n("Can't set "+t(r)+" as a prototype")}}function Na(){if(Wo)return Go;Wo=1;var e=function(){if(Bo)return Uo;Bo=1;var e=Pt(),t=Wt();return Uo=function(n,i,r){try{return e(t(Object.getOwnPropertyDescriptor(n,i)[r]))}catch(o){}}}(),t=zn(),n=Ma();return Go=Object.setPrototypeOf||("__proto__"in{}?function(){var i,r=!1,o={};try{(i=e(Object.prototype,"__proto__","set"))(o,[]),r=o instanceof Array}catch(a){}return function(e,o){return t(e),n(o),r?i(e,o):e.__proto__=o,e}}():void 0)}function Fa(){if(Ko)return Yo;Ko=1;var e=Vn().f,t=Tn(),n=En()("toStringTag");return Yo=function(i,r,o){i&&!o&&(i=i.prototype),i&&!t(i,n)&&e(i,n,{configurable:!0,value:r})}}function ja(){if(Xo)return $o;Xo=1;var e=fi(),t=Vn();return $o=function(n,i,r){return r.get&&e(r.get,i,{getter:!0}),r.set&&e(r.set,i,{setter:!0}),t.f(n,i,r)}}function Ha(){if(Jo)return qo;Jo=1;var e=Ft(),t=ja(),n=En(),i=Re(),r=n("species");return qo=function(n){var o=e(n);i&&o&&!o[r]&&t(o,r,{configurable:!0,get:function(){return this}})}}function Ua(){if(Qo)return Zo;Qo=1;var e=jt(),t=TypeError;return Zo=function(n,i){if(e(i,n))return n;throw new t("Incorrect invocation")}}function Ba(){if(ta)return ea;ta=1;var e=_r(),t=Gt(),n=TypeError;return ea=function(i){if(e(i))return i;throw new n(t(i)+" is not a constructor")}}function za(){if(ia)return na;ia=1;var e=zn(),t=Ba(),n=It(),i=En()("species");return na=function(r,o){var a,s=e(r).constructor;return void 0===s||n(a=e(s)[i])?o:t(a)}}function Va(){if(oa)return ra;oa=1;var e=De(),t=Function.prototype,n=t.apply,r=t.call;return ra="object"==("undefined"==typeof Reflect?"undefined":i(Reflect))&&Reflect.apply||(e?r.bind(n):function(){return r.apply(n,arguments)}),ra}function Ga(){if(sa)return aa;sa=1;var e=TypeError;return aa=function(t,n){if(t<n)throw new e("Not enough arguments");return t}}function Wa(){if(ua)return la;ua=1;var e=Ht();return la=/(?:ipad|iphone|ipod).*applewebkit/i.test(e)}function Ya(){if(ha)return ca;ha=1;var e,t,n,i,r=we(),o=Va(),a=br(),s=Mt(),l=Tn(),u=Oe(),c=Br(),h=Eo(),f=Ln(),p=Ga(),d=Wa(),g=Da(),y=r.setImmediate,v=r.clearImmediate,m=r.process,x=r.Dispatch,b=r.Function,k=r.MessageChannel,w=r.String,C=0,_={},T="onreadystatechange";u((function(){e=r.location}));var S=function(e){if(l(_,e)){var t=_[e];delete _[e],t()}},E=function(e){return function(){S(e)}},P=function(e){S(e.data)},A=function(t){r.postMessage(w(t),e.protocol+"//"+e.host)};return y&&v||(y=function(e){p(arguments.length,1);var n=s(e)?e:b(e),i=h(arguments,1);return _[++C]=function(){o(n,void 0,i)},t(C),C},v=function(e){delete _[e]},g?t=function(e){m.nextTick(E(e))}:x&&x.now?t=function(e){x.now(E(e))}:k&&!d?(i=(n=new k).port2,n.port1.onmessage=P,t=a(i.postMessage,i)):r.addEventListener&&s(r.postMessage)&&!r.importScripts&&e&&"file:"!==e.protocol&&!u(A)?(t=A,r.addEventListener("message",P,!1)):t=T in f("script")?function(e){c.appendChild(f("script"))[T]=function(){c.removeChild(this),S(e)}}:function(e){setTimeout(E(e),0)}),ca={set:y,clear:v}}function Ka(){if(pa)return fa;pa=1;var e=function(){this.head=null,this.tail=null};return e.prototype={add:function(e){var t={item:e,next:null},n=this.tail;n?n.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return null===(this.head=e.next)&&(this.tail=null),e.item}},fa=e}function $a(){if(xa)return ma;xa=1;var e,t,n,i,r,o=we(),a=br(),s=On().f,l=Ya().set,u=Ka(),c=Wa(),h=function(){if(ga)return da;ga=1;var e=Ht();return da=/ipad|iphone|ipod/i.test(e)&&"undefined"!=typeof Pebble}(),f=function(){if(va)return ya;va=1;var e=Ht();return ya=/web0s(?!.*chrome)/i.test(e)}(),p=Da(),d=o.MutationObserver||o.WebKitMutationObserver,g=o.document,y=o.process,v=o.Promise,m=s(o,"queueMicrotask"),x=m&&m.value;if(!x){var b=new u,k=function(){var t,n;for(p&&(t=y.domain)&&t.exit();n=b.get();)try{n()}catch(i){throw b.head&&e(),i}t&&t.enter()};c||p||f||!d||!g?!h&&v&&v.resolve?((i=v.resolve(void 0)).constructor=v,r=a(i.then,i),e=function(){r(k)}):p?e=function(){y.nextTick(k)}:(l=a(l,o),e=function(){l(k)}):(t=!0,n=g.createTextNode(""),new d(k).observe(n,{characterData:!0}),e=function(){n.data=t=!t}),x=function(t){b.head||e(),b.add(t)}}return ma=x}function Xa(){return ka||(ka=1,ba=function(e,t){try{1===arguments.length?console.error(e):console.error(e,t)}catch(n){}}),ba}function qa(){return Ca?wa:(Ca=1,wa=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}})}function Ja(){if(Ta)return _a;Ta=1;var e=we();return _a=e.Promise}function Za(){return Ea?Sa:(Ea=1,Sa="object"==("undefined"==typeof Deno?"undefined":i(Deno))&&Deno&&"object"==i(Deno.version))}function Qa(){if(Ia)return La;Ia=1;var e=we(),t=Ja(),n=Mt(),r=vr(),o=li(),a=En(),s=function(){if(Aa)return Pa;Aa=1;var e=Za(),t=Da();return Pa=!e&&!t&&"object"==("undefined"==typeof window?"undefined":i(window))&&"object"==("undefined"==typeof document?"undefined":i(document))}(),l=Za(),u=bn(),c=Ut(),h=t&&t.prototype,f=a("species"),p=!1,d=n(e.PromiseRejectionEvent),g=r("Promise",(function(){var e=o(t),n=e!==String(t);if(!n&&66===c)return!0;if(u&&(!h.catch||!h.finally))return!0;if(!c||c<51||!/native code/.test(e)){var i=new t((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};if((i.constructor={})[f]=r,!(p=i.then((function(){}))instanceof r))return!0}return!n&&(s||l)&&!d}));return La={CONSTRUCTOR:g,REJECTION_EVENT:d,SUBCLASSING:p}}var es,ts,ns={};function is(){if(es)return ns;es=1;var e=Wt(),t=TypeError,n=function(n){var i,r;this.promise=new n((function(e,n){if(void 0!==i||void 0!==r)throw new t("Bad Promise constructor");i=e,r=n})),this.resolve=e(i),this.reject=e(r)};return ns.f=function(e){return new n(e)},ns}var rs,os,as,ss,ls,us,cs,hs,fs,ps,ds,gs,ys,vs,ms,xs,bs,ks={};function ws(){return os?rs:(os=1,rs={})}function Cs(){if(ss)return as;ss=1;var e=En(),t=ws(),n=e("iterator"),i=Array.prototype;return as=function(e){return void 0!==e&&(t.Array===e||i[n]===e)}}function _s(){if(us)return ls;us=1;var e=Cr(),t=Yt(),n=It(),i=ws(),r=En()("iterator");return ls=function(o){if(!n(o))return t(o,r)||t(o,"@@iterator")||i[e(o)]}}function Ts(){if(hs)return cs;hs=1;var e=Me(),t=Wt(),n=zn(),i=Gt(),r=_s(),o=TypeError;return cs=function(a,s){var l=arguments.length<2?r(a):s;if(t(l))return n(e(l,a));throw new o(i(a)+" is not iterable")},cs}function Ss(){if(ps)return fs;ps=1;var e=Me(),t=zn(),n=Yt();return fs=function(i,r,o){var a,s;t(i);try{if(!(a=n(i,"return"))){if("throw"===r)throw o;return o}a=e(a,i)}catch(l){s=!0,a=l}if("throw"===r)throw o;if(s)throw a;return t(a),o}}function Es(){if(gs)return ds;gs=1;var e=br(),t=Me(),n=zn(),r=Gt(),o=Cs(),a=Mi(),s=jt(),l=Ts(),u=_s(),c=Ss(),h=TypeError,f=function(e,t){this.stopped=e,this.result=t},p=f.prototype;return ds=function(d,g,y){var v,m,x,b,k,w,C,_=y&&y.that,T=!(!y||!y.AS_ENTRIES),S=!(!y||!y.IS_RECORD),E=!(!y||!y.IS_ITERATOR),P=!(!y||!y.INTERRUPTED),A=e(g,_),L=function(e){return v&&c(v,"normal",e),new f(!0,e)},I=function(e){return T?(n(e),P?A(e[0],e[1],L):A(e[0],e[1])):P?A(e,L):A(e)};if(S)v=d.iterator;else if(E)v=d;else{if(!(m=u(d)))throw new h(r(d)+" is not iterable");if(o(m)){for(x=0,b=a(d);b>x;x++)if((k=I(d[x]))&&s(p,k))return k;return new f(!1)}v=l(d,m)}for(w=S?d.next:v.next;!(C=t(w,v)).done;){try{k=I(C.value)}catch(O){c(v,"throw",O)}if("object"==i(k)&&k&&s(p,k))return k}return new f(!1)}}function Ps(){if(vs)return ys;vs=1;var e=En()("iterator"),t=!1;try{var n=0,i={next:function(){return{done:!!n++}},return:function(){t=!0}};i[e]=function(){return this},Array.from(i,(function(){throw 2}))}catch(r){}return ys=function(n,i){try{if(!i&&!t)return!1}catch(r){return!1}var o=!1;try{var a={};a[e]=function(){return{next:function(){return{done:o=!0}}}},n(a)}catch(r){}return o}}function As(){if(xs)return ms;xs=1;var e=Ja(),t=Ps(),n=Qa().CONSTRUCTOR;return ms=n||!t((function(t){e.all(t).then(void 0,(function(){}))}))}var Ls,Is={};var Os,Rs={};var Ds,Ms={};var Ns,Fs,js,Hs,Us={};function Bs(){if(Fs)return Ns;Fs=1;var e=zn(),t=Nt(),n=is();return Ns=function(i,r){if(e(i),t(r)&&r.constructor===i)return r;var o=n.f(i);return(0,o.resolve)(r),o.promise}}function zs(){return Hs||(Hs=1,function(){if(ts)return Ra;ts=1;var e,t,n,i=mr(),r=bn(),o=Da(),a=we(),s=Me(),l=pi(),u=Na(),c=Fa(),h=Ha(),f=Wt(),p=Mt(),d=Nt(),g=Ua(),y=za(),v=Ya().set,m=$a(),x=Xa(),b=qa(),k=Ka(),w=hi(),C=Ja(),_=Qa(),T=is(),S="Promise",E=_.CONSTRUCTOR,P=_.REJECTION_EVENT,A=_.SUBCLASSING,L=w.getterFor(S),I=w.set,O=C&&C.prototype,R=C,D=O,M=a.TypeError,N=a.document,F=a.process,j=T.f,H=j,U=!!(N&&N.createEvent&&a.dispatchEvent),B="unhandledrejection",z=function(e){var t;return!(!d(e)||!p(t=e.then))&&t},V=function(e,t){var n,i,r,o=t.value,a=1===t.state,l=a?e.ok:e.fail,u=e.resolve,c=e.reject,h=e.domain;try{l?(a||(2===t.rejection&&$(t),t.rejection=1),!0===l?n=o:(h&&h.enter(),n=l(o),h&&(h.exit(),r=!0)),n===e.promise?c(new M("Promise-chain cycle")):(i=z(n))?s(i,n,u,c):u(n)):c(o)}catch(f){h&&!r&&h.exit(),c(f)}},G=function(e,t){e.notified||(e.notified=!0,m((function(){for(var n,i=e.reactions;n=i.get();)V(n,e);e.notified=!1,t&&!e.rejection&&Y(e)})))},W=function(e,t,n){var i,r;U?((i=N.createEvent("Event")).promise=t,i.reason=n,i.initEvent(e,!1,!0),a.dispatchEvent(i)):i={promise:t,reason:n},!P&&(r=a["on"+e])?r(i):e===B&&x("Unhandled promise rejection",n)},Y=function(e){s(v,a,(function(){var t,n=e.facade,i=e.value;if(K(e)&&(t=b((function(){o?F.emit("unhandledRejection",i,n):W(B,n,i)})),e.rejection=o||K(e)?2:1,t.error))throw t.value}))},K=function(e){return 1!==e.rejection&&!e.parent},$=function(e){s(v,a,(function(){var t=e.facade;o?F.emit("rejectionHandled",t):W("rejectionhandled",t,e.value)}))},X=function(e,t,n){return function(i){e(t,i,n)}},q=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,G(e,!0))},J=function e(t,n,i){if(!t.done){t.done=!0,i&&(t=i);try{if(t.facade===n)throw new M("Promise can't be resolved itself");var r=z(n);r?m((function(){var i={done:!1};try{s(r,n,X(e,i,t),X(q,i,t))}catch(o){q(i,o,t)}})):(t.value=n,t.state=1,G(t,!1))}catch(o){q({done:!1},o,t)}}};if(E&&(D=(R=function(t){g(this,D),f(t),s(e,this);var n=L(this);try{t(X(J,n),X(q,n))}catch(i){q(n,i)}}).prototype,(e=function(e){I(this,{type:S,done:!1,notified:!1,parent:!1,reactions:new k,rejection:!1,state:0,value:void 0})}).prototype=l(D,"then",(function(e,t){var n=L(this),i=j(y(this,R));return n.parent=!0,i.ok=!p(e)||e,i.fail=p(t)&&t,i.domain=o?F.domain:void 0,0===n.state?n.reactions.add(i):m((function(){V(i,n)})),i.promise})),t=function(){var t=new e,n=L(t);this.promise=t,this.resolve=X(J,n),this.reject=X(q,n)},T.f=j=function(e){return e===R||void 0===e?new t(e):H(e)},!r&&p(C)&&O!==Object.prototype)){n=O.then,A||l(O,"then",(function(e,t){var i=this;return new R((function(e,t){s(n,i,e,t)})).then(e,t)}),{unsafe:!0});try{delete O.constructor}catch(Z){}u&&u(O,D)}i({global:!0,constructor:!0,wrap:!0,forced:E},{Promise:R}),c(R,S,!1,!0),h(S)}(),function(){if(bs)return ks;bs=1;var e=mr(),t=Me(),n=Wt(),i=is(),r=qa(),o=Es();e({target:"Promise",stat:!0,forced:As()},{all:function(e){var a=this,s=i.f(a),l=s.resolve,u=s.reject,c=r((function(){var i=n(a.resolve),r=[],s=0,c=1;o(e,(function(e){var n=s++,o=!1;c++,t(i,a,e).then((function(e){o||(o=!0,r[n]=e,--c||l(r))}),u)})),--c||l(r)}));return c.error&&u(c.value),s.promise}})}(),function(){if(Ls)return Is;Ls=1;var e=mr(),t=bn(),n=Qa().CONSTRUCTOR,i=Ja(),r=Ft(),o=Mt(),a=pi(),s=i&&i.prototype;if(e({target:"Promise",proto:!0,forced:n,real:!0},{catch:function(e){return this.then(void 0,e)}}),!t&&o(i)){var l=r("Promise").prototype.catch;s.catch!==l&&a(s,"catch",l,{unsafe:!0})}}(),function(){if(Os)return Rs;Os=1;var e=mr(),t=Me(),n=Wt(),i=is(),r=qa(),o=Es();e({target:"Promise",stat:!0,forced:As()},{race:function(e){var a=this,s=i.f(a),l=s.reject,u=r((function(){var i=n(a.resolve);o(e,(function(e){t(i,a,e).then(s.resolve,l)}))}));return u.error&&l(u.value),s.promise}})}(),function(){if(Ds)return Ms;Ds=1;var e=mr(),t=Me(),n=is();e({target:"Promise",stat:!0,forced:Qa().CONSTRUCTOR},{reject:function(e){var i=n.f(this);return t(i.reject,void 0,e),i.promise}})}(),function(){if(js)return Us;js=1;var e=mr(),t=Ft(),n=bn(),i=Ja(),r=Qa().CONSTRUCTOR,o=Bs(),a=t("Promise"),s=n&&!r;e({target:"Promise",stat:!0,forced:n||r},{resolve:function(e){return o(s&&this===a?i:this,e)}})}()),Oa}var Vs,Gs={};var Ws;var Ys,Ks,$s,Xs,qs,Js,Zs,Qs,el,tl,nl,il,rl,ol={};function al(){if(Ks)return Ys;Ks=1;var e=we();return Ys=e}function sl(){if(Xs)return $s;Xs=1;var e=Mt(),t=Nt(),n=Na();return $s=function(i,r,o){var a,s;return n&&e(a=r.constructor)&&a!==o&&t(s=a.prototype)&&s!==o.prototype&&n(i,s),i}}function ll(){if(Js)return qs;Js=1;var e=Pt();return qs=e(1..valueOf)}function ul(){if(Qs)return Zs;Qs=1;var e=Cr(),t=String;return Zs=function(n){if("Symbol"===e(n))throw new TypeError("Cannot convert a Symbol value to a string");return t(n)}}function cl(){return tl?el:(tl=1,el="\t\n\v\f\r                　\u2028\u2029\ufeff")}function hl(){if(il)return nl;il=1;var e=Pt(),t=Ot(),n=ul(),i=cl(),r=e("".replace),o=RegExp("^["+i+"]+"),a=RegExp("(^|[^"+i+"])["+i+"]+$"),s=function(e){return function(i){var s=n(t(i));return 1&e&&(s=r(s,o,"")),2&e&&(s=r(s,a,"$1")),s}};return nl={start:s(1),end:s(2),trim:s(3)}}function fl(){if(rl)return ol;rl=1;var e=mr(),t=bn(),n=Re(),i=we(),r=al(),o=Pt(),a=vr(),s=Tn(),l=sl(),u=jt(),c=Vt(),h=Pn(),f=Oe(),p=Hi().f,d=On().f,g=Vn().f,y=ll(),v=hl().trim,m="Number",x=i[m],b=r[m],k=x.prototype,w=i.TypeError,C=o("".slice),_=o("".charCodeAt),T=function(e){var t,n,i,r,o,a,s,l,u=h(e,"number");if(c(u))throw new w("Cannot convert a Symbol value to a number");if("string"==typeof u&&u.length>2)if(u=v(u),43===(t=_(u,0))||45===t){if(88===(n=_(u,2))||120===n)return NaN}else if(48===t){switch(_(u,1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+u}for(a=(o=C(u,2)).length,s=0;s<a;s++)if((l=_(o,s))<48||l>r)return NaN;return parseInt(o,i)}return+u},S=a(m,!x(" 0o1")||!x("0b1")||x("+0x1")),E=function(e){var t,n=arguments.length<1?0:x(function(e){var t=h(e,"number");return"bigint"==typeof t?t:T(t)}(e));return u(k,t=this)&&f((function(){y(t)}))?l(Object(n),this,E):n};E.prototype=k,S&&!t&&(k.constructor=E),e({global:!0,constructor:!0,wrap:!0,forced:S},{Number:E});var P=function(e,t){for(var i,r=n?p(t):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),o=0;r.length>o;o++)s(t,i=r[o])&&!s(e,i)&&g(e,i,d(t,i))};return t&&b&&P(r[m],b),(S||t)&&P(r[m],x),ol}var pl,dl,gl,yl,vl,ml,xl,bl,kl,wl,Cl,_l,Tl,Sl,El,Pl={};function Al(){if(vl)return yl;vl=1;var e=Tn(),t=Mt(),n=_n(),i=ui(),r=function(){if(gl)return dl;gl=1;var e=Oe();return dl=!e((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))}(),o=i("IE_PROTO"),a=Object,s=a.prototype;return yl=r?a.getPrototypeOf:function(i){var r=n(i);if(e(r,o))return r[o];var l=r.constructor;return t(l)&&r instanceof l?l.prototype:r instanceof a?s:null}}function Ll(){if(xl)return ml;xl=1;var e,t,n,i=Oe(),r=Mt(),o=Nt(),a=zr(),s=Al(),l=pi(),u=En(),c=bn(),h=u("iterator"),f=!1;return[].keys&&("next"in(n=[].keys())?(t=s(s(n)))!==Object.prototype&&(e=t):f=!0),!o(e)||i((function(){var t={};return e[h].call(t)!==t}))?e={}:c&&(e=a(e)),r(e[h])||l(e,h,(function(){return this})),ml={IteratorPrototype:e,BUGGY_SAFARI_ITERATORS:f}}function Il(){if(kl)return bl;kl=1;var e=Ll().IteratorPrototype,t=zr(),n=Et(),i=Fa(),r=ws(),o=function(){return this};return bl=function(a,s,l,u){var c=s+" Iterator";return a.prototype=t(e,{next:n(+!u,l)}),i(a,c,!1,!0),r[c]=o,a}}function Ol(){if(Cl)return wl;Cl=1;var e=mr(),t=Me(),n=bn(),i=si(),r=Mt(),o=Il(),a=Al(),s=Na(),l=Fa(),u=Gn(),c=pi(),h=En(),f=ws(),p=Ll(),d=i.PROPER,g=i.CONFIGURABLE,y=p.IteratorPrototype,v=p.BUGGY_SAFARI_ITERATORS,m=h("iterator"),x="keys",b="values",k="entries",w=function(){return this};return wl=function(i,h,p,C,_,T,S){o(p,h,C);var E,P,A,L=function(e){if(e===_&&M)return M;if(!v&&e&&e in R)return R[e];switch(e){case x:case b:case k:return function(){return new p(this,e)}}return function(){return new p(this)}},I=h+" Iterator",O=!1,R=i.prototype,D=R[m]||R["@@iterator"]||_&&R[_],M=!v&&D||L(_),N="Array"===h&&R.entries||D;if(N&&(E=a(N.call(new i)))!==Object.prototype&&E.next&&(n||a(E)===y||(s?s(E,y):r(E[m])||c(E,m,w)),l(E,I,!0,!0),n&&(f[I]=w)),d&&_===b&&D&&D.name!==b&&(!n&&g?u(R,"name",b):(O=!0,M=function(){return t(D,this)})),_)if(P={values:L(b),keys:T?M:L(x),entries:L(k)},S)for(A in P)(v||O||!(A in R))&&c(R,A,P[A]);else e({target:h,proto:!0,forced:v||O},P);return n&&!S||R[m]===M||c(R,m,M,{name:_}),f[h]=M,P}}function Rl(){return Tl?_l:(Tl=1,_l=function(e,t){return{value:e,done:t}})}function Dl(){if(El)return Sl;El=1;var e=Rt(),t=Vr(),n=ws(),i=hi(),r=Vn().f,o=Ol(),a=Rl(),s=bn(),l=Re(),u="Array Iterator",c=i.set,h=i.getterFor(u);Sl=o(Array,"Array",(function(t,n){c(this,{type:u,target:e(t),index:0,kind:n})}),(function(){var e=h(this),t=e.target,n=e.index++;if(!t||n>=t.length)return e.target=void 0,a(void 0,!0);switch(e.kind){case"keys":return a(n,!1);case"values":return a(t[n],!1)}return a([n,t[n]],!1)}),"values");var f=n.Arguments=n.Array;if(t("keys"),t("values"),t("entries"),!s&&l&&"values"!==f.name)try{r(f,"name",{value:"values"})}catch(p){}return Sl}var Ml,Nl={};var Fl,jl={};var Hl,Ul,Bl,zl={};function Vl(){if(Ul)return Hl;Ul=1;var e=Re(),t=Pt(),n=Me(),i=Oe(),r=Hr(),o=dr(),a=St(),s=_n(),l=Lt(),u=Object.assign,c=Object.defineProperty,h=t([].concat);return Hl=!u||i((function(){if(e&&1!==u({b:1},u(c({},"a",{enumerable:!0,get:function(){c(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},n={},i=Symbol("assign detection"),o="abcdefghijklmnopqrst";return t[i]=7,o.split("").forEach((function(e){n[e]=e})),7!==u({},t)[i]||r(u({},n)).join("")!==o}))?function(t,i){for(var u=s(t),c=arguments.length,f=1,p=o.f,d=a.f;c>f;)for(var g,y=l(arguments[f++]),v=p?h(r(y),p(y)):r(y),m=v.length,x=0;m>x;)g=v[x++],e&&!n(d,y,g)||(u[g]=y[g]);return u}:u,Hl}var Gl,Wl,Yl,Kl={},$l={},Xl={};function ql(){if(Wl)return Gl;Wl=1;var e=Ri(),t=Mi(),n=ro(),i=Array,r=Math.max;return Gl=function(o,a,s){for(var l=t(o),u=e(a,l),c=e(void 0===s?l:s,l),h=i(r(c-u,0)),f=0;u<c;u++,f++)n(h,f,o[u]);return h.length=f,h}}function Jl(){if(Yl)return Xl;Yl=1;var e=At(),t=Rt(),n=Hi().f,r=ql(),o="object"==("undefined"==typeof window?"undefined":i(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];return Xl.f=function(i){return o&&"Window"===e(i)?function(e){try{return n(e)}catch(t){return r(o)}}(i):n(t(i))},Xl}var Zl,Ql,eu,tu,nu,iu,ru={};function ou(){if(Zl)return ru;Zl=1;var e=En();return ru.f=e,ru}function au(){if(iu)return $l;iu=1;var e=mr(),t=we(),n=Me(),i=Pt(),r=bn(),o=Re(),a=Bt(),s=Oe(),l=Tn(),u=jt(),c=zn(),h=Rt(),f=An(),p=ul(),d=Et(),g=zr(),y=Hr(),v=Hi(),m=Jl(),x=dr(),b=On(),k=Vn(),w=Ur(),C=St(),_=pi(),T=ja(),S=Cn(),E=ui(),P=ci(),A=Sn(),L=En(),I=ou(),O=function(){if(eu)return Ql;eu=1;var e=al(),t=Tn(),n=ou(),i=Vn().f;return Ql=function(r){var o=e.Symbol||(e.Symbol={});t(o,r)||i(o,r,{value:n.f(r)})}}(),R=function(){if(nu)return tu;nu=1;var e=Me(),t=Ft(),n=En(),i=pi();return tu=function(){var r=t("Symbol"),o=r&&r.prototype,a=o&&o.valueOf,s=n("toPrimitive");o&&!o[s]&&i(o,s,(function(t){return e(a,this)}),{arity:1})}}(),D=Fa(),M=hi(),N=Er().forEach,F=E("hidden"),j="Symbol",H="prototype",U=M.set,B=M.getterFor(j),z=Object[H],V=t.Symbol,G=V&&V[H],W=t.RangeError,Y=t.TypeError,K=t.QObject,$=b.f,X=k.f,q=m.f,J=C.f,Z=i([].push),Q=S("symbols"),ee=S("op-symbols"),te=S("wks"),ne=!K||!K[H]||!K[H].findChild,ie=function(e,t,n){var i=$(z,t);i&&delete z[t],X(e,t,n),i&&e!==z&&X(z,t,i)},re=o&&s((function(){return 7!==g(X({},"a",{get:function(){return X(this,"a",{value:7}).a}})).a}))?ie:X,oe=function(e,t){var n=Q[e]=g(G);return U(n,{type:j,tag:e,description:t}),o||(n.description=t),n},ae=function(e,t,n){e===z&&ae(ee,t,n),c(e);var i=f(t);return c(n),l(Q,i)?(n.enumerable?(l(e,F)&&e[F][i]&&(e[F][i]=!1),n=g(n,{enumerable:d(0,!1)})):(l(e,F)||X(e,F,d(1,{})),e[F][i]=!0),re(e,i,n)):X(e,i,n)},se=function(e,t){c(e);var i=h(t),r=y(i).concat(he(i));return N(r,(function(t){o&&!n(le,i,t)||ae(e,t,i[t])})),e},le=function(e){var t=f(e),i=n(J,this,t);return!(this===z&&l(Q,t)&&!l(ee,t))&&(!(i||!l(this,t)||!l(Q,t)||l(this,F)&&this[F][t])||i)},ue=function(e,t){var n=h(e),i=f(t);if(n!==z||!l(Q,i)||l(ee,i)){var r=$(n,i);return!r||!l(Q,i)||l(n,F)&&n[F][i]||(r.enumerable=!0),r}},ce=function(e){var t=q(h(e)),n=[];return N(t,(function(e){l(Q,e)||l(P,e)||Z(n,e)})),n},he=function(e){var t=e===z,n=q(t?ee:h(e)),i=[];return N(n,(function(e){!l(Q,e)||t&&!l(z,e)||Z(i,Q[e])})),i};return a||(V=function(){if(u(G,this))throw new Y("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?p(arguments[0]):void 0,i=A(e);return o&&ne&&re(z,i,{configurable:!0,set:function e(r){var o=void 0===this?t:this;o===z&&n(e,ee,r),l(o,F)&&l(o[F],i)&&(o[F][i]=!1);var a=d(1,r);try{re(o,i,a)}catch(s){if(!(s instanceof W))throw s;ie(o,i,a)}}}),oe(i,e)},_(G=V[H],"toString",(function(){return B(this).tag})),_(V,"withoutSetter",(function(e){return oe(A(e),e)})),C.f=le,k.f=ae,w.f=se,b.f=ue,v.f=m.f=ce,x.f=he,I.f=function(e){return oe(L(e),e)},o&&(T(G,"description",{configurable:!0,get:function(){return B(this).description}}),r||_(z,"propertyIsEnumerable",le,{unsafe:!0}))),e({global:!0,constructor:!0,wrap:!0,forced:!a,sham:!a},{Symbol:V}),N(y(te),(function(e){O(e)})),e({target:j,stat:!0,forced:!a},{useSetter:function(){ne=!0},useSimple:function(){ne=!1}}),e({target:"Object",stat:!0,forced:!a,sham:!o},{create:function(e,t){return void 0===t?g(e):se(g(e),t)},defineProperty:ae,defineProperties:se,getOwnPropertyDescriptor:ue}),e({target:"Object",stat:!0,forced:!a},{getOwnPropertyNames:ce}),R(),D(V,j),P[F]=!0,$l}var su,lu,uu,cu={};function hu(){if(lu)return su;lu=1;var e=Bt();return su=e&&!!Symbol.for&&!!Symbol.keyFor}var fu,pu={};var du,gu,yu,vu={};function mu(){if(yu)return vu;yu=1;var e=mr(),t=Ft(),n=Va(),i=Me(),r=Pt(),o=Oe(),a=Mt(),s=Vt(),l=Eo(),u=function(){if(gu)return du;gu=1;var e=Pt(),t=kr(),n=Mt(),i=At(),r=ul(),o=e([].push);return du=function(e){if(n(e))return e;if(t(e)){for(var a=e.length,s=[],l=0;l<a;l++){var u=e[l];"string"==typeof u?o(s,u):"number"!=typeof u&&"Number"!==i(u)&&"String"!==i(u)||o(s,r(u))}var c=s.length,h=!0;return function(e,n){if(h)return h=!1,n;if(t(this))return n;for(var i=0;i<c;i++)if(s[i]===e)return n}}}}(),c=Bt(),h=String,f=t("JSON","stringify"),p=r(/./.exec),d=r("".charAt),g=r("".charCodeAt),y=r("".replace),v=r(1..toString),m=/[\uD800-\uDFFF]/g,x=/^[\uD800-\uDBFF]$/,b=/^[\uDC00-\uDFFF]$/,k=!c||o((function(){var e=t("Symbol")("stringify detection");return"[null]"!==f([e])||"{}"!==f({a:e})||"{}"!==f(Object(e))})),w=o((function(){return'"\\udf06\\ud834"'!==f("\udf06\ud834")||'"\\udead"'!==f("\udead")})),C=function(e,t){var r=l(arguments),o=u(t);if(a(o)||void 0!==e&&!s(e))return r[1]=function(e,t){if(a(o)&&(t=i(o,this,h(e),t)),!s(t))return t},n(f,null,r)},_=function(e,t,n){var i=d(n,t-1),r=d(n,t+1);return p(x,e)&&!p(b,r)||p(b,e)&&!p(x,i)?"\\u"+v(g(e,0),16):e};return f&&e({target:"JSON",stat:!0,arity:3,forced:k||w},{stringify:function(e,t,i){var r=l(arguments),o=n(k?C:f,null,r);return w&&"string"==typeof o?y(o,m,_):o}}),vu}var xu,bu,ku={};function wu(){return bu||(bu=1,au(),function(){if(uu)return cu;uu=1;var e=mr(),t=Ft(),n=Tn(),i=ul(),r=Cn(),o=hu(),a=r("string-to-symbol-registry"),s=r("symbol-to-string-registry");e({target:"Symbol",stat:!0,forced:!o},{for:function(e){var r=i(e);if(n(a,r))return a[r];var o=t("Symbol")(r);return a[r]=o,s[o]=r,o}})}(),function(){if(fu)return pu;fu=1;var e=mr(),t=Tn(),n=Vt(),i=Gt(),r=Cn(),o=hu(),a=r("symbol-to-string-registry");e({target:"Symbol",stat:!0,forced:!o},{keyFor:function(e){if(!n(e))throw new TypeError(i(e)+" is not a symbol");if(t(a,e))return a[e]}})}(),mu(),function(){if(xu)return ku;xu=1;var e=mr(),t=Bt(),n=Oe(),i=dr(),r=_n();e({target:"Object",stat:!0,forced:!t||n((function(){i.f(1)}))},{getOwnPropertySymbols:function(e){var t=i.f;return t?t(r(e)):[]}})}()),Kl}var Cu,_u,Tu,Su,Eu,Pu,Au,Lu,Iu,Ou,Ru,Du={};function Mu(){if(_u)return Cu;_u=1;var e=zn();return Cu=function(){var t=e(this),n="";return t.hasIndices&&(n+="d"),t.global&&(n+="g"),t.ignoreCase&&(n+="i"),t.multiline&&(n+="m"),t.dotAll&&(n+="s"),t.unicode&&(n+="u"),t.unicodeSets&&(n+="v"),t.sticky&&(n+="y"),n}}function Nu(){if(Su)return Tu;Su=1;var e=Oe(),t=we().RegExp,n=e((function(){var e=t("a","y");return e.lastIndex=2,null!==e.exec("abcd")})),i=n||e((function(){return!t("a","y").sticky})),r=n||e((function(){var e=t("^r","gy");return e.lastIndex=2,null!==e.exec("str")}));return Tu={BROKEN_CARET:r,MISSED_STICKY:i,UNSUPPORTED_Y:n}}function Fu(){if(Pu)return Eu;Pu=1;var e=Oe(),t=we().RegExp;return Eu=e((function(){var e=t(".","s");return!(e.dotAll&&e.test("\n")&&"s"===e.flags)}))}function ju(){if(Lu)return Au;Lu=1;var e=Oe(),t=we().RegExp;return Au=e((function(){var e=t("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))}function Hu(){if(Ou)return Iu;Ou=1;var e,t,n=Me(),i=Pt(),r=ul(),o=Mu(),a=Nu(),s=Cn(),l=zr(),u=hi().get,c=Fu(),h=ju(),f=s("native-string-replace",String.prototype.replace),p=RegExp.prototype.exec,d=p,g=i("".charAt),y=i("".indexOf),v=i("".replace),m=i("".slice),x=(t=/b*/g,n(p,e=/a/,"a"),n(p,t,"a"),0!==e.lastIndex||0!==t.lastIndex),b=a.BROKEN_CARET,k=void 0!==/()??/.exec("")[1];return(x||k||b||c||h)&&(d=function(e){var t,i,a,s,c,h,w,C=this,_=u(C),T=r(e),S=_.raw;if(S)return S.lastIndex=C.lastIndex,t=n(d,S,T),C.lastIndex=S.lastIndex,t;var E=_.groups,P=b&&C.sticky,A=n(o,C),L=C.source,I=0,O=T;if(P&&(A=v(A,"y",""),-1===y(A,"g")&&(A+="g"),O=m(T,C.lastIndex),C.lastIndex>0&&(!C.multiline||C.multiline&&"\n"!==g(T,C.lastIndex-1))&&(L="(?: "+L+")",O=" "+O,I++),i=new RegExp("^(?:"+L+")",A)),k&&(i=new RegExp("^"+L+"$(?!\\s)",A)),x&&(a=C.lastIndex),s=n(p,P?i:C,O),P?s?(s.input=m(s.input,I),s[0]=m(s[0],I),s.index=C.lastIndex,C.lastIndex+=s[0].length):C.lastIndex=0:x&&s&&(C.lastIndex=C.global?s.index+s[0].length:a),k&&s&&s.length>1&&n(f,s[0],i,(function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(s[c]=void 0)})),s&&E)for(s.groups=h=l(null),c=0;c<E.length;c++)h[(w=E[c])[0]]=s[w[1]];return s}),Iu=d}function Uu(){if(Ru)return Du;Ru=1;var e=mr(),t=Hu();return e({target:"RegExp",proto:!0,forced:/./.exec!==t},{exec:t}),Du}var Bu,zu,Vu,Gu,Wu,Yu,Ku,$u,Xu,qu={};function Ju(){if(zu)return Bu;zu=1,Uu();var e=xr(),t=pi(),n=Hu(),i=Oe(),r=En(),o=Gn(),a=r("species"),s=RegExp.prototype;return Bu=function(l,u,c,h){var f=r(l),p=!i((function(){var e={};return e[f]=function(){return 7},7!==""[l](e)})),d=p&&!i((function(){var e=!1,t=/a/;return"split"===l&&((t={}).constructor={},t.constructor[a]=function(){return t},t.flags="",t[f]=/./[f]),t.exec=function(){return e=!0,null},t[f](""),!e}));if(!p||!d||c){var g=e(/./[f]),y=u(f,""[l],(function(t,i,r,o,a){var l=e(t),u=i.exec;return u===n||u===s.exec?p&&!a?{done:!0,value:g(i,r,o)}:{done:!0,value:l(r,i,o)}:{done:!1}}));t(String.prototype,l,y[0]),t(s,f,y[1])}h&&o(s[f],"sham",!0)}}function Zu(){if(Gu)return Vu;Gu=1;var e=Pt(),t=Oi(),n=ul(),i=Ot(),r=e("".charAt),o=e("".charCodeAt),a=e("".slice),s=function(e){return function(s,l){var u,c,h=n(i(s)),f=t(l),p=h.length;return f<0||f>=p?e?"":void 0:(u=o(h,f))<55296||u>56319||f+1===p||(c=o(h,f+1))<56320||c>57343?e?r(h,f):u:e?a(h,f,f+2):c-56320+(u-55296<<10)+65536}};return Vu={codeAt:s(!1),charAt:s(!0)}}function Qu(){if(Yu)return Wu;Yu=1;var e=Zu().charAt;return Wu=function(t,n,i){return n+(i?e(t,n).length:1)}}function ec(){if($u)return Ku;$u=1;var e=Me(),t=zn(),n=Mt(),i=At(),r=Hu(),o=TypeError;return Ku=function(a,s){var l=a.exec;if(n(l)){var u=e(l,a,s);return null!==u&&t(u),u}if("RegExp"===i(a))return e(r,a,s);throw new o("RegExp#exec called on incompatible receiver")}}var tc,nc,ic,rc,oc,ac,sc,lc={};function uc(){if(nc)return tc;nc=1;var e=Nt(),t=At(),n=En()("match");return tc=function(i){var r;return e(i)&&(void 0!==(r=i[n])?!!r:"RegExp"===t(i))}}function cc(){if(rc)return ic;rc=1;var e=Me(),t=Tn(),n=jt(),i=Mu(),r=RegExp.prototype;return ic=function(o){var a=o.flags;return void 0!==a||"flags"in r||t(o,"flags")||!n(r,o)?a:e(i,o)}}function hc(){if(ac)return oc;ac=1;var e=Vn().f;return oc=function(t,n,i){i in t||e(t,i,{configurable:!0,get:function(){return n[i]},set:function(e){n[i]=e}})}}function fc(){if(sc)return lc;sc=1;var e=Re(),t=we(),n=Pt(),i=vr(),r=sl(),o=Gn(),a=zr(),s=Hi().f,l=jt(),u=uc(),c=ul(),h=cc(),f=Nu(),p=hc(),d=pi(),g=Oe(),y=Tn(),v=hi().enforce,m=Ha(),x=En(),b=Fu(),k=ju(),w=x("match"),C=t.RegExp,_=C.prototype,T=t.SyntaxError,S=n(_.exec),E=n("".charAt),P=n("".replace),A=n("".indexOf),L=n("".slice),I=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,O=/a/g,R=/a/g,D=new C(O)!==O,M=f.MISSED_STICKY,N=f.UNSUPPORTED_Y,F=e&&(!D||M||b||k||g((function(){return R[w]=!1,C(O)!==O||C(R)===R||"/a/i"!==String(C(O,"i"))})));if(i("RegExp",F)){for(var j=function(e,t){var n,i,s,f,p,d,g=l(_,this),m=u(e),x=void 0===t,w=[],R=e;if(!g&&m&&x&&e.constructor===j)return e;if((m||l(_,e))&&(e=e.source,x&&(t=h(R))),e=void 0===e?"":c(e),t=void 0===t?"":c(t),R=e,b&&"dotAll"in O&&(i=!!t&&A(t,"s")>-1)&&(t=P(t,/s/g,"")),n=t,M&&"sticky"in O&&(s=!!t&&A(t,"y")>-1)&&N&&(t=P(t,/y/g,"")),k&&(f=function(e){for(var t,n=e.length,i=0,r="",o=[],s=a(null),l=!1,u=!1,c=0,h="";i<=n;i++){if("\\"===(t=E(e,i)))t+=E(e,++i);else if("]"===t)l=!1;else if(!l)switch(!0){case"["===t:l=!0;break;case"("===t:S(I,L(e,i+1))&&(i+=2,u=!0),r+=t,c++;continue;case">"===t&&u:if(""===h||y(s,h))throw new T("Invalid capture group name");s[h]=!0,o[o.length]=[h,c],u=!1,h="";continue}u?h+=t:r+=t}return[r,o]}(e),e=f[0],w=f[1]),p=r(C(e,t),g?this:_,j),(i||s||w.length)&&(d=v(p),i&&(d.dotAll=!0,d.raw=j(function(e){for(var t,n=e.length,i=0,r="",o=!1;i<=n;i++)"\\"!==(t=E(e,i))?o||"."!==t?("["===t?o=!0:"]"===t&&(o=!1),r+=t):r+="[\\s\\S]":r+=t+E(e,++i);return r}(e),n)),s&&(d.sticky=!0),w.length&&(d.groups=w)),e!==R)try{o(p,"source",""===R?"(?:)":R)}catch(D){}return p},H=s(C),U=0;H.length>U;)p(j,C,H[U++]);_.constructor=j,j.prototype=_,d(t,"RegExp",j,{constructor:!0})}return m("RegExp"),lc}var pc,dc={};var gc,yc={};var vc,mc={};var xc,bc,kc,wc={};function Cc(){if(bc)return xc;bc=1;var e=Pt(),t=_n(),n=Math.floor,i=e("".charAt),r=e("".replace),o=e("".slice),a=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,s=/\$([$&'`]|\d{1,2})/g;return xc=function(e,l,u,c,h,f){var p=u+e.length,d=c.length,g=s;return void 0!==h&&(h=t(h),g=a),r(f,g,(function(t,r){var a;switch(i(r,0)){case"$":return"$";case"&":return e;case"`":return o(l,0,u);case"'":return o(l,p);case"<":a=h[o(r,1,-1)];break;default:var s=+r;if(0===s)return t;if(s>d){var f=n(s/10);return 0===f?t:f<=d?void 0===c[f-1]?i(r,1):c[f-1]+i(r,1):t}a=c[s-1]}return void 0===a?"":a}))},xc}var _c,Tc,Sc,Ec={};function Pc(){if(Sc)return Ec;Sc=1;var e=mr(),t=hl().trim,n=function(){if(Tc)return _c;Tc=1;var e=si().PROPER,t=Oe(),n=cl();return _c=function(i){return t((function(){return!!n[i]()||"​᠎"!=="​᠎"[i]()||e&&n[i].name!==i}))}}();return e({target:"String",proto:!0,forced:n("trim")},{trim:function(){return t(this)}}),Ec}var Ac,Lc={};var Ic,Oc,Rc,Dc,Mc,Nc,Fc,jc,Hc,Uc={};function Bc(){if(Oc)return Ic;Oc=1;var e=ql(),t=Math.floor,n=function(e,t){for(var n,i,r=e.length,o=1;o<r;){for(i=o,n=e[o];i&&t(e[i-1],n)>0;)e[i]=e[--i];i!==o++&&(e[i]=n)}return e},i=function(e,t,n,i){for(var r=t.length,o=n.length,a=0,s=0;a<r||s<o;)e[a+s]=a<r&&s<o?i(t[a],n[s])<=0?t[a++]:n[s++]:a<r?t[a++]:n[s++];return e};return Ic=function r(o,a){var s=o.length,l=t(s/2);return s<8?n(o,a):i(o,r(e(o,0,l),a),r(e(o,l),a),a)},Ic}function zc(){if(Dc)return Rc;Dc=1;var e=Ht().match(/firefox\/(\d+)/i);return Rc=!!e&&+e[1]}function Vc(){if(Nc)return Mc;Nc=1;var e=Ht();return Mc=/MSIE|Trident/.test(e)}function Gc(){if(jc)return Fc;jc=1;var e=Ht().match(/AppleWebKit\/(\d+)\./);return Fc=!!e&&+e[1]}function Wc(){if(Hc)return Uc;Hc=1;var e=mr(),t=Pt(),n=Wt(),i=_n(),r=Mi(),o=No(),a=ul(),s=Oe(),l=Bc(),u=xo(),c=zc(),h=Vc(),f=Ut(),p=Gc(),d=[],g=t(d.sort),y=t(d.push),v=s((function(){d.sort(void 0)})),m=s((function(){d.sort(null)})),x=u("sort"),b=!s((function(){if(f)return f<70;if(!(c&&c>3)){if(h)return!0;if(p)return p<603;var e,t,n,i,r="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(i=0;i<47;i++)d.push({k:t+i,v:n})}for(d.sort((function(e,t){return t.v-e.v})),i=0;i<d.length;i++)t=d[i].k.charAt(0),r.charAt(r.length-1)!==t&&(r+=t);return"DGBEFHACIJK"!==r}}));return e({target:"Array",proto:!0,forced:v||!m||!x||!b},{sort:function(e){void 0!==e&&n(e);var t=i(this);if(b)return void 0===e?g(t):g(t,e);var s,u,c=[],h=r(t);for(u=0;u<h;u++)u in t&&y(c,t[u]);for(l(c,function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:a(t)>a(n)?1:-1}}(e)),s=r(c),u=0;u<s;)t[u]=c[u++];for(;u<h;)o(t,u++);return t}}),Uc}var Yc,Kc={};function $c(){if(Yc)return Kc;Yc=1;var e=Zu().charAt,t=ul(),n=hi(),i=Ol(),r=Rl(),o="String Iterator",a=n.set,s=n.getterFor(o);return i(String,"String",(function(e){a(this,{type:o,string:t(e),index:0})}),(function(){var t,n=s(this),i=n.string,o=n.index;return o>=i.length?r(void 0,!0):(t=e(i,o),n.index+=t.length,r(t,!1))})),Kc}var Xc,qc,Jc,Zc={};function Qc(){if(qc)return Xc;qc=1;var e=Oi(),t=ul(),n=Ot(),i=RangeError;return Xc=function(r){var o=t(n(this)),a="",s=e(r);if(s<0||s===1/0)throw new i("Wrong number of repetitions");for(;s>0;(s>>>=1)&&(o+=o))1&s&&(a+=o);return a}}var eh;var th,nh={};var ih,rh,oh,ah,sh,lh,uh,ch,hh,fh,ph,dh,gh,yh,vh,mh,xh,bh,kh,wh,Ch,_h,Th,Sh,Eh,Ph,Ah,Lh,Ih,Oh,Rh,Dh,Mh,Nh,Fh,jh,Hh,Uh,Bh={exports:{}};function zh(){return rh?ih:(rh=1,ih="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView)}function Vh(){if(ah)return oh;ah=1;var e,t,n,i=zh(),r=Re(),o=we(),a=Mt(),s=Nt(),l=Tn(),u=Cr(),c=Gt(),h=Gn(),f=pi(),p=ja(),d=jt(),g=Al(),y=Na(),v=En(),m=Sn(),x=hi(),b=x.enforce,k=x.get,w=o.Int8Array,C=w&&w.prototype,_=o.Uint8ClampedArray,T=_&&_.prototype,S=w&&g(w),E=C&&g(C),P=Object.prototype,A=o.TypeError,L=v("toStringTag"),I=m("TYPED_ARRAY_TAG"),O="TypedArrayConstructor",R=i&&!!y&&"Opera"!==u(o.opera),D=!1,M={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},N={BigInt64Array:8,BigUint64Array:8},F=function(e){if(!s(e))return!1;var t=u(e);return l(M,t)||l(N,t)};for(e in M)(n=(t=o[e])&&t.prototype)?b(n)[O]=t:R=!1;for(e in N)(n=(t=o[e])&&t.prototype)&&(b(n)[O]=t);if((!R||!a(S)||S===Function.prototype)&&(S=function(){throw new A("Incorrect invocation")},R))for(e in M)o[e]&&y(o[e],S);if((!R||!E||E===P)&&(E=S.prototype,R))for(e in M)o[e]&&y(o[e].prototype,E);if(R&&g(T)!==E&&y(T,E),r&&!l(E,L))for(e in D=!0,p(E,L,{configurable:!0,get:function(){return s(this)?this[I]:void 0}}),M)o[e]&&h(o[e],I,e);return oh={NATIVE_ARRAY_BUFFER_VIEWS:R,TYPED_ARRAY_TAG:D&&I,aTypedArray:function(e){if(F(e))return e;throw new A("Target is not a typed array")},aTypedArrayConstructor:function(e){if(a(e)&&(!y||d(S,e)))return e;throw new A(c(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,n,i){if(r){if(n)for(var a in M){var s=o[a];if(s&&l(s.prototype,e))try{delete s.prototype[e]}catch(u){try{s.prototype[e]=t}catch(c){}}}E[e]&&!n||f(E,e,n?t:R&&C[e]||t,i)}},exportTypedArrayStaticMethod:function(e,t,n){var i,a;if(r){if(y){if(n)for(i in M)if((a=o[i])&&l(a,e))try{delete a[e]}catch(s){}if(S[e]&&!n)return;try{return f(S,e,n?t:R&&S[e]||t)}catch(s){}}for(i in M)!(a=o[i])||a[e]&&!n||f(a,e,t)}},getTypedArrayConstructor:function e(t){var n=g(t);if(s(n)){var i=k(n);return i&&l(i,O)?i[O]:e(n)}},isView:function(e){if(!s(e))return!1;var t=u(e);return"DataView"===t||l(M,t)||l(N,t)},isTypedArray:F,TypedArray:S,TypedArrayPrototype:E},oh}function Gh(){if(ch)return uh;ch=1;var e=pi();return uh=function(t,n,i){for(var r in n)e(t,r,n[r],i);return t}}function Wh(){if(fh)return hh;fh=1;var e=Oi(),t=Di(),n=RangeError;return hh=function(i){if(void 0===i)return 0;var r=e(i),o=t(r);if(r!==o)throw new n("Wrong length or index");return o}}function Yh(){if(yh)return gh;yh=1;var e=dh?ph:(dh=1,ph=Math.sign||function(e){var t=+e;return 0===t||t!=t?t:t<0?-1:1}),t=Math.abs,n=2220446049250313e-31,i=1/n;return gh=function(r,o,a,s){var l=+r,u=t(l),c=e(l);if(u<s)return c*function(e){return e+i-i}(u/s/o)*s*o;var h=(1+o/n)*u,f=h-(h-u);return f>a||f!=f?c*(1/0):c*f}}function Kh(){if(bh)return xh;bh=1;var e=Array,t=Math.abs,n=Math.pow,i=Math.floor,r=Math.log,o=Math.LN2;return xh={pack:function(a,s,l){var u,c,h,f=e(l),p=8*l-s-1,d=(1<<p)-1,g=d>>1,y=23===s?n(2,-24)-n(2,-77):0,v=a<0||0===a&&1/a<0?1:0,m=0;for((a=t(a))!=a||a===1/0?(c=a!=a?1:0,u=d):(u=i(r(a)/o),a*(h=n(2,-u))<1&&(u--,h*=2),(a+=u+g>=1?y/h:y*n(2,1-g))*h>=2&&(u++,h/=2),u+g>=d?(c=0,u=d):u+g>=1?(c=(a*h-1)*n(2,s),u+=g):(c=a*n(2,g-1)*n(2,s),u=0));s>=8;)f[m++]=255&c,c/=256,s-=8;for(u=u<<s|c,p+=s;p>0;)f[m++]=255&u,u/=256,p-=8;return f[--m]|=128*v,f},unpack:function(e,t){var i,r=e.length,o=8*r-t-1,a=(1<<o)-1,s=a>>1,l=o-7,u=r-1,c=e[u--],h=127&c;for(c>>=7;l>0;)h=256*h+e[u--],l-=8;for(i=h&(1<<-l)-1,h>>=-l,l+=t;l>0;)i=256*i+e[u--],l-=8;if(0===h)h=1-s;else{if(h===a)return i?NaN:c?-1/0:1/0;i+=n(2,t),h-=s}return(c?-1:1)*i*n(2,h-t)}}}function $h(){if(wh)return kh;wh=1;var e=_n(),t=Ri(),n=Mi();return kh=function(i){for(var r=e(this),o=n(r),a=arguments.length,s=t(a>1?arguments[1]:void 0,o),l=a>2?arguments[2]:void 0,u=void 0===l?o:t(l,o);u>s;)r[s++]=i;return r},kh}function Xh(){if(_h)return Ch;_h=1;var e=we(),t=Pt(),n=Re(),i=zh(),r=si(),o=Gn(),a=ja(),s=Gh(),l=Oe(),u=Ua(),c=Oi(),h=Di(),f=Wh(),p=function(){if(mh)return vh;mh=1;var e=Yh();return vh=Math.fround||function(t){return e(t,1.1920928955078125e-7,34028234663852886e22,11754943508222875e-54)}}(),d=Kh(),g=Al(),y=Na(),v=Hi().f,m=$h(),x=ql(),b=Fa(),k=hi(),w=r.PROPER,C=r.CONFIGURABLE,_="ArrayBuffer",T="DataView",S="prototype",E="Wrong index",P=k.getterFor(_),A=k.getterFor(T),L=k.set,I=e[_],O=I,R=O&&O[S],D=e[T],M=D&&D[S],N=Object.prototype,F=e.Array,j=e.RangeError,H=t(m),U=t([].reverse),B=d.pack,z=d.unpack,V=function(e){return[255&e]},G=function(e){return[255&e,e>>8&255]},W=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},Y=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},K=function(e){return B(p(e),23,4)},$=function(e){return B(e,52,8)},X=function(e,t,n){a(e[S],t,{configurable:!0,get:function(){return n(this)[t]}})},q=function(e,t,n,i){var r=A(e),o=f(n),a=!!i;if(o+t>r.byteLength)throw new j(E);var s=r.bytes,l=o+r.byteOffset,u=x(s,l,l+t);return a?u:U(u)},J=function(e,t,n,i,r,o){var a=A(e),s=f(n),l=i(+r),u=!!o;if(s+t>a.byteLength)throw new j(E);for(var c=a.bytes,h=s+a.byteOffset,p=0;p<t;p++)c[h+p]=l[u?p:t-p-1]};if(i){var Z=w&&I.name!==_;if(l((function(){I(1)}))&&l((function(){new I(-1)}))&&!l((function(){return new I,new I(1.5),new I(NaN),1!==I.length||Z&&!C})))Z&&C&&o(I,"name",_);else{(O=function(e){return u(this,R),new I(f(e))})[S]=R;for(var Q,ee=v(I),te=0;ee.length>te;)(Q=ee[te++])in O||o(O,Q,I[Q]);R.constructor=O}y&&g(M)!==N&&y(M,N);var ne=new D(new O(2)),ie=t(M.setInt8);ne.setInt8(0,2147483648),ne.setInt8(1,2147483649),!ne.getInt8(0)&&ne.getInt8(1)||s(M,{setInt8:function(e,t){ie(this,e,t<<24>>24)},setUint8:function(e,t){ie(this,e,t<<24>>24)}},{unsafe:!0})}else R=(O=function(e){u(this,R);var t=f(e);L(this,{type:_,bytes:H(F(t),0),byteLength:t}),n||(this.byteLength=t,this.detached=!1)})[S],M=(D=function(e,t,i){u(this,M),u(e,R);var r=P(e),o=r.byteLength,a=c(t);if(a<0||a>o)throw new j("Wrong offset");if(a+(i=void 0===i?o-a:h(i))>o)throw new j("Wrong length");L(this,{type:T,buffer:e,byteLength:i,byteOffset:a,bytes:r.bytes}),n||(this.buffer=e,this.byteLength=i,this.byteOffset=a)})[S],n&&(X(O,"byteLength",P),X(D,"buffer",A),X(D,"byteLength",A),X(D,"byteOffset",A)),s(M,{getInt8:function(e){return q(this,1,e)[0]<<24>>24},getUint8:function(e){return q(this,1,e)[0]},getInt16:function(e){var t=q(this,2,e,arguments.length>1&&arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=q(this,2,e,arguments.length>1&&arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return Y(q(this,4,e,arguments.length>1&&arguments[1]))},getUint32:function(e){return Y(q(this,4,e,arguments.length>1&&arguments[1]))>>>0},getFloat32:function(e){return z(q(this,4,e,arguments.length>1&&arguments[1]),23)},getFloat64:function(e){return z(q(this,8,e,arguments.length>1&&arguments[1]),52)},setInt8:function(e,t){J(this,1,e,V,t)},setUint8:function(e,t){J(this,1,e,V,t)},setInt16:function(e,t){J(this,2,e,G,t,arguments.length>2&&arguments[2])},setUint16:function(e,t){J(this,2,e,G,t,arguments.length>2&&arguments[2])},setInt32:function(e,t){J(this,4,e,W,t,arguments.length>2&&arguments[2])},setUint32:function(e,t){J(this,4,e,W,t,arguments.length>2&&arguments[2])},setFloat32:function(e,t){J(this,4,e,K,t,arguments.length>2&&arguments[2])},setFloat64:function(e,t){J(this,8,e,$,t,arguments.length>2&&arguments[2])}});return b(O,_),b(D,T),Ch={ArrayBuffer:O,DataView:D}}function qh(){if(Sh)return Th;Sh=1;var e=Nt(),t=Math.floor;return Th=Number.isInteger||function(n){return!e(n)&&isFinite(n)&&t(n)===n}}function Jh(){if(Ph)return Eh;Ph=1;var e=Oi(),t=RangeError;return Eh=function(n){var i=e(n);if(i<0)throw new t("The argument can't be less than 0");return i}}function Zh(){if(Lh)return Ah;Lh=1;var e=Jh(),t=RangeError;return Ah=function(n,i){var r=e(n);if(r%i)throw new t("Wrong offset");return r}}function Qh(){if(Oh)return Ih;Oh=1;var e=Math.round;return Ih=function(t){var n=e(t);return n<0?0:n>255?255:255&n}}function ef(){if(Dh)return Rh;Dh=1;var e=Cr();return Rh=function(t){var n=e(t);return"BigInt64Array"===n||"BigUint64Array"===n}}function tf(){if(Nh)return Mh;Nh=1;var e=Pn(),t=TypeError;return Mh=function(n){var i=e(n,"number");if("number"==typeof i)throw new t("Can't convert number to bigint");return BigInt(i)}}function nf(){if(jh)return Fh;jh=1;var e=br(),t=Me(),n=Ba(),i=_n(),r=Mi(),o=Ts(),a=_s(),s=Cs(),l=ef(),u=Vh().aTypedArrayConstructor,c=tf();return Fh=function(h){var f,p,d,g,y,v,m,x,b=n(this),k=i(h),w=arguments.length,C=w>1?arguments[1]:void 0,_=void 0!==C,T=a(k);if(T&&!s(T))for(x=(m=o(k,T)).next,k=[];!(v=t(x,m)).done;)k.push(v.value);for(_&&w>2&&(C=e(C,arguments[2])),p=r(k),d=new(u(b))(p),g=l(d),f=0;p>f;f++)y=_?C(k[f],f):k[f],d[f]=g?c(y):+y;return d},Fh}function rf(){if(Hh)return Bh.exports;Hh=1;var e=mr(),t=we(),n=Me(),i=Re(),r=function(){if(lh)return sh;lh=1;var e=we(),t=Oe(),n=Ps(),i=Vh().NATIVE_ARRAY_BUFFER_VIEWS,r=e.ArrayBuffer,o=e.Int8Array;return sh=!i||!t((function(){o(1)}))||!t((function(){new o(-1)}))||!n((function(e){new o,new o(null),new o(1.5),new o(e)}),!0)||t((function(){return 1!==new o(new r(2),1,void 0).length}))}(),o=Vh(),a=Xh(),s=Ua(),l=Et(),u=Gn(),c=qh(),h=Di(),f=Wh(),p=Zh(),d=Qh(),g=An(),y=Tn(),v=Cr(),m=Nt(),x=Vt(),b=zr(),k=jt(),w=Na(),C=Hi().f,_=nf(),T=Er().forEach,S=Ha(),E=ja(),P=Vn(),A=On(),L=hi(),I=sl(),O=L.get,R=L.set,D=L.enforce,M=P.f,N=A.f,F=t.RangeError,j=a.ArrayBuffer,H=j.prototype,U=a.DataView,B=o.NATIVE_ARRAY_BUFFER_VIEWS,z=o.TYPED_ARRAY_TAG,V=o.TypedArray,G=o.TypedArrayPrototype,W=o.aTypedArrayConstructor,Y=o.isTypedArray,K="BYTES_PER_ELEMENT",$="Wrong length",X=function(e,t){W(e);for(var n=0,i=t.length,r=new e(i);i>n;)r[n]=t[n++];return r},q=function(e,t){E(e,t,{configurable:!0,get:function(){return O(this)[t]}})},J=function(e){var t;return k(H,e)||"ArrayBuffer"===(t=v(e))||"SharedArrayBuffer"===t},Z=function(e,t){return Y(e)&&!x(t)&&t in e&&c(+t)&&t>=0},Q=function(e,t){return t=g(t),Z(e,t)?l(2,e[t]):N(e,t)},ee=function(e,t,n){return t=g(t),!(Z(e,t)&&m(n)&&y(n,"value"))||y(n,"get")||y(n,"set")||n.configurable||y(n,"writable")&&!n.writable||y(n,"enumerable")&&!n.enumerable?M(e,t,n):(e[t]=n.value,e)};return i?(B||(A.f=Q,P.f=ee,q(G,"buffer"),q(G,"byteOffset"),q(G,"byteLength"),q(G,"length")),e({target:"Object",stat:!0,forced:!B},{getOwnPropertyDescriptor:Q,defineProperty:ee}),Bh.exports=function(i,o,a){var l=i.match(/\d+/)[0]/8,c=i+(a?"Clamped":"")+"Array",g="get"+i,y="set"+i,v=t[c],x=v,k=x&&x.prototype,E={},P=function(e,t){M(e,t,{get:function(){return function(e,t){var n=O(e);return n.view[g](t*l+n.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,n){var i=O(e);i.view[y](t*l+i.byteOffset,a?d(n):n,!0)}(this,t,e)},enumerable:!0})};B?r&&(x=o((function(e,t,i,r){return s(e,k),I(m(t)?J(t)?void 0!==r?new v(t,p(i,l),r):void 0!==i?new v(t,p(i,l)):new v(t):Y(t)?X(x,t):n(_,x,t):new v(f(t)),e,x)})),w&&w(x,V),T(C(v),(function(e){e in x||u(x,e,v[e])})),x.prototype=k):(x=o((function(e,t,i,r){s(e,k);var o,a,u,c=0,d=0;if(m(t)){if(!J(t))return Y(t)?X(x,t):n(_,x,t);o=t,d=p(i,l);var g=t.byteLength;if(void 0===r){if(g%l)throw new F($);if((a=g-d)<0)throw new F($)}else if((a=h(r)*l)+d>g)throw new F($);u=a/l}else u=f(t),o=new j(a=u*l);for(R(e,{buffer:o,byteOffset:d,byteLength:a,length:u,view:new U(o)});c<u;)P(e,c++)})),w&&w(x,V),k=x.prototype=b(G)),k.constructor!==x&&u(k,"constructor",x),D(k).TypedArrayConstructor=x,z&&u(k,z,c);var A=x!==v;E[c]=x,e({global:!0,constructor:!0,forced:A,sham:!B},E),K in x||u(x,K,l),K in k||u(k,K,l),S(c)}):Bh.exports=function(){},Bh.exports}var of,af,sf={},lf={};function uf(){return af||(af=1,function(){if(of)return lf;of=1;var e=Vh(),t=Mi(),n=Oi(),i=e.aTypedArray;(0,e.exportTypedArrayMethod)("at",(function(e){var r=i(this),o=t(r),a=n(e),s=a>=0?a:o+a;return s<0||s>=o?void 0:r[s]}))}()),sf}var cf,hf,ff,pf={};function df(){if(ff)return pf;ff=1;var e=Pt(),t=Vh(),n=function(){if(hf)return cf;hf=1;var e=_n(),t=Ri(),n=Mi(),i=No(),r=Math.min;return cf=[].copyWithin||function(o,a){var s=e(this),l=n(s),u=t(o,l),c=t(a,l),h=arguments.length>2?arguments[2]:void 0,f=r((void 0===h?l:t(h,l))-c,l-u),p=1;for(c<u&&u<c+f&&(p=-1,c+=f-1,u+=f-1);f-- >0;)c in s?s[u]=s[c]:i(s,u),u+=p,c+=p;return s},cf}(),i=e(n),r=t.aTypedArray;return(0,t.exportTypedArrayMethod)("copyWithin",(function(e,t){return i(r(this),e,t,arguments.length>2?arguments[2]:void 0)})),pf}var gf,yf={};var vf,mf={};var xf,bf,kf,wf,Cf,_f,Tf,Sf={};function Ef(){if(bf)return xf;bf=1;var e=Mi();return xf=function(t,n,i){for(var r=0,o=arguments.length>2?i:e(n),a=new t(o);o>r;)a[r]=n[r++];return a},xf}function Pf(){if(wf)return kf;wf=1;var e=Vh(),t=za(),n=e.aTypedArrayConstructor,i=e.getTypedArrayConstructor;return kf=function(e){return n(t(e,i(e)))}}function Af(){if(Tf)return Sf;Tf=1;var e=Vh(),t=Er().filter,n=function(){if(_f)return Cf;_f=1;var e=Ef(),t=Pf();return Cf=function(n,i){return e(t(n),i)}}(),i=e.aTypedArray;return(0,e.exportTypedArrayMethod)("filter",(function(e){var r=t(i(this),e,arguments.length>1?arguments[1]:void 0);return n(this,r)})),Sf}var Lf,If={};var Of,Rf={};var Df,Mf,Nf,Ff,jf={},Hf={};function Uf(){if(Mf)return Df;Mf=1;var e=br(),t=Lt(),n=_n(),i=Mi(),r=function(r){var o=1===r;return function(a,s,l){for(var u,c=n(a),h=t(c),f=i(h),p=e(s,l);f-- >0;)if(p(u=h[f],f,c))switch(r){case 0:return u;case 1:return f}return o?-1:void 0}};return Df={findLast:r(0),findLastIndex:r(1)}}function Bf(){return Ff||(Ff=1,function(){if(Nf)return Hf;Nf=1;var e=Vh(),t=Uf().findLast,n=e.aTypedArray;(0,e.exportTypedArrayMethod)("findLast",(function(e){return t(n(this),e,arguments.length>1?arguments[1]:void 0)}))}()),jf}var zf,Vf,Gf={},Wf={};function Yf(){return Vf||(Vf=1,function(){if(zf)return Wf;zf=1;var e=Vh(),t=Uf().findLastIndex,n=e.aTypedArray;(0,e.exportTypedArrayMethod)("findLastIndex",(function(e){return t(n(this),e,arguments.length>1?arguments[1]:void 0)}))}()),Gf}var Kf,$f={};var Xf,qf={};var Jf,Zf={};var Qf,ep={};var tp,np={};var ip,rp,op,ap={};function sp(){if(op)return ap;op=1;var e=Vh(),t=Va(),n=function(){if(rp)return ip;rp=1;var e=Va(),t=Rt(),n=Oi(),i=Mi(),r=xo(),o=Math.min,a=[].lastIndexOf,s=!!a&&1/[1].lastIndexOf(1,-0)<0,l=r("lastIndexOf");return ip=s||!l?function(r){if(s)return e(a,this,arguments)||0;var l=t(this),u=i(l),c=u-1;for(arguments.length>1&&(c=o(c,n(arguments[1]))),c<0&&(c=u+c);c>=0;c--)if(c in l&&l[c]===r)return c||0;return-1}:a,ip}(),i=e.aTypedArray;return(0,e.exportTypedArrayMethod)("lastIndexOf",(function(e){var r=arguments.length;return t(n,i(this),r>1?[e,arguments[1]]:[e])})),ap}var lp,up={};var cp,hp,fp,pp={};function dp(){if(hp)return cp;hp=1;var e=Wt(),t=_n(),n=Lt(),i=Mi(),r=TypeError,o=function(o){return function(a,s,l,u){var c=t(a),h=n(c),f=i(c);e(s);var p=o?f-1:0,d=o?-1:1;if(l<2)for(;;){if(p in h){u=h[p],p+=d;break}if(p+=d,o?p<0:f<=p)throw new r("Reduce of empty array with no initial value")}for(;o?p>=0:f>p;p+=d)p in h&&(u=s(u,h[p],p,c));return u}};return cp={left:o(!1),right:o(!0)}}var gp,yp={};var vp,mp={};var xp,bp={};var kp,wp={};var Cp,_p={};var Tp,Sp={};var Ep,Pp={};var Ap,Lp={};var Ip,Op={};var Rp,Dp,Mp,Np,Fp,jp,Hp,Up,Bp,zp,Vp,Gp,Wp={};function Yp(){if(Dp)return Rp;Dp=1;var e=Oe(),t=En(),n=Re(),i=bn(),r=t("iterator");return Rp=!e((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,o=new URLSearchParams("a=1&a=2&b=3"),a="";return e.pathname="c%20d",t.forEach((function(e,n){t.delete("b"),a+=n+e})),o.delete("a",2),o.delete("b",void 0),i&&(!e.toJSON||!o.has("a",1)||o.has("a",2)||!o.has("a",void 0)||o.has("b"))||!t.size&&(i||!n)||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[r]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==a||"x"!==new URL("http://x",void 0).host}))}function Kp(){if(Np)return Mp;Np=1;var e=zn(),t=Ss();return Mp=function(n,i,r,o){try{return o?i(e(r)[0],r[1]):i(r)}catch(a){t(n,"throw",a)}}}function $p(){if(jp)return Fp;jp=1;var e=br(),t=Me(),n=_n(),i=Kp(),r=Cs(),o=_r(),a=Mi(),s=ro(),l=Ts(),u=_s(),c=Array;return Fp=function(h){var f=n(h),p=o(this),d=arguments.length,g=d>1?arguments[1]:void 0,y=void 0!==g;y&&(g=e(g,d>2?arguments[2]:void 0));var v,m,x,b,k,w,C=u(f),_=0;if(!C||this===c&&r(C))for(v=a(f),m=p?new this(v):c(v);v>_;_++)w=y?g(f[_],_):f[_],s(m,_,w);else for(k=(b=l(f,C)).next,m=p?new this:[];!(x=t(k,b)).done;_++)w=y?i(b,g,[x.value,_],!0):x.value,s(m,_,w);return m.length=_,m},Fp}function Xp(){if(Up)return Hp;Up=1;var e=Pt(),t=2147483647,n=/[^\0-\u007E]/,i=/[.\u3002\uFF0E\uFF61]/g,r="Overflow: input needs wider integers to process",o=RangeError,a=e(i.exec),s=Math.floor,l=String.fromCharCode,u=e("".charCodeAt),c=e([].join),h=e([].push),f=e("".replace),p=e("".split),d=e("".toLowerCase),g=function(e){return e+22+75*(e<26)},y=function(e,t,n){var i=0;for(e=n?s(e/700):e>>1,e+=s(e/t);e>455;)e=s(e/35),i+=36;return s(i+36*e/(e+38))},v=function(e){var n=[];e=function(e){for(var t=[],n=0,i=e.length;n<i;){var r=u(e,n++);if(r>=55296&&r<=56319&&n<i){var o=u(e,n++);56320==(64512&o)?h(t,((1023&r)<<10)+(1023&o)+65536):(h(t,r),n--)}else h(t,r)}return t}(e);var i,a,f=e.length,p=128,d=0,v=72;for(i=0;i<e.length;i++)(a=e[i])<128&&h(n,l(a));var m=n.length,x=m;for(m&&h(n,"-");x<f;){var b=t;for(i=0;i<e.length;i++)(a=e[i])>=p&&a<b&&(b=a);var k=x+1;if(b-p>s((t-d)/k))throw new o(r);for(d+=(b-p)*k,p=b,i=0;i<e.length;i++){if((a=e[i])<p&&++d>t)throw new o(r);if(a===p){for(var w=d,C=36;;){var _=C<=v?1:C>=v+26?26:C-v;if(w<_)break;var T=w-_,S=36-_;h(n,l(g(_+T%S))),w=s(T/S),C+=36}h(n,l(g(w))),v=y(d,k,x===m),d=0,x++}}d++,p++}return c(n,"")};return Hp=function(e){var t,r,o=[],s=p(f(d(e),i,"."),".");for(t=0;t<s.length;t++)r=s[t],h(o,a(n,r)?"xn--"+v(r):r);return c(o,".")}}function qp(){if(zp)return Bp;zp=1,Dl();var e=mr(),t=we(),n=Me(),i=Pt(),r=Re(),o=Yp(),a=pi(),s=ja(),l=Gh(),u=Fa(),c=Il(),h=hi(),f=Ua(),p=Mt(),d=Tn(),g=br(),y=Cr(),v=zn(),m=Nt(),x=ul(),b=zr(),k=Et(),w=Ts(),C=_s(),_=Rl(),T=Ga(),S=En(),E=Bc(),P=S("iterator"),A="URLSearchParams",L=A+"Iterator",I=h.set,O=h.getterFor(A),R=h.getterFor(L),D=Object.getOwnPropertyDescriptor,M=function(e){if(!r)return t[e];var n=D(t,e);return n&&n.value},N=M("fetch"),F=M("Request"),j=M("Headers"),H=F&&F.prototype,U=j&&j.prototype,B=t.RegExp,z=t.TypeError,V=t.decodeURIComponent,G=t.encodeURIComponent,W=i("".charAt),Y=i([].join),K=i([].push),$=i("".replace),X=i([].shift),q=i([].splice),J=i("".split),Z=i("".slice),Q=/\+/g,ee=Array(4),te=function(e){return ee[e-1]||(ee[e-1]=B("((?:%[\\da-f]{2}){"+e+"})","gi"))},ne=function(e){try{return V(e)}catch(t){return e}},ie=function(e){var t=$(e,Q," "),n=4;try{return V(t)}catch(i){for(;n;)t=$(t,te(n--),ne);return t}},re=/[!'()~]|%20/g,oe={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ae=function(e){return oe[e]},se=function(e){return $(G(e),re,ae)},le=c((function(e,t){I(this,{type:L,target:O(e).entries,index:0,kind:t})}),A,(function(){var e=R(this),t=e.target,n=e.index++;if(!t||n>=t.length)return e.target=void 0,_(void 0,!0);var i=t[n];switch(e.kind){case"keys":return _(i.key,!1);case"values":return _(i.value,!1)}return _([i.key,i.value],!1)}),!0),ue=function(e){this.entries=[],this.url=null,void 0!==e&&(m(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===W(e,0)?Z(e,1):e:x(e)))};ue.prototype={type:A,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,i,r,o,a,s,l,u=this.entries,c=C(e);if(c)for(i=(t=w(e,c)).next;!(r=n(i,t)).done;){if(a=(o=w(v(r.value))).next,(s=n(a,o)).done||(l=n(a,o)).done||!n(a,o).done)throw new z("Expected sequence with length 2");K(u,{key:x(s.value),value:x(l.value)})}else for(var h in e)d(e,h)&&K(u,{key:h,value:x(e[h])})},parseQuery:function(e){if(e)for(var t,n,i=this.entries,r=J(e,"&"),o=0;o<r.length;)(t=r[o++]).length&&(n=J(t,"="),K(i,{key:ie(X(n)),value:ie(Y(n,"="))}))},serialize:function(){for(var e,t=this.entries,n=[],i=0;i<t.length;)e=t[i++],K(n,se(e.key)+"="+se(e.value));return Y(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var ce=function(){f(this,he);var e=I(this,new ue(arguments.length>0?arguments[0]:void 0));r||(this.size=e.entries.length)},he=ce.prototype;if(l(he,{append:function(e,t){var n=O(this);T(arguments.length,2),K(n.entries,{key:x(e),value:x(t)}),r||this.length++,n.updateURL()},delete:function(e){for(var t=O(this),n=T(arguments.length,1),i=t.entries,o=x(e),a=n<2?void 0:arguments[1],s=void 0===a?a:x(a),l=0;l<i.length;){var u=i[l];if(u.key!==o||void 0!==s&&u.value!==s)l++;else if(q(i,l,1),void 0!==s)break}r||(this.size=i.length),t.updateURL()},get:function(e){var t=O(this).entries;T(arguments.length,1);for(var n=x(e),i=0;i<t.length;i++)if(t[i].key===n)return t[i].value;return null},getAll:function(e){var t=O(this).entries;T(arguments.length,1);for(var n=x(e),i=[],r=0;r<t.length;r++)t[r].key===n&&K(i,t[r].value);return i},has:function(e){for(var t=O(this).entries,n=T(arguments.length,1),i=x(e),r=n<2?void 0:arguments[1],o=void 0===r?r:x(r),a=0;a<t.length;){var s=t[a++];if(s.key===i&&(void 0===o||s.value===o))return!0}return!1},set:function(e,t){var n=O(this);T(arguments.length,1);for(var i,o=n.entries,a=!1,s=x(e),l=x(t),u=0;u<o.length;u++)(i=o[u]).key===s&&(a?q(o,u--,1):(a=!0,i.value=l));a||K(o,{key:s,value:l}),r||(this.size=o.length),n.updateURL()},sort:function(){var e=O(this);E(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,n=O(this).entries,i=g(e,arguments.length>1?arguments[1]:void 0),r=0;r<n.length;)i((t=n[r++]).value,t.key,this)},keys:function(){return new le(this,"keys")},values:function(){return new le(this,"values")},entries:function(){return new le(this,"entries")}},{enumerable:!0}),a(he,P,he.entries,{name:"entries"}),a(he,"toString",(function(){return O(this).serialize()}),{enumerable:!0}),r&&s(he,"size",{get:function(){return O(this).entries.length},configurable:!0,enumerable:!0}),u(ce,A),e({global:!0,constructor:!0,forced:!o},{URLSearchParams:ce}),!o&&p(j)){var fe=i(U.has),pe=i(U.set),de=function(e){if(m(e)){var t,n=e.body;if(y(n)===A)return t=e.headers?new j(e.headers):new j,fe(t,"content-type")||pe(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),b(e,{body:k(0,x(n)),headers:k(0,t)})}return e};if(p(N)&&e({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return N(e,arguments.length>1?de(arguments[1]):{})}}),p(F)){var ge=function(e){return f(this,H),new F(e,arguments.length>1?de(arguments[1]):{})};H.constructor=ge,ge.prototype=H,e({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:ge})}}return Bp={URLSearchParams:ce,getState:O}}function Jp(){if(Vp)return Wp;Vp=1,$c();var e,t=mr(),n=Re(),r=Yp(),o=we(),a=br(),s=Pt(),l=pi(),u=ja(),c=Ua(),h=Tn(),f=Vl(),p=$p(),d=ql(),g=Zu().codeAt,y=Xp(),v=ul(),m=Fa(),x=Ga(),b=qp(),k=hi(),w=k.set,C=k.getterFor("URL"),_=b.URLSearchParams,T=b.getState,S=o.URL,E=o.TypeError,P=o.parseInt,A=Math.floor,L=Math.pow,I=s("".charAt),O=s(/./.exec),R=s([].join),D=s(1..toString),M=s([].pop),N=s([].push),F=s("".replace),j=s([].shift),H=s("".split),U=s("".slice),B=s("".toLowerCase),z=s([].unshift),V="Invalid scheme",G="Invalid host",W="Invalid port",Y=/[a-z]/i,K=/[\d+-.a-z]/i,$=/\d/,X=/^0x/i,q=/^[0-7]+$/,J=/^\d+$/,Z=/^[\da-f]+$/i,Q=/[\0\t\n\r #%/:<>?@[\\\]^|]/,ee=/[\0\t\n\r #/:<>?@[\\\]^|]/,te=/^[\u0000-\u0020]+/,ne=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,ie=/[\t\n\r]/g,re=function(e){var t,n,r,o;if("number"==typeof e){for(t=[],n=0;n<4;n++)z(t,e%256),e=A(e/256);return R(t,".")}if("object"==i(e)){for(t="",r=function(e){for(var t=null,n=1,i=null,r=0,o=0;o<8;o++)0!==e[o]?(r>n&&(t=i,n=r),i=null,r=0):(null===i&&(i=o),++r);return r>n&&(t=i,n=r),t}(e),n=0;n<8;n++)o&&0===e[n]||(o&&(o=!1),r===n?(t+=n?":":"::",o=!0):(t+=D(e[n],16),n<7&&(t+=":")));return"["+t+"]"}return e},oe={},ae=f({},oe,{" ":1,'"':1,"<":1,">":1,"`":1}),se=f({},ae,{"#":1,"?":1,"{":1,"}":1}),le=f({},se,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),ue=function(e,t){var n=g(e,0);return n>32&&n<127&&!h(t,e)?e:encodeURIComponent(e)},ce={ftp:21,file:null,http:80,https:443,ws:80,wss:443},he=function(e,t){var n;return 2===e.length&&O(Y,I(e,0))&&(":"===(n=I(e,1))||!t&&"|"===n)},fe=function(e){var t;return e.length>1&&he(U(e,0,2))&&(2===e.length||"/"===(t=I(e,2))||"\\"===t||"?"===t||"#"===t)},pe=function(e){return"."===e||"%2e"===B(e)},de={},ge={},ye={},ve={},me={},xe={},be={},ke={},Ce={},_e={},Te={},Se={},Ee={},Pe={},Ae={},Le={},Ie={},Oe={},De={},Me={},Ne={},Fe=function e(t,n,i){var r,o,a,s=v(t);if(n){if(o=this.parse(s))throw new E(o);this.searchParams=null}else{if(void 0!==i&&(r=new e(i,!0)),o=this.parse(s,null,r))throw new E(o);(a=T(new _)).bindURL(this),this.searchParams=a}};Fe.prototype={type:"URL",parse:function(t,n,i){var r,o,a,s,l,u=this,c=n||de,f=0,g="",y=!1,m=!1,x=!1;for(t=v(t),n||(u.scheme="",u.username="",u.password="",u.host=null,u.port=null,u.path=[],u.query=null,u.fragment=null,u.cannotBeABaseURL=!1,t=F(t,te,""),t=F(t,ne,"$1")),t=F(t,ie,""),r=p(t);f<=r.length;){switch(o=r[f],c){case de:if(!o||!O(Y,o)){if(n)return V;c=ye;continue}g+=B(o),c=ge;break;case ge:if(o&&(O(K,o)||"+"===o||"-"===o||"."===o))g+=B(o);else{if(":"!==o){if(n)return V;g="",c=ye,f=0;continue}if(n&&(u.isSpecial()!==h(ce,g)||"file"===g&&(u.includesCredentials()||null!==u.port)||"file"===u.scheme&&!u.host))return;if(u.scheme=g,n)return void(u.isSpecial()&&ce[u.scheme]===u.port&&(u.port=null));g="","file"===u.scheme?c=Pe:u.isSpecial()&&i&&i.scheme===u.scheme?c=ve:u.isSpecial()?c=ke:"/"===r[f+1]?(c=me,f++):(u.cannotBeABaseURL=!0,N(u.path,""),c=De)}break;case ye:if(!i||i.cannotBeABaseURL&&"#"!==o)return V;if(i.cannotBeABaseURL&&"#"===o){u.scheme=i.scheme,u.path=d(i.path),u.query=i.query,u.fragment="",u.cannotBeABaseURL=!0,c=Ne;break}c="file"===i.scheme?Pe:xe;continue;case ve:if("/"!==o||"/"!==r[f+1]){c=xe;continue}c=Ce,f++;break;case me:if("/"===o){c=_e;break}c=Oe;continue;case xe:if(u.scheme=i.scheme,o===e)u.username=i.username,u.password=i.password,u.host=i.host,u.port=i.port,u.path=d(i.path),u.query=i.query;else if("/"===o||"\\"===o&&u.isSpecial())c=be;else if("?"===o)u.username=i.username,u.password=i.password,u.host=i.host,u.port=i.port,u.path=d(i.path),u.query="",c=Me;else{if("#"!==o){u.username=i.username,u.password=i.password,u.host=i.host,u.port=i.port,u.path=d(i.path),u.path.length--,c=Oe;continue}u.username=i.username,u.password=i.password,u.host=i.host,u.port=i.port,u.path=d(i.path),u.query=i.query,u.fragment="",c=Ne}break;case be:if(!u.isSpecial()||"/"!==o&&"\\"!==o){if("/"!==o){u.username=i.username,u.password=i.password,u.host=i.host,u.port=i.port,c=Oe;continue}c=_e}else c=Ce;break;case ke:if(c=Ce,"/"!==o||"/"!==I(g,f+1))continue;f++;break;case Ce:if("/"!==o&&"\\"!==o){c=_e;continue}break;case _e:if("@"===o){y&&(g="%40"+g),y=!0,a=p(g);for(var b=0;b<a.length;b++){var k=a[b];if(":"!==k||x){var w=ue(k,le);x?u.password+=w:u.username+=w}else x=!0}g=""}else if(o===e||"/"===o||"?"===o||"#"===o||"\\"===o&&u.isSpecial()){if(y&&""===g)return"Invalid authority";f-=p(g).length+1,g="",c=Te}else g+=o;break;case Te:case Se:if(n&&"file"===u.scheme){c=Le;continue}if(":"!==o||m){if(o===e||"/"===o||"?"===o||"#"===o||"\\"===o&&u.isSpecial()){if(u.isSpecial()&&""===g)return G;if(n&&""===g&&(u.includesCredentials()||null!==u.port))return;if(s=u.parseHost(g))return s;if(g="",c=Ie,n)return;continue}"["===o?m=!0:"]"===o&&(m=!1),g+=o}else{if(""===g)return G;if(s=u.parseHost(g))return s;if(g="",c=Ee,n===Se)return}break;case Ee:if(!O($,o)){if(o===e||"/"===o||"?"===o||"#"===o||"\\"===o&&u.isSpecial()||n){if(""!==g){var C=P(g,10);if(C>65535)return W;u.port=u.isSpecial()&&C===ce[u.scheme]?null:C,g=""}if(n)return;c=Ie;continue}return W}g+=o;break;case Pe:if(u.scheme="file","/"===o||"\\"===o)c=Ae;else{if(!i||"file"!==i.scheme){c=Oe;continue}switch(o){case e:u.host=i.host,u.path=d(i.path),u.query=i.query;break;case"?":u.host=i.host,u.path=d(i.path),u.query="",c=Me;break;case"#":u.host=i.host,u.path=d(i.path),u.query=i.query,u.fragment="",c=Ne;break;default:fe(R(d(r,f),""))||(u.host=i.host,u.path=d(i.path),u.shortenPath()),c=Oe;continue}}break;case Ae:if("/"===o||"\\"===o){c=Le;break}i&&"file"===i.scheme&&!fe(R(d(r,f),""))&&(he(i.path[0],!0)?N(u.path,i.path[0]):u.host=i.host),c=Oe;continue;case Le:if(o===e||"/"===o||"\\"===o||"?"===o||"#"===o){if(!n&&he(g))c=Oe;else if(""===g){if(u.host="",n)return;c=Ie}else{if(s=u.parseHost(g))return s;if("localhost"===u.host&&(u.host=""),n)return;g="",c=Ie}continue}g+=o;break;case Ie:if(u.isSpecial()){if(c=Oe,"/"!==o&&"\\"!==o)continue}else if(n||"?"!==o)if(n||"#"!==o){if(o!==e&&(c=Oe,"/"!==o))continue}else u.fragment="",c=Ne;else u.query="",c=Me;break;case Oe:if(o===e||"/"===o||"\\"===o&&u.isSpecial()||!n&&("?"===o||"#"===o)){if(".."===(l=B(l=g))||"%2e."===l||".%2e"===l||"%2e%2e"===l?(u.shortenPath(),"/"===o||"\\"===o&&u.isSpecial()||N(u.path,"")):pe(g)?"/"===o||"\\"===o&&u.isSpecial()||N(u.path,""):("file"===u.scheme&&!u.path.length&&he(g)&&(u.host&&(u.host=""),g=I(g,0)+":"),N(u.path,g)),g="","file"===u.scheme&&(o===e||"?"===o||"#"===o))for(;u.path.length>1&&""===u.path[0];)j(u.path);"?"===o?(u.query="",c=Me):"#"===o&&(u.fragment="",c=Ne)}else g+=ue(o,se);break;case De:"?"===o?(u.query="",c=Me):"#"===o?(u.fragment="",c=Ne):o!==e&&(u.path[0]+=ue(o,oe));break;case Me:n||"#"!==o?o!==e&&("'"===o&&u.isSpecial()?u.query+="%27":u.query+="#"===o?"%23":ue(o,oe)):(u.fragment="",c=Ne);break;case Ne:o!==e&&(u.fragment+=ue(o,ae))}f++}},parseHost:function(e){var t,n,i;if("["===I(e,0)){if("]"!==I(e,e.length-1))return G;if(t=function(e){var t,n,i,r,o,a,s,l=[0,0,0,0,0,0,0,0],u=0,c=null,h=0,f=function(){return I(e,h)};if(":"===f()){if(":"!==I(e,1))return;h+=2,c=++u}for(;f();){if(8===u)return;if(":"!==f()){for(t=n=0;n<4&&O(Z,f());)t=16*t+P(f(),16),h++,n++;if("."===f()){if(0===n)return;if(h-=n,u>6)return;for(i=0;f();){if(r=null,i>0){if(!("."===f()&&i<4))return;h++}if(!O($,f()))return;for(;O($,f());){if(o=P(f(),10),null===r)r=o;else{if(0===r)return;r=10*r+o}if(r>255)return;h++}l[u]=256*l[u]+r,2!=++i&&4!==i||u++}if(4!==i)return;break}if(":"===f()){if(h++,!f())return}else if(f())return;l[u++]=t}else{if(null!==c)return;h++,c=++u}}if(null!==c)for(a=u-c,u=7;0!==u&&a>0;)s=l[u],l[u--]=l[c+a-1],l[c+--a]=s;else if(8!==u)return;return l}(U(e,1,-1)),!t)return G;this.host=t}else if(this.isSpecial()){if(e=y(e),O(Q,e))return G;if(t=function(e){var t,n,i,r,o,a,s,l=H(e,".");if(l.length&&""===l[l.length-1]&&l.length--,(t=l.length)>4)return e;for(n=[],i=0;i<t;i++){if(""===(r=l[i]))return e;if(o=10,r.length>1&&"0"===I(r,0)&&(o=O(X,r)?16:8,r=U(r,8===o?1:2)),""===r)a=0;else{if(!O(10===o?J:8===o?q:Z,r))return e;a=P(r,o)}N(n,a)}for(i=0;i<t;i++)if(a=n[i],i===t-1){if(a>=L(256,5-t))return null}else if(a>255)return null;for(s=M(n),i=0;i<n.length;i++)s+=n[i]*L(256,3-i);return s}(e),null===t)return G;this.host=t}else{if(O(ee,e))return G;for(t="",n=p(e),i=0;i<n.length;i++)t+=ue(n[i],oe);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"===this.scheme},includesCredentials:function(){return""!==this.username||""!==this.password},isSpecial:function(){return h(ce,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"===this.scheme&&1===t&&he(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,n=e.username,i=e.password,r=e.host,o=e.port,a=e.path,s=e.query,l=e.fragment,u=t+":";return null!==r?(u+="//",e.includesCredentials()&&(u+=n+(i?":"+i:"")+"@"),u+=re(r),null!==o&&(u+=":"+o)):"file"===t&&(u+="//"),u+=e.cannotBeABaseURL?a[0]:a.length?"/"+R(a,"/"):"",null!==s&&(u+="?"+s),null!==l&&(u+="#"+l),u},setHref:function(e){var t=this.parse(e);if(t)throw new E(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"===e)try{return new je(e.path[0]).origin}catch(n){return"null"}return"file"!==e&&this.isSpecial()?e+"://"+re(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(v(e)+":",de)},getUsername:function(){return this.username},setUsername:function(e){var t=p(v(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<t.length;n++)this.username+=ue(t[n],le)}},getPassword:function(){return this.password},setPassword:function(e){var t=p(v(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<t.length;n++)this.password+=ue(t[n],le)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?re(e):re(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,Te)},getHostname:function(){var e=this.host;return null===e?"":re(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,Se)},getPort:function(){var e=this.port;return null===e?"":v(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""===(e=v(e))?this.port=null:this.parse(e,Ee))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+R(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,Ie))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""===(e=v(e))?this.query=null:("?"===I(e,0)&&(e=U(e,1)),this.query="",this.parse(e,Me)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){""!==(e=v(e))?("#"===I(e,0)&&(e=U(e,1)),this.fragment="",this.parse(e,Ne)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var je=function(e){var t=c(this,He),i=x(arguments.length,1)>1?arguments[1]:void 0,r=w(t,new Fe(e,!1,i));n||(t.href=r.serialize(),t.origin=r.getOrigin(),t.protocol=r.getProtocol(),t.username=r.getUsername(),t.password=r.getPassword(),t.host=r.getHost(),t.hostname=r.getHostname(),t.port=r.getPort(),t.pathname=r.getPathname(),t.search=r.getSearch(),t.searchParams=r.getSearchParams(),t.hash=r.getHash())},He=je.prototype,Ue=function(e,t){return{get:function(){return C(this)[e]()},set:t&&function(e){return C(this)[t](e)},configurable:!0,enumerable:!0}};if(n&&(u(He,"href",Ue("serialize","setHref")),u(He,"origin",Ue("getOrigin")),u(He,"protocol",Ue("getProtocol","setProtocol")),u(He,"username",Ue("getUsername","setUsername")),u(He,"password",Ue("getPassword","setPassword")),u(He,"host",Ue("getHost","setHost")),u(He,"hostname",Ue("getHostname","setHostname")),u(He,"port",Ue("getPort","setPort")),u(He,"pathname",Ue("getPathname","setPathname")),u(He,"search",Ue("getSearch","setSearch")),u(He,"searchParams",Ue("getSearchParams")),u(He,"hash",Ue("getHash","setHash"))),l(He,"toJSON",(function(){return C(this).serialize()}),{enumerable:!0}),l(He,"toString",(function(){return C(this).serialize()}),{enumerable:!0}),S){var Be=S.createObjectURL,ze=S.revokeObjectURL;Be&&l(je,"createObjectURL",a(Be,S)),ze&&l(je,"revokeObjectURL",a(ze,S))}return m(je,"URL"),t({global:!0,constructor:!0,forced:!r,sham:!n},{URL:je}),Wp}var Zp;!function(e,t){e.exports=function(){function e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function t(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?e(Object(i),!0).forEach((function(e){s(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):e(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function n(e){return(n="function"==typeof Symbol&&"symbol"==i(Symbol.iterator)?function(e){return i(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":i(e)})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,m(i.key),i)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e,t,n){return(t=m(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){if(t&&("object"==i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=u(e);if(t){var r=u(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return f(this,n)}}function d(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}function g(){return g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=d(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},g.apply(this,arguments)}function y(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function m(e){var t=function(e,t){if("object"!=i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:String(t)}var x={exports:{}};!function(e){var t=Object.prototype.hasOwnProperty,n="~";function i(){}function r(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,i,o,a){if("function"!=typeof i)throw new TypeError("The listener must be a function");var s=new r(i,o||e,a),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new i:delete e._events[t]}function s(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,i,r=[];if(0===this._eventsCount)return r;for(i in e=this._events)t.call(e,i)&&r.push(n?i.slice(1):i);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},s.prototype.listeners=function(e){var t=n?n+e:e,i=this._events[t];if(!i)return[];if(i.fn)return[i.fn];for(var r=0,o=i.length,a=new Array(o);r<o;r++)a[r]=i[r].fn;return a},s.prototype.listenerCount=function(e){var t=n?n+e:e,i=this._events[t];return i?i.fn?1:i.length:0},s.prototype.emit=function(e,t,i,r,o,a){var s=n?n+e:e;if(!this._events[s])return!1;var l,u,c=this._events[s],h=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),h){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,i),!0;case 4:return c.fn.call(c.context,t,i,r),!0;case 5:return c.fn.call(c.context,t,i,r,o),!0;case 6:return c.fn.call(c.context,t,i,r,o,a),!0}for(u=1,l=new Array(h-1);u<h;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var f,p=c.length;for(u=0;u<p;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),h){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,i);break;case 4:c[u].fn.call(c[u].context,t,i,r);break;default:if(!l)for(f=1,l=new Array(h-1);f<h;f++)l[f-1]=arguments[f];c[u].fn.apply(c[u].context,l)}}return!0},s.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,i,r){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||r&&!s.once||i&&s.context!==i||a(this,o);else{for(var l=0,u=[],c=s.length;l<c;l++)(s[l].fn!==t||r&&!s[l].once||i&&s[l].context!==i)&&u.push(s[l]);u.length?this._events[o]=1===u.length?u[0]:u:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new i,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s}(x);var b=x.exports,k="undefined"!=typeof window&&window.location&&window.location.href.indexOf("xgplayerdebugger=1")>-1,w={info:"color: #525252; background-color: #90ee90;",error:"color: #525252; background-color: red;",warn:"color: #525252; background-color: yellow; "},C="%c[xgplayer]",_={config:{debug:k?3:0},logInfo:function(e){for(var t,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];this.config.debug>=3&&(t=console).log.apply(t,[C,w.info,e].concat(i))},logWarn:function(e){for(var t,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];this.config.debug>=1&&(t=console).warn.apply(t,[C,w.warn,e].concat(i))},logError:function(e){var t;if(!(this.config.debug<1)){for(var n=this.config.debug>=2?"trace":"error",i=arguments.length,r=new Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];(t=console)[n].apply(t,[C,w.error,e].concat(r))}}},T=function(){function e(t){r(this,e),this.bufferedList=t}return a(e,[{key:"start",value:function(e){return this.bufferedList[e].start}},{key:"end",value:function(e){return this.bufferedList[e].end}},{key:"length",get:function(){return this.bufferedList.length}}]),e}(),S={};function E(e,t){for(var n=0,i=t.length;n<i;n++)if(e.indexOf(t[n])>-1)return!0;return!1}function P(e){var t=n(e);return null!==e&&("object"===t||"function"===t)}function A(e,t,n){var i,r,o,a,s,l,u=0,c=!1,h=!1,f=!0,p=!t&&0!==t&&"function"==typeof window.requestAnimationFrame;if("function"!=typeof e)throw new TypeError("Expected a function");function d(t){var n=i,o=r;return i=r=void 0,u=t,a=e.apply(o,n)}function g(e,t){return p?(window.cancelAnimationFrame(s),window.requestAnimationFrame(e)):setTimeout(e,t)}function y(e){return u=e,s=g(m,t),c?d(e):a}function v(e){var n=e-l;return void 0===l||n>=t||n<0||h&&e-u>=o}function m(){var e=Date.now();if(v(e))return x(e);s=g(m,function(e){var n=e-u,i=t-(e-l);return h?Math.min(i,o-n):i}(e))}function x(e){return s=void 0,f&&i?d(e):(i=r=void 0,a)}function b(){for(var e=Date.now(),n=v(e),o=arguments.length,u=new Array(o),c=0;c<o;c++)u[c]=arguments[c];if(i=u,r=this,l=e,n){if(void 0===s)return y(l);if(h)return s=g(m,t),d(l)}return void 0===s&&(s=g(m,t)),a}return t=+t||0,P(n)&&(c=!!n.leading,o=(h="maxWait"in n)?Math.max(+n.maxWait||0,t):o,f="trailing"in n?!!n.trailing:f),b.cancel=function(){void 0!==s&&function(e){if(p)return window.cancelAnimationFrame(e);clearTimeout(e)}(s),u=0,i=l=r=s=void 0},b.flush=function(){return void 0===s?a:x(Date.now())},b.pending=function(){return void 0!==s},b}S.createDom=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=document.createElement(e);return r.className=i,r.innerHTML=t,Object.keys(n).forEach((function(t){var i=t,o=n[t];"video"===e||"audio"===e||"live-video"===e?o&&r.setAttribute(i,o):r.setAttribute(i,o)})),r},S.createDomFromHtml=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";try{var i=document.createElement("div");i.innerHTML=e;var r=i.children;return i=null,r.length>0?(r=r[0],n&&S.addClass(r,n),t&&Object.keys(t).forEach((function(e){r.setAttribute(e,t[e])})),r):null}catch(a){return _.logError("util.createDomFromHtml",a),null}},S.hasClass=function(e,t){if(!e||!t)return!1;try{return Array.prototype.some.call(e.classList,(function(e){return e===t}))}catch(o){var i=e.className&&"object"===n(e.className)?e.getAttribute("class"):e.className;return i&&!!i.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}},S.addClass=function(e,t){if(e&&t)try{t.replace(/(^\s+|\s+$)/g,"").split(/\s+/g).forEach((function(t){t&&e.classList.add(t)}))}catch(r){S.hasClass(e,t)||(e.className&&"object"===n(e.className)?e.setAttribute("class",e.getAttribute("class")+" "+t):e.className+=" "+t)}},S.removeClass=function(e,t){if(e&&t)try{t.replace(/(^\s+|\s+$)/g,"").split(/\s+/g).forEach((function(t){t&&e.classList.remove(t)}))}catch(r){S.hasClass(e,t)&&t.split(/\s+/g).forEach((function(t){var i=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className&&"object"===n(e.className)?e.setAttribute("class",e.getAttribute("class").replace(i," ")):e.className=e.className.replace(i," ")}))}},S.toggleClass=function(e,t){e&&t.split(/\s+/g).forEach((function(t){S.hasClass(e,t)?S.removeClass(e,t):S.addClass(e,t)}))},S.classNames=function(){for(var e=arguments,t=[],n=function(n){"String"===S.typeOf(e[n])?t.push(e[n]):"Object"===S.typeOf(e[n])&&Object.keys(e[n]).map((function(i){e[n][i]&&t.push(i)}))},i=0;i<arguments.length;i++)n(i);return t.join(" ")},S.findDom=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,n=arguments.length>1?arguments[1]:void 0;try{e=t.querySelector(n)}catch(r){_.logError("util.findDom",r),0===n.indexOf("#")&&(e=t.getElementById(n.slice(1)))}return e},S.getCss=function(e,t){return e.currentStyle?e.currentStyle[t]:document.defaultView.getComputedStyle(e,!1)[t]},S.padStart=function(e,t,n){for(var i=String(n),r=t>>0,o=Math.ceil(r/i.length),a=[],s=String(e);o--;)a.push(i);return a.join("").substring(0,r-s.length)+s},S.format=function(e){if(window.isNaN(e))return"";e=Math.round(e);var t=S.padStart(Math.floor(e/3600),2,0),n=S.padStart(Math.floor((e-3600*t)/60),2,0),i=S.padStart(Math.floor(e-3600*t-60*n),2,0);return("00"===t?[n,i]:[t,n,i]).join(":")},S.event=function(e){if(e.touches){var t=e.touches[0]||e.changedTouches[0];e.clientX=t.clientX||0,e.clientY=t.clientY||0,e.offsetX=t.pageX-t.target.offsetLeft,e.offsetY=t.pageY-t.target.offsetTop}e._target=e.target||e.srcElement},S.typeOf=function(e){return Object.prototype.toString.call(e).match(/([^\s.*]+)(?=]$)/g)[0]},S.deepCopy=function(e,t){if("Object"===S.typeOf(t)&&"Object"===S.typeOf(e))return Object.keys(t).forEach((function(n){"Object"!==S.typeOf(t[n])||t[n]instanceof Node?"Array"===S.typeOf(t[n])?e[n]="Array"===S.typeOf(e[n])?e[n].concat(t[n]):t[n]:e[n]=t[n]:void 0===e[n]||void 0===e[n]?e[n]=t[n]:S.deepCopy(e[n],t[n])})),e},S.deepMerge=function(e,t){return Object.keys(t).map((function(n){var i;"Array"===S.typeOf(t[n])&&"Array"===S.typeOf(e[n])?"Array"===S.typeOf(e[n])&&(i=e[n]).push.apply(i,y(t[n])):S.typeOf(e[n])!==S.typeOf(t[n])||null===e[n]||"Object"!==S.typeOf(e[n])||t[n]instanceof window.Node?null!==t[n]&&(e[n]=t[n]):S.deepMerge(e[n],t[n])})),e},S.getBgImage=function(e){var t=(e.currentStyle||window.getComputedStyle(e,null)).backgroundImage;if(!t||"none"===t)return"";var n=document.createElement("a");return n.href=t.replace(/url\("|"\)/g,""),n.href},S.copyDom=function(e){if(e&&1===e.nodeType){var t=document.createElement(e.tagName);return Array.prototype.forEach.call(e.attributes,(function(e){t.setAttribute(e.name,e.value)})),e.innerHTML&&(t.innerHTML=e.innerHTML),t}return""},S.setInterval=function(e,t,n,i){e._interval[t]||(e._interval[t]=window.setInterval(n.bind(e),i))},S.clearInterval=function(e,t){clearInterval(e._interval[t]),e._interval[t]=null},S.setTimeout=function(e,t,n){e._timers||(e._timers=[]);var i=setTimeout((function(){t(),S.clearTimeout(e,i)}),n);return e._timers.push(i),i},S.clearTimeout=function(e,t){var n=e._timers;if("Array"===S.typeOf(n)){for(var i=0;i<n.length;i++)if(n[i]===t){n.splice(i,1),clearTimeout(t);break}}else clearTimeout(t)},S.clearAllTimers=function(e){var t=e._timers;"Array"===S.typeOf(t)&&(t.map((function(e){clearTimeout(e)})),e._timerIds=[])},S.createImgBtn=function(e,t,n,i){var r,o,a,s=S.createDom("xg-".concat(e),"",{},"xgplayer-".concat(e,"-img"));return s.style.backgroundImage='url("'.concat(t,'")'),n&&i&&(["px","rem","em","pt","dp","vw","vh","vm","%"].every((function(e){return!(n.indexOf(e)>-1&&i.indexOf(e)>-1&&(r=parseFloat(n.slice(0,n.indexOf(e)).trim()),o=parseFloat(i.slice(0,i.indexOf(e)).trim()),a=e,1))})),s.style.width="".concat(r).concat(a),s.style.height="".concat(o).concat(a),s.style.backgroundSize="".concat(r).concat(a," ").concat(o).concat(a),s.style.margin="start"===e?"-".concat(o/2).concat(a," auto auto -").concat(r/2).concat(a):"auto 5px auto 5px"),s},S.Hex2RGBA=function(e,t){var n=[];if(/^\#[0-9A-F]{3}$/i.test(e)){var i="#";e.replace(/[0-9A-F]/gi,(function(e){i+=e+e})),e=i}return/^#[0-9A-F]{6}$/i.test(e)?(e.replace(/[0-9A-F]{2}/gi,(function(e){n.push(parseInt(e,16))})),"rgba(".concat(n.join(","),", ").concat(t,")")):"rgba(255, 255, 255, 0.1)"},S.getFullScreenEl=function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement},S.checkIsFunction=function(e){return e&&"function"==typeof e},S.checkIsObject=function(e){return null!==e&&"object"===n(e)},S.hide=function(e){e.style.display="none"},S.show=function(e,t){e.style.display=t||"block"},S.isUndefined=function(e){if(null==e)return!0},S.isNotNull=function(e){return!(null==e)},S.setStyleFromCsstext=function(e,t){t&&("String"===S.typeOf(t)?t.replace(/\s+/g,"").split(";").map((function(t){if(t){var n=t.split(":");n.length>1&&(e.style[n[0]]=n[1])}})):Object.keys(t).map((function(n){e.style[n]=t[n]})))},S.filterStyleFromText=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["width","height","top","left","bottom","right","position","z-index","padding","margin","transform"],n=e.style.cssText;if(!n)return{};var i=n.replace(/\s+/g,"").split(";"),r={},o={};return i.map((function(e){if(e){var n=e.split(":");n.length>1&&(E(n[0],t)?r[n[0]]=n[1]:o[n[0]]=n[1])}})),e.setAttribute("style",""),Object.keys(o).map((function(t){e.style[t]=o[t]})),r},S.getStyleFromCsstext=function(e){var t=e.style.cssText;if(!t)return{};var n=t.replace(/\s+/g,"").split(";"),i={};return n.map((function(e){if(e){var t=e.split(":");t.length>1&&(i[t[0]]=t[1])}})),i},S.preloadImg=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};if(e){var i=new window.Image;i.onload=function(e){i=null,t&&t(e)},i.onerror=function(e){i=null,n&&n(e)},i.src=e}},S.stopPropagation=function(e){e&&e.stopPropagation()},S.scrollTop=function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},S.scrollLeft=function(){return window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0},S.checkTouchSupport=function(){return"ontouchstart"in window},S.getBuffered2=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,n=[],i=0;i<e.length;i++)n.push({start:e.start(i)<.5?0:e.start(i),end:e.end(i)});n.sort((function(e,t){return e.start-t.start||t.end-e.end}));var r=[];if(t)for(var o=0;o<n.length;o++){var a=r.length;if(a){var s=r[a-1].end;n[o].start-s<t?n[o].end>s&&(r[a-1].end=n[o].end):r.push(n[o])}else r.push(n[o])}else r=n;return new T(r)},S.getEventPos=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e.touches&&e.touches.length>0&&(e=e.touches[0]),{x:e.x/t,y:e.y/t,clientX:e.clientX/t,clientY:e.clientY/t,offsetX:e.offsetX/t,offsetY:e.offsetY/t,pageX:e.pageX/t,pageY:e.pageY/t}},S.requestAnimationFrame=function(e){var t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(t)return t(e)},S.getHostFromUrl=function(e){if("String"!==S.typeOf(e))return"";var t=e.split("/"),n="";return t.length>3&&t[2]&&(n=t[2]),n},S.cancelAnimationFrame=function(e){var t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.cancelRequestAnimationFrame;t&&t(e)},S.isMSE=function(e){return!!(e&&e instanceof HTMLMediaElement)&&(/^blob/.test(e.currentSrc)||/^blob/.test(e.src))},S.isBlob=function(e){return/^blob/.test(e)},S.generateSessionId=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=(new Date).getTime();try{e=parseInt(e)}catch(r){e=0}t+=e,window.performance&&"function"==typeof window.performance.now&&(t+=parseInt(window.performance.now()));var n="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?n:3&n|8).toString(16)}));return n},S.createEvent=function(e){var t;return"function"==typeof window.Event?t=new Event(e):(t=document.createEvent("Event")).initEvent(e,!0,!0),t},S.adjustTimeByDuration=function(e,t,n){return t&&e&&(e>t||n&&e<t)?t:e},S.createPositionBar=function(e,t){var n=S.createDom("xg-bar","",{"data-index":-1},e);return t.appendChild(n),n},S.getTransformStyle=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0,scale:1,rotate:0},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n={scale:"".concat(e.scale||1),translate:"".concat(e.x||0,"%, ").concat(e.y||0,"%"),rotate:"".concat(e.rotate||0,"deg")};return Object.keys(n).forEach((function(e){var i=new RegExp("".concat(e,"\\([^\\(]+\\)"),"g"),r="".concat(e,"(").concat(n[e],")");i.test(t)?(i.lastIndex=-1,t=t.replace(i,r)):t+="".concat(r," ")})),t},S.convertDeg=function(e){return Math.abs(e)<=1?360*e:e%360},S.getIndexByTime=function(e,t){var n=t.length,i=-1;if(n<1)return i;if(e<=t[0].end||n<2)i=0;else if(e>t[n-1].end)i=n-1;else for(var r=1;r<n;r++)if(e>t[r-1].end&&e<=t[r].end){i=r;break}return i},S.getOffsetCurrentTime=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,i=-1;if((i=n>=0&&n<t.length?n:S.getIndexByTime(e,t))<0)return-1;var r=t.length,o=t[i],a=o.start,s=o.end,l=o.cTime,u=o.offset;return e<a?l:e>=a&&e<=s?e-u:e>s&&i>=r-1?s:-1},S.getCurrentTimeByOffset=function(e,t){var n=-1;if(!t||t.length<0)return e;for(var i=0;i<t.length;i++)if(e<=t[i].duration){n=i;break}if(-1!==n){var r=t[n].start;return n-1<0?r+e:r+(e-t[n-1].duration)}return e};var L=/(Android)\s([\d.]+)/,I=/(Version)\/([\d.]+)/,O=["avc1.42E01E, mp4a.40.2","avc1.58A01E, mp4a.40.2","avc1.4D401E, mp4a.40.2","avc1.64001E, mp4a.40.2","avc1.42E01E","mp4v.20.8","avc1.42E01E, mp4a.40.2","avc1.58A01E, mp4a.40.2","avc1.4D401E, mp4a.40.2","avc1.64001E, mp4a.40.2","mp4v.20.8, mp4a.40.2","mp4v.20.240, mp4a.40.2"],R={get device(){return R.os.isPc?"pc":"mobile"},get browser(){if("undefined"==typeof navigator)return"";var e=navigator.userAgent.toLowerCase(),t={ie:/rv:([\d.]+)\) like gecko/,firefox:/firefox\/([\d.]+)/,chrome:/chrome\/([\d.]+)/,opera:/opera.([\d.]+)/,safari:/version\/([\d.]+).*safari/};return[].concat(Object.keys(t).filter((function(n){return t[n].test(e)})))[0]},get os(){if("undefined"==typeof navigator)return{};var e=navigator.userAgent,t=/(?:Windows Phone)/.test(e),n=/(?:SymbianOS)/.test(e)||t,i=/(?:Android)/.test(e),r=/(?:Firefox)/.test(e),o=/(?:iPad|PlayBook)/.test(e)||i&&!/(?:Mobile)/.test(e)||r&&/(?:Tablet)/.test(e),a=/(?:iPhone)/.test(e)&&!o,s=!(a||i||n||o),l=/(?:iPad|PlayBook)/.test(e);return{isTablet:o,isPhone:a,isIpad:l,isIos:a||l,isAndroid:i,isPc:s,isSymbian:n,isWindowsPhone:t,isFireFox:r}},get osVersion(){if("undefined"==typeof navigator)return 0;var e=navigator.userAgent,t="",n=(t=/(?:iPhone)|(?:iPad|PlayBook)/.test(e)?I:L)?t.exec(e):[];if(n&&n.length>=3){var i=n[2].split(".");return i.length>0?parseInt(i[0]):0}return 0},get isWeixin(){return"undefined"!=typeof navigator&&!!/(micromessenger)\/([\d.]+)/.exec(navigator.userAgent.toLocaleLowerCase())},isSupportMP4:function(){var e={isSupport:!1,mime:""};if("undefined"==typeof document)return e;if(this.supportResult)return this.supportResult;var t=document.createElement("video");return"function"==typeof t.canPlayType&&O.map((function(n){"probably"===t.canPlayType('video/mp4; codecs="'.concat(n,'"'))&&(e.isSupport=!0,e.mime+="||".concat(n))})),this.supportResult=e,t=null,e},isMSESupport:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:'video/mp4; codecs="avc1.42E01E,mp4a.40.2"';if("undefined"==typeof MediaSource||!MediaSource)return!1;try{return MediaSource.isTypeSupported(e)}catch(t){return this._logger.error(e,t),!1}},isHevcSupported:function(){return!("undefined"==typeof MediaSource||!MediaSource.isTypeSupported)&&(MediaSource.isTypeSupported('video/mp4;codecs="hev1.1.6.L120.90"')||MediaSource.isTypeSupported('video/mp4;codecs="hev1.2.4.L120.90"')||MediaSource.isTypeSupported('video/mp4;codecs="hev1.3.E.L120.90"')||MediaSource.isTypeSupported('video/mp4;codecs="hev1.4.10.L120.90"'))},probeConfigSupported:function(e){var t={supported:!1,smooth:!1,powerEfficient:!1};if(!e||"undefined"==typeof navigator)return Promise.resolve(t);if(navigator.mediaCapabilities&&navigator.mediaCapabilities.decodingInfo)return navigator.mediaCapabilities.decodingInfo(e);var n=e.video||{},i=e.audio||{};try{var r=MediaSource.isTypeSupported(n.contentType),o=MediaSource.isTypeSupported(i.contentType);return Promise.resolve({supported:r&&o,smooth:!1,powerEfficient:!1})}catch(s){return Promise.resolve(t)}}},D="3.0.10",M={1:"media",2:"media",3:"media",4:"media",5:"media",6:"media"},N={1:5101,2:5102,3:5103,4:5104,5:5105,6:5106},F=a((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{errorType:"",errorCode:0,errorMessage:"",originError:"",ext:{},mediaError:null};r(this,e);var i=t&&t.i18n?t.i18n.ERROR_TYPES:null;if(t.media){var o=n.mediaError?n.mediaError:t.media.error||{},a=t.duration,s=t.currentTime,l=t.ended,u=t.src,c=t.currentSrc,h=t.media,f=h.readyState,p=h.networkState,d=n.errorCode||o.code;N[d]&&(d=N[d]);var g={playerVersion:D,currentTime:s,duration:a,ended:l,readyState:f,networkState:p,src:u||c,errorType:n.errorType,errorCode:d,message:n.errorMessage||o.message,mediaError:o,originError:n.originError?n.originError.stack:"",host:S.getHostFromUrl(u||c)};return n.ext&&Object.keys(n.ext).map((function(e){g[e]=n.ext[e]})),g}if(arguments.length>1){for(var y={playerVersion:D,domain:document.domain},v=["errorType","currentTime","duration","networkState","readyState","src","currentSrc","ended","errd","errorCode","mediaError"],m=0;m<arguments.length;m++)y[v[m]]=arguments[m];return y.ex=i?(i[arguments[0]]||{}).msg:"",y}})),j="play",H="playing",U="ended",B="pause",z="error",V="seeking",G="seeked",W="timeupdate",Y="waiting",K="canplay",$="durationchange",X="volumechange",q="loadeddata",J="ratechange",Z="progress",Q="loadstart",ee="emptied",te="focus",ne="blur",ie="ready",re="urlNull",oe="autoplay_started",ae="autoplay_was_prevented",se="complete",le="replay",ue="destroy",ce="urlchange",he="download_speed_change",fe="fullscreen_change",pe="cssFullscreen_change",de="mini_state_change",ge="definition_change",ye="after_definition_change",ve="video_resize",me="pip_change",xe="rotate",be="screenShot",ke="playnext",we="shortcut",Ce="xglog",_e="user_action",Te="reset",Se="source_error",Ee="source_success",Pe=["play","playing","ended","pause","error","seeking","seeked","timeupdate","waiting","canplay","canplaythrough","durationchange","volumechange","loadeddata","loadedmetadata","ratechange","progress","loadstart","emptied","stalled","suspend","abort","lowdecode"],Ae={STATS_INFO:"stats_info",STATS_DOWNLOAD:"stats_download",STATS_RESET:"stats_reset"},Le="fps_stuck",Ie=Object.freeze(Object.defineProperty({__proto__:null,PLAY:j,PLAYING:H,ENDED:U,PAUSE:B,ERROR:z,SEEKING:V,SEEKED:G,TIME_UPDATE:W,WAITING:Y,CANPLAY:K,CANPLAY_THROUGH:"canplaythrough",DURATION_CHANGE:$,VOLUME_CHANGE:X,LOADED_DATA:q,LOADED_METADATA:"loadedmetadata",RATE_CHANGE:J,PROGRESS:Z,LOAD_START:Q,EMPTIED:ee,STALLED:"stalled",SUSPEND:"suspend",ABORT:"abort",BUFFER_CHANGE:"bufferedChange",PLAYER_FOCUS:te,PLAYER_BLUR:ne,READY:ie,URL_NULL:re,AUTOPLAY_STARTED:oe,AUTOPLAY_PREVENTED:ae,COMPLETE:se,REPLAY:le,DESTROY:ue,URL_CHANGE:ce,DOWNLOAD_SPEED_CHANGE:he,FULLSCREEN_CHANGE:fe,CSS_FULLSCREEN_CHANGE:pe,MINI_STATE_CHANGE:de,DEFINITION_CHANGE:ge,BEFORE_DEFINITION_CHANGE:"before_definition_change",AFTER_DEFINITION_CHANGE:ye,SEI_PARSED:"SEI_PARSED",RETRY:"retry",VIDEO_RESIZE:ve,PIP_CHANGE:me,ROTATE:xe,SCREEN_SHOT:be,PLAYNEXT:ke,SHORTCUT:we,XGLOG:Ce,USER_ACTION:_e,RESET:Te,SOURCE_ERROR:Se,SOURCE_SUCCESS:Ee,SWITCH_SUBTITLE:"switch_subtitle",VIDEO_EVENTS:Pe,STATS_EVENTS:Ae,FPS_STUCK:Le},Symbol.toStringTag,{value:"Module"}));function Oe(e,t){this&&this.emit&&("error"===e?this.errorHandler(e,t.error):this.emit(e,t))}function Re(e,t){return function(n,i){var r={player:t,eventName:e,originalEvent:n,detail:n.detail||{},timeStamp:n.timeStamp,currentTime:t.currentTime,duration:t.duration,paused:t.paused,ended:t.ended,isInternalOp:!!t._internalOp[n.type],muted:t.muted,volume:t.volume,host:S.getHostFromUrl(t.currentSrc),vtype:t.vtype};if(t.removeInnerOP(n.type),"timeupdate"===e&&(t._currentTime=t.media&&t.media.currentTime),"ratechange"===e){var o=t.media?t.media.playbackRate:0;if(o&&t._rate===o)return;t._rate=t.media&&t.media.playbackRate}if("durationchange"===e&&(t._duration=t.media.duration),"volumechange"===e&&(r.isMutedChange=t._lastMuted!==t.muted,t._lastMuted=t.muted),"error"===e&&(r.error=i||t.video.error),t.mediaEventMiddleware[e]){var a=Oe.bind(t,e,r);try{t.mediaEventMiddleware[e].call(t,r,a)}catch(l){throw Oe.call(t,e,r),l}}else Oe.call(t,e,r)}}var De=function(e){l(n,e);var t=p(n);function n(e){var i;r(this,n),(i=t.call(this,e))._hasStart=!1,i._currentTime=0,i._duration=0,i._internalOp={},i._lastMuted=!1,i.vtype="MP4",i._rate=-1,i.mediaConfig=Object.assign({},{controls:!1,autoplay:e.autoplay,playsinline:e.playsinline,"x5-playsinline":e.playsinline,"webkit-playsinline":e.playsinline,"x5-video-player-fullscreen":e["x5-video-player-fullscreen"]||e.x5VideoPlayerFullscreen,"x5-video-orientation":e["x5-video-orientation"]||e.x5VideoOrientation,airplay:e.airplay,"webkit-airplay":e.airplay,tabindex:0|e.tabindex,mediaType:e.mediaType||"video","data-index":-1},e.videoConfig,e.videoAttributes);var o=e["x5-video-player-type"]||e.x5VideoPlayerType;return R.isWeixin&&R.os.isAndroid&&o&&(i.mediaConfig["x5-video-player-type"]=o,delete i.mediaConfig.playsinline,delete i.mediaConfig["webkit-playsinline"],delete i.mediaConfig["x5-playsinline"]),e.loop&&(i.mediaConfig.loop="loop"),e.autoplayMuted&&!Object.prototype.hasOwnProperty.call(i.mediaConfig,"muted")&&(i.mediaConfig.muted=!0),i.media=S.createDom(i.mediaConfig.mediaType,"",i.mediaConfig,""),e.defaultPlaybackRate&&(i.media.defaultPlaybackRate=i.media.playbackRate=e.defaultPlaybackRate),"Number"===S.typeOf(e.volume)&&(i.volume=e.volume),e.autoplayMuted&&(i.media.muted=!0,i._lastMuted=!0),e.autoplay&&(i.media.autoplay=!0),i._interval={},i.mediaEventMiddleware={},i.attachVideoEvents(),i}return a(n,[{key:"setEventsMiddleware",value:function(e){var t=this;Object.keys(e).map((function(n){t.mediaEventMiddleware[n]=e[n]}))}},{key:"removeEventsMiddleware",value:function(e){var t=this;Object.keys(e).map((function(e){delete t.mediaEventMiddleware[e]}))}},{key:"attachVideoEvents",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.media;this._evHandlers||(this._evHandlers=Pe.map((function(t){var n="on".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));return"function"==typeof e[n]&&e.on(t,e[n]),s({},t,Re(t,e))}))),this._evHandlers.forEach((function(e){var n=Object.keys(e)[0];t.addEventListener(n,e[n],!1)}))}},{key:"detachVideoEvents",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.media;this._evHandlers.forEach((function(e){var n=Object.keys(e)[0];t.removeEventListener(n,e[n],!1)})),this._evHandlers.forEach((function(t){var n=Object.keys(t)[0],i="on".concat(n.charAt(0).toUpperCase()).concat(n.slice(1));"function"==typeof e[i]&&e.off(n,e[i])})),this._evHandlers=null}},{key:"_attachSourceEvents",value:function(e,t){var n=this;e.removeAttribute("src"),e.load(),t.forEach((function(e,t){n.media.appendChild(S.createDom("source","",{src:"".concat(e.src),type:"".concat(e.type||""),"data-index":t+1}))}));var i=e.children;if(i){this._videoSourceCount=i.length,this._videoSourceIndex=i.length,this._vLoadeddata=function(e){n.emit(Ee,{src:e.target.currentSrc,host:S.getHostFromUrl(e.target.currentSrc)})};for(var r=null,o=0;o<this._evHandlers.length;o++)if("error"===Object.keys(this._evHandlers[o])[0]){r=this._evHandlers[o];break}!this._sourceError&&(this._sourceError=function(e){var t=parseInt(e.target.getAttribute("data-index"),10);if(n._videoSourceIndex--,0===n._videoSourceIndex||t>=n._videoSourceCount){var i={code:4,message:"sources_load_error"};r?r.error(e,i):n.errorHandler("error",i)}var o=M[4];n.emit(Se,new F(n,{errorType:o,errorCode:4,errorMessage:"sources_load_error",mediaError:{code:4,message:"sources_load_error"},src:e.target.src}))});for(var a=0;a<i.length;a++)i[a].addEventListener("error",this._sourceError);e.addEventListener("loadeddata",this._vLoadeddata)}}},{key:"_detachSourceEvents",value:function(e){var t=e.children;if(t&&0!==t.length&&this._sourceError){for(var n=0;n<t.length;n++)t[n].removeEventListener("error",this._sourceError);for(;t.length>0;)e.removeChild(t[0]);this._vLoadeddata&&e.removeEventListener("loadeddata",this._vLoadeddata)}}},{key:"errorHandler",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.media&&(this.media.error||t)){var n=this.media.error||t,i=n.code?M[n.code]:"other";n.message,this.media.currentSrc||(n={code:6,message:"empty_src"}),this.emit(e,new F(this,{errorType:i,errorCode:n.code,errorMessage:n.message||"",mediaError:n}))}}},{key:"destroy",value:function(){for(var e in this.media&&(this.media.pause&&(this.media.pause(),this.media.muted=!0),this.media.removeAttribute("src"),this.media.load()),this._currentTime=0,this._duration=0,this.mediaConfig=null,this._interval)Object.prototype.hasOwnProperty.call(this._interval,e)&&(clearInterval(this._interval[e]),this._interval[e]=null);this.detachVideoEvents(),this.media=null,this.mediaEventMiddleware={},this.removeAllListeners()}},{key:"video",get:function(){return this.media},set:function(e){this.media=e}},{key:"play",value:function(){return this.media?this.media.play():null}},{key:"pause",value:function(){this.media&&this.media.pause()}},{key:"load",value:function(){this.media&&this.media.load()}},{key:"canPlayType",value:function(e){return!!this.media&&this.media.canPlayType(e)}},{key:"getBufferedRange",value:function(e){var t=[0,0];if(!this.media)return t;e||(e=this.media.buffered);var n=this.media.currentTime;if(e)for(var i=0,r=e.length;i<r&&(t[0]=e.start(i),t[1]=e.end(i),!(t[0]<=n&&n<=t[1]));i++);return t[0]-n<=0&&n-t[1]<=0?t:[0,0]}},{key:"autoplay",get:function(){return!!this.media&&this.media.autoplay},set:function(e){this.media&&(this.media.autoplay=e)}},{key:"buffered",get:function(){return this.media?this.media.buffered:null}},{key:"buffered2",get:function(){return this.media&&this.media.buffered?S.getBuffered2(this.media.buffered):null}},{key:"bufferedPoint",get:function(){var e={start:0,end:0};if(!this.media)return e;var t=this.media.buffered;if(!t||0===t.length)return e;for(var n=0;n<t.length;n++)if((t.start(n)<=this.currentTime||t.start(n)<.1)&&t.end(n)>=this.currentTime)return{start:t.start(n),end:t.end(n)};return e}},{key:"crossOrigin",get:function(){return this.media?this.media.crossOrigin:""},set:function(e){this.media&&(this.media.crossOrigin=e)}},{key:"currentSrc",get:function(){return this.media?this.media.currentSrc:""},set:function(e){this.media&&(this.media.currentSrc=e)}},{key:"currentTime",get:function(){return this.media?void 0!==this.media.currentTime?this.media.currentTime:this._currentTime:0},set:function(e){this.media&&(this.media.currentTime=e)}},{key:"defaultMuted",get:function(){return!!this.media&&this.media.defaultMuted},set:function(e){this.media&&(this.media.defaultMuted=e)}},{key:"duration",get:function(){return this._duration}},{key:"ended",get:function(){return!!this.media&&this.media.ended}},{key:"error",get:function(){return this.media.error}},{key:"errorNote",get:function(){return this.media.error?["MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED"][this.media.error.code-1]:""}},{key:"loop",get:function(){return!!this.media&&this.media.loop},set:function(e){this.media&&(this.media.loop=e)}},{key:"muted",get:function(){return!!this.media&&this.media.muted},set:function(e){this.media&&this.media.muted!==e&&(this._lastMuted=this.media.muted,this.media.muted=e)}},{key:"networkState",get:function(){return this.media.networkState}},{key:"paused",get:function(){return!this.media||this.media.paused}},{key:"playbackRate",get:function(){return this.media?this.media.playbackRate:0},set:function(e){this.media&&e!==1/0&&(this.media.defaultPlaybackRate=e,this.media.playbackRate=e)}},{key:"played",get:function(){return this.media?this.media.played:null}},{key:"preload",get:function(){return!!this.media&&this.media.preload},set:function(e){this.media&&(this.media.preload=e)}},{key:"readyState",get:function(){return this.media.readyState}},{key:"seekable",get:function(){return!!this.media&&this.media.seekable}},{key:"seeking",get:function(){return!!this.media&&this.media.seeking}},{key:"src",get:function(){return this.media?this.media.src:""},set:function(e){this.media&&(this.emit(ce,e),this.emit(Y),this._currentTime=0,this._duration=0,S.isMSE(this.media)?this.onWaiting():(this._detachSourceEvents(this.media),"Array"===S.typeOf(e)?this._attachSourceEvents(this.media,e):e?this.media.src=e:this.media.removeAttribute("src"),this.load()))}},{key:"volume",get:function(){return this.media?this.media.volume:0},set:function(e){e!==1/0&&this.media&&(this.media.volume=e)}},{key:"addInnerOP",value:function(e){this._internalOp[e]=!0}},{key:"removeInnerOP",value:function(e){delete this._internalOp[e]}},{key:"emit",value:function(e,t){for(var i,r=arguments.length,o=new Array(r>2?r-2:0),a=2;a<r;a++)o[a-2]=arguments[a];(i=g(u(n.prototype),"emit",this)).call.apply(i,[this,e,t].concat(o))}},{key:"on",value:function(e,t){for(var i,r=arguments.length,o=new Array(r>2?r-2:0),a=2;a<r;a++)o[a-2]=arguments[a];(i=g(u(n.prototype),"on",this)).call.apply(i,[this,e,t].concat(o))}},{key:"once",value:function(e,t){for(var i,r=arguments.length,o=new Array(r>2?r-2:0),a=2;a<r;a++)o[a-2]=arguments[a];(i=g(u(n.prototype),"once",this)).call.apply(i,[this,e,t].concat(o))}},{key:"off",value:function(e,t){for(var i,r=arguments.length,o=new Array(r>2?r-2:0),a=2;a<r;a++)o[a-2]=arguments[a];(i=g(u(n.prototype),"off",this)).call.apply(i,[this,e,t].concat(o))}},{key:"offAll",value:function(){g(u(n.prototype),"removeAllListeners",this).call(this)}}]),n}(b),Me=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{name:"xgplayer",version:1,db:null,ojstore:{name:"xg-m4a",keypath:"vid"}};r(this,e),this.indexedDB=window.indexedDB||window.webkitindexedDB,this.IDBKeyRange=window.IDBKeyRange||window.webkitIDBKeyRange,this.myDB=t}return a(e,[{key:"openDB",value:function(e){var t=this,n=this,i=this.myDB.version||1,r=n.indexedDB.open(n.myDB.name,i);r.onerror=function(e){},r.onsuccess=function(i){t.myDB.db=i.target.result,e.call(n)},r.onupgradeneeded=function(e){var t=e.target.result;e.target.transaction,t.objectStoreNames.contains(n.myDB.ojstore.name)||t.createObjectStore(n.myDB.ojstore.name,{keyPath:n.myDB.ojstore.keypath})}}},{key:"deletedb",value:function(){this.indexedDB.deleteDatabase(this.myDB.name)}},{key:"closeDB",value:function(){this.myDB.db.close()}},{key:"addData",value:function(e,t){for(var n,i=this.myDB.db.transaction(e,"readwrite").objectStore(e),r=0;r<t.length;r++)(n=i.add(t[r])).onerror=function(){},n.onsuccess=function(){}}},{key:"putData",value:function(e,t){for(var n,i=this.myDB.db.transaction(e,"readwrite").objectStore(e),r=0;r<t.length;r++)(n=i.put(t[r])).onerror=function(){},n.onsuccess=function(){}}},{key:"getDataByKey",value:function(e,t,n){var i=this,r=this.myDB.db.transaction(e,"readwrite").objectStore(e).get(t);r.onerror=function(){n.call(i,null)},r.onsuccess=function(e){var t=e.target.result;n.call(i,t)}}},{key:"deleteData",value:function(e,t){this.myDB.db.transaction(e,"readwrite").objectStore(e).delete(t)}},{key:"clearData",value:function(e){this.myDB.db.transaction(e,"readwrite").objectStore(e).clear()}}]),e}(),Ne=["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],Fe=["requestFullscreen","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen"],je=["exitFullscreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen"],He="data-xgplayerid";function Ue(e,t,n){for(var i=arguments.length,r=new Array(i>3?i-3:0),o=3;o<i;o++)r[o-3]=arguments[o];var a=t.call.apply(t,[e].concat(r));n&&"function"==typeof n&&(a&&a.then?a.then((function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];n.call.apply(n,[e].concat(i))})):n.call.apply(n,[e].concat(r)))}function Be(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{pre:null,next:null};return this.__hooks||(this.__hooks={}),!this.__hooks[e]&&(this.__hooks[e]=null),function(){var i=arguments,r=this;if(n.pre)try{var o;(o=n.pre).call.apply(o,[this].concat(Array.prototype.slice.call(arguments)))}catch(u){throw u.message="[pluginName: ".concat(this.pluginName,":").concat(e,":pre error] >> ").concat(u.message),u}if(this.__hooks&&this.__hooks[e])try{var a,s=(a=this.__hooks[e]).call.apply(a,[this,this].concat(Array.prototype.slice.call(arguments)));s?s.then?s.then((function(e){!1!==e&&Ue.apply(void 0,[r,t,n.next].concat(y(i)))})).catch((function(e){throw e})):Ue.apply(void 0,[this,t,n.next].concat(Array.prototype.slice.call(arguments))):void 0===s&&Ue.apply(void 0,[this,t,n.next].concat(Array.prototype.slice.call(arguments)))}catch(u){throw u.message="[pluginName: ".concat(this.pluginName,":").concat(e,"] >> ").concat(u.message),u}else Ue.apply(void 0,[this,t,n.next].concat(Array.prototype.slice.call(arguments)))}.bind(this)}function ze(e,t){var n=this.__hooks;if(n)return n.hasOwnProperty(e)?(n&&(n[e]=t),!0):(console.warn("has no supported hook which name [".concat(e,"]")),!1)}function Ve(e,t){var n=this.__hooks;n&&delete n[e]}function Ge(e){if(this.plugins&&this.plugins[e.toLowerCase()]){for(var t=this.plugins[e.toLowerCase()],n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return t.useHooks&&t.useHooks.apply(t,i)}}function We(e){if(this.plugins&&this.plugins[e.toLowerCase()]){var t=this.plugins[e.toLowerCase()];if(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return t.removeHooks&&t.removeHooks.apply(t,i)}}}function Ye(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.__hooks={},t&&t.map((function(t){e.__hooks[t]=null})),Object.defineProperty(e,"hooks",{get:function(){return e.__hooks&&Object.keys(e.__hooks).map((function(t){if(e.__hooks[t])return t}))}})}function Ke(e){e.__hooks=null}function $e(e,t,n){for(var i=arguments.length,r=new Array(i>3?i-3:0),o=3;o<i;o++)r[o-3]=arguments[o];if(!e.__hooks||!e.__hooks[t])return n.call.apply(n,[e,e].concat(r));var a,s=(a=e.__hooks[t]).call.apply(a,[e,e].concat(r));if(s&&s.then)s.then((function(t){return!1===t?null:n.call.apply(n,[e,e].concat(r))})).catch((function(e){console.warn("[runHooks]".concat(t," reject"),e.message)}));else if(!1!==s)return n.call.apply(n,[e,e].concat(r))}function Xe(e,t){_.logError("[".concat(e,"] event or callback cant be undefined or null when call ").concat(t))}var qe=function(){function e(t){r(this,e),S.checkIsFunction(this.beforeCreate)&&this.beforeCreate(t),Ye(this),this.__args=t,this.__events={},this.__onceEvents={},this.config=t.config||{},this.player=null,this.playerConfig={},this.pluginName="",this.__init(t)}return a(e,[{key:"beforeCreate",value:function(e){}},{key:"afterCreate",value:function(){}},{key:"beforePlayerInit",value:function(){}},{key:"onPluginsReady",value:function(){}},{key:"afterPlayerInit",value:function(){}},{key:"destroy",value:function(){}},{key:"__init",value:function(e){this.player=e.player,this.playerConfig=e.player&&e.player.config,this.pluginName=e.pluginName?e.pluginName.toLowerCase():this.constructor.pluginName.toLowerCase(),this.logger=e.player&&e.player.logger}},{key:"updateLang",value:function(e){e||(e=this.lang)}},{key:"lang",get:function(){return this.player.lang}},{key:"i18n",get:function(){return this.player.i18n}},{key:"i18nKeys",get:function(){return this.player.i18nKeys}},{key:"domEventType",get:function(){var e=S.checkTouchSupport()?"touch":"mouse";return!this.playerConfig||"touch"!==this.playerConfig.domEventType&&"mouse"!==this.playerConfig.domEventType||(e=this.playerConfig.domEventType),e}},{key:"on",value:function(e,t){var n=this;e&&t&&this.player?"string"==typeof e?(this.__events[e]=t,this.player.on(e,t)):Array.isArray(e)&&e.forEach((function(e){n.__events[e]=t,n.player.on(e,t)})):Xe(this.pluginName,"plugin.on(event, callback)")}},{key:"once",value:function(e,t){var n=this;e&&t&&this.player?"string"==typeof e?(this.__onceEvents[e]=t,this.player.once(e,t)):Array.isArray(e)&&e.forEach((function(i){n.__onceEvents[i]=t,n.player.once(e,t)})):Xe(this.pluginName,"plugin.once(event, callback)")}},{key:"off",value:function(e,t){var n=this;e&&t&&this.player?"string"==typeof e?(delete this.__events[e],this.player.off(e,t)):Array.isArray(e)&&e.forEach((function(i){delete n.__events[e],n.player.off(i,t)})):Xe(this.pluginName,"plugin.off(event, callback)")}},{key:"offAll",value:function(){var e=this;["__events","__onceEvents"].forEach((function(t){Object.keys(e[t]).forEach((function(n){e[t][n]&&e.off(n,e[t][n]),n&&delete e[t][n]}))})),this.__events={},this.__onceEvents={}}},{key:"emit",value:function(e){var t;if(this.player){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];(t=this.player).emit.apply(t,[e].concat(i))}}},{key:"emitUserAction",value:function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.player){var r=t(t({},i),{},{pluginName:this.pluginName});this.player.emitUserAction(e,n,r)}}},{key:"hook",value:function(e,t){return Be.call.apply(Be,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"useHooks",value:function(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];return ze.call.apply(ze,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"removeHooks",value:function(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];return Ve.call.apply(Ve,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"registerPlugin",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(this.player)return n&&(t.pluginName=n),this.player.registerPlugin({plugin:e,options:t})}},{key:"getPlugin",value:function(e){return this.player?this.player.getPlugin(e):null}},{key:"__destroy",value:function(){var e=this,t=this.player,n=this.pluginName;this.offAll(),S.clearAllTimers(this),S.checkIsFunction(this.destroy)&&this.destroy(),["player","playerConfig","pluginName","logger","__args","__hooks"].map((function(t){e[t]=null})),t.unRegisterPlugin(n),Ke(this)}}],[{key:"defineGetterOrSetter",value:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&Object.defineProperty(e,n,t[n])}},{key:"defaultConfig",get:function(){return{}}},{key:"pluginName",get:function(){return"pluginName"}}]),e}();if("undefined"!=typeof Element&&!Element.prototype.matches){var Je=Element.prototype;Je.matches=Je.matchesSelector||Je.mozMatchesSelector||Je.msMatchesSelector||Je.oMatchesSelector||Je.webkitMatchesSelector}var Ze=function(e,t){for(;e&&9!==e.nodeType;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}};function Qe(e,t,n,i,r){var o=et.apply(this,arguments);return e.addEventListener(n,o,r),{destroy:function(){e.removeEventListener(n,o,r)}}}function et(e,t,n,i){return function(n){n.delegateTarget=Ze(n.target,t),n.delegateTarget&&i.call(e,n)}}var tt=function(e,t,n,i,r){return"function"==typeof e.addEventListener?Qe.apply(null,arguments):"function"==typeof n?Qe.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,(function(e){return Qe(e,t,n,i,r)})))},nt={CONTROLS:"controls",ROOT:"root"},it={ROOT:"root",ROOT_LEFT:"rootLeft",ROOT_RIGHT:"rootRight",ROOT_TOP:"rootTop",CONTROLS_LEFT:"controlsLeft",CONTROLS_RIGTH:"controlsRight",CONTROLS_RIGHT:"controlsRight",CONTROLS_CENTER:"controlsCenter",CONTROLS:"controls"};function rt(e){return!!e&&e.indexOf&&/^(?:http|data:|\/)/.test(e)}function ot(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=null;if(e instanceof window.Element)return S.addClass(e,n),Object.keys(i).map((function(t){e.setAttribute(t,i[t])})),e;if(rt(e)||rt(e.url))return i.src=rt(e)?e:e.url||"",o=S.createDom(e.tag||"img","",i,"xg-img ".concat(n));if("function"==typeof e)try{return(o=e())instanceof window.Element?(S.addClass(o,n),Object.keys(i).map((function(e){o.setAttribute(e,i[e])})),o):(_.logWarn("warn>>icons.".concat(t," in config of plugin named [").concat(r,"] is a function mast return an Element Object")),null)}catch(s){return _.logError("Plugin named [".concat(r,"]:createIcon"),s),null}return"string"==typeof e?S.createDomFromHtml(e,i,n):(_.logWarn("warn>>icons.".concat(t," in config of plugin named [").concat(r,"] is invalid")),null)}function at(e,t){var i=t.config.icons||t.playerConfig.icons;Object.keys(e).map((function(r){var o=e[r],a=o&&o.class?o.class:"",s=o&&o.attr?o.attr:{},l=null;i&&i[r]&&(a=function(e,t){return"object"===n(e)&&e.class&&"string"==typeof e.class?"".concat(t," ").concat(e.class):t}(i[r],a),s=function(e,t){return"object"===n(e)&&e.attr&&"object"===n(e.attr)&&Object.keys(e.attr).map((function(n){t[n]=e.attr[n]})),t}(i[r],s),l=ot(i[r],r,a,s,t.pluginName)),!l&&o&&(l=ot(o.icon?o.icon:o,s,a,{},t.pluginName)),t.icons[r]=l}))}var st=function(e){l(i,e);var t=p(i);function i(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r(this,i),(e=t.call(this,n)).__delegates=[],e}return a(i,[{key:"__init",value:function(e){if(g(u(i.prototype),"__init",this).call(this,e),e.root){var t=e.root,n=null;this.icons={},this.root=null,this.parent=null,at(this.registerIcons()||{},this),this.langText={};var r,o,a=this.registerLanguageTexts()||{};r=a,o=this,Object.keys(r).map((function(e){Object.defineProperty(o.langText,e,{get:function(){var t=o.lang,n=o.i18n;return n[e]?n[e]:r[e]&&r[e][t]||""}})}));var s="";try{s=this.render()}catch(f){throw _.logError("Plugin:".concat(this.pluginName,":render"),f),new Error("Plugin:".concat(this.pluginName,":render:").concat(f.message))}if(s)(n=i.insert(s,t,e.index)).setAttribute("data-index",e.index);else{if(!e.tag)return;(n=S.createDom(e.tag,"",e.attr,e.name)).setAttribute("data-index",e.index),t.appendChild(n)}this.root=n,this.parent=t;var l=this.config.attr||{},c=this.config.style||{};this.setAttr(l),this.setStyle(c),this.config.index&&this.root.setAttribute("data-index",this.config.index),this.__registerChildren()}}},{key:"__registerChildren",value:function(){var e=this;if(this.root){this._children=[];var t=this.children();t&&"object"===n(t)&&Object.keys(t).length>0&&Object.keys(t).map((function(i){var r,o,a=i,s=t[a],l={root:e.root};"function"==typeof s?(r=e.config[a]||{},o=s):"object"===n(s)&&"function"==typeof s.plugin&&(r=s.options?S.deepCopy(e.config[a]||{},s.options):e.config[a]||{},o=s.plugin),l.config=r,void 0!==r.index&&(l.index=r.index),r.root&&(l.root=r.root),e.registerPlugin(o,l,a)}))}}},{key:"updateLang",value:function(e){e||(e=this.lang);var t=this.root,n=this.i18n,i=this.langText;t&&function e(t,n){for(var i=0;i<t.children.length;i++)t.children[i].children.length>0?e(t.children[i],n):n(t.children[i])}(t,(function(t){var r=t.getAttribute&&t.getAttribute("lang-key");if(r){var o=n[r.toUpperCase()]||i[r];o&&(t.innerHTML="function"==typeof o?o(e):o)}}))}},{key:"lang",get:function(){return this.player.lang}},{key:"changeLangTextKey",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=this.i18n||{},i=this.langText;e.setAttribute&&e.setAttribute("lang-key",t);var r=n[t]||i[t]||"";r&&(e.innerHTML=r)}},{key:"plugins",value:function(){return this._children}},{key:"children",value:function(){return{}}},{key:"registerPlugin",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";t.root=t.root||this.root;var r=g(u(i.prototype),"registerPlugin",this).call(this,e,t,n);return this._children.push(r),r}},{key:"registerIcons",value:function(){return{}}},{key:"registerLanguageTexts",value:function(){return{}}},{key:"find",value:function(e){if(this.root)return this.root.querySelector(e)}},{key:"bind",value:function(e,t,n){var r=this;if(arguments.length<3&&"function"==typeof t)Array.isArray(e)?e.forEach((function(e){r.bindEL(e,t)})):this.bindEL(e,t);else{var o=i.delegate.call(this,this.root,e,t,n);this.__delegates=this.__delegates.concat(o)}}},{key:"unbind",value:function(e,t){var n=this;if(arguments.length<3&&"function"==typeof t)Array.isArray(e)?e.forEach((function(e){n.unbindEL(e,t)})):this.unbindEL(e,t);else for(var i="".concat(e,"_").concat(t),r=0;r<this.__delegates.length;r++)if(this.__delegates[r].key===i){this.__delegates[r].destroy(),this.__delegates.splice(r,1);break}}},{key:"setStyle",value:function(e,t){var n=this;if(this.root)return"String"===S.typeOf(e)?this.root.style[e]=t:void("Object"===S.typeOf(e)&&Object.keys(e).map((function(t){n.root.style[t]=e[t]})))}},{key:"setAttr",value:function(e,t){var n=this;if(this.root)return"String"===S.typeOf(e)?this.root.setAttribute(e,t):void("Object"===S.typeOf(e)&&Object.keys(e).map((function(t){n.root.setAttribute(t,e[t])})))}},{key:"setHtml",value:function(e,t){this.root&&(this.root.innerHTML=e,"function"==typeof t&&t())}},{key:"bindEL",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.root&&"on".concat(e)in this.root&&"function"==typeof t&&this.root.addEventListener(e,t,n)}},{key:"unbindEL",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.root&&"on".concat(e)in this.root&&"function"==typeof t&&this.root.removeEventListener(e,t,n)}},{key:"show",value:function(e){if(this.root)return this.root.style.display=void 0!==e?e:"block","none"===window.getComputedStyle(this.root,null).getPropertyValue("display")?this.root.style.display="block":void 0}},{key:"hide",value:function(){this.root&&(this.root.style.display="none")}},{key:"appendChild",value:function(e,t){if(!this.root)return null;if(arguments.length<2&&arguments[0]instanceof window.Element)return this.root.appendChild(arguments[0]);if(!(t&&t instanceof window.Element))return null;try{return"string"==typeof e?this.find(e).appendChild(t):e.appendChild(t)}catch(n){return _.logError("Plugin:appendChild",n),null}}},{key:"render",value:function(){return""}},{key:"destroy",value:function(){}},{key:"__destroy",value:function(){var e=this,t=this.player;this.__delegates.map((function(e){e.destroy()})),this.__delegates=[],this._children instanceof Array&&(this._children.map((function(e){t.unRegisterPlugin(e.pluginName)})),this._children=null),this.root&&(this.root.hasOwnProperty("remove")?this.root.remove():this.root.parentNode&&this.root.parentNode.removeChild(this.root)),g(u(i.prototype),"__destroy",this).call(this),this.icons={},["root","parent"].map((function(t){e[t]=null}))}}],[{key:"insert",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=t.children.length,r=Number(n),o=e instanceof window.Node;if(i){for(var a=0,s=null,l="";a<i;a++){s=t.children[a];var u=Number(s.getAttribute("data-index"));if(u>=r){l="beforebegin";break}u<r&&(l="afterend")}return o?"afterend"===l?t.appendChild(e):t.insertBefore(e,s):s.insertAdjacentHTML(l,e),"afterend"===l?t.children[t.children.length-1]:t.children[a]}return o?t.appendChild(e):t.insertAdjacentHTML("beforeend",e),t.children[t.children.length-1]}},{key:"defaultConfig",get:function(){return{}}},{key:"delegate",value:function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=[];if(e instanceof window.Node&&"function"==typeof i)if(Array.isArray(n))n.forEach((function(n){var a=tt(e,t,n,i,r);a.key="".concat(t,"_").concat(n),o.push(a)}));else{var a=tt(e,t,n,i,r);a.key="".concat(t,"_").concat(n),o.push(a)}return o}},{key:"ROOT_TYPES",get:function(){return nt}},{key:"POSITIONS",get:function(){return it}}]),i}(qe),lt=function(){function e(){var t=this;if(r(this,e),s(this,"__trigger",(function(e){var n=(new Date).getTime();t.timeStamp=n;for(var i=0;i<e.length;i++)t.__runHandler(e[i].target)})),this.__handlers=[],this.timeStamp=0,this.observer=null,window.ResizeObserver)try{this.observer=new window.ResizeObserver(function(e,t,n){var i=!0,r=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return P(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),A(e,t,{leading:i,trailing:r,maxWait:t})}(this.__trigger,100,{trailing:!0})),this.timeStamp=(new Date).getTime()}catch(n){console.error(n)}}return a(e,[{key:"addObserver",value:function(e,t){if(this.observer){this.observer&&this.observer.observe(e);for(var n=e.getAttribute(He),i=this.__handlers,r=-1,o=0;o<i.length;o++)i[o]&&e===i[o].target&&(r=o);r>-1?this.__handlers[r].handler=t:this.__handlers.push({target:e,handler:t,playerId:n})}}},{key:"unObserver",value:function(e){var t=-1;this.__handlers.map((function(n,i){e===n.target&&(t=i)}));try{this.observer&&this.observer.unobserve(e)}catch(n){}this.observer&&this.observer.unobserve(e),t>-1&&this.__handlers.splice(t,1)}},{key:"destroyObserver",value:function(){this.observer&&this.observer.disconnect(),this.observer=null,this.__handlers=null}},{key:"__runHandler",value:function(e){for(var t=this.__handlers,n=0;n<t.length;n++)if(t[n]&&e===t[n].target){try{t[n].handler(e)}catch(r){console.error(r)}return!0}return!1}}]),e}(),ut=null,ct={pluginGroup:{},init:function(e){var t,n,i=e._pluginInfoId;i||(i=(new Date).getTime(),e._pluginInfoId=i),!e.config.closeResizeObserver&&(t=e.root,n=function(){e.resize()},ut||(ut=new lt),ut.addObserver(t,n)),0===Object.keys(this.pluginGroup).length&&(e.isUserActive=!0),this.pluginGroup[i]={_player:e,_originalOptions:e.config||{},_plugins:{}}},checkPlayerRoot:function(e){if(this.pluginGroup){for(var t=Object.keys(this.pluginGroup),n=0;n<t.length;n++){var i=this.pluginGroup[t[n]]._player;if(i.root===e)return i}return null}return null},formatPluginInfo:function(e,t){var n=null,i=null;return e.plugin&&"function"==typeof e.plugin?(n=e.plugin,i=e.options):(n=e,i={}),t&&(i.config=t||{}),{PLUFGIN:n,options:i}},checkPluginIfExits:function(e,t){for(var n=0;n<t.length;n++)if(e.toLowerCase()===t[n].pluginName.toLowerCase())return!0;return!1},getRootByConfig:function(e,t){for(var n=Object.keys(t),i=null,r=0;r<n.length;r++)if(e.toLowerCase()===n[r].toLowerCase()){i=t[n[r]];break}return"Object"===S.typeOf(i)?{root:i.root,position:i.position}:{}},lazyRegister:function(e,t){var n=this,i=t.timeout||1500;return Promise.race([t.loader().then((function(t){var i;i=t&&t.__esModule?t.default:t,n.register(e,i,t.options)})),new Promise((function(e,t){setTimeout((function(){t(new Error("timeout"))}),i)}))])},register:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e&&t&&"function"==typeof t&&void 0!==t.prototype){var i=e._pluginInfoId;if(i&&this.pluginGroup[i]){this.pluginGroup[i]._plugins||(this.pluginGroup[i]._plugins={});var r=this.pluginGroup[i]._plugins,o=this.pluginGroup[i]._originalOptions;n.player=this.pluginGroup[i]._player;var a=n.pluginName||t.pluginName;if(!a)throw new Error("The property pluginName is necessary");if(!t.isSupported||t.isSupported(e.config.mediaType,e.config.codecType)){n.config||(n.config={});for(var s=Object.keys(o),l=0;l<s.length;l++)if(a.toLowerCase()===s[l].toLowerCase()){var u=o[s[l]];"Object"===S.typeOf(u)?n.config=Object.assign({},n.config,o[s[l]]):"Boolean"===S.typeOf(u)&&(n.config.disable=!u);break}t.defaultConfig&&Object.keys(t.defaultConfig).forEach((function(e){void 0===n.config[e]&&(n.config[e]=t.defaultConfig[e])})),n.root?"string"==typeof n.root&&(n.root=e[n.root]):n.root=e.root,n.index=n.config.index||0;try{r[a.toLowerCase()]&&(this.unRegister(i,a.toLowerCase()),console.warn("the is one plugin with same pluginName [".concat(a,"] exist, destroy the old instance")));var c=new t(n);return r[a.toLowerCase()]=c,r[a.toLowerCase()].func=t,c&&"function"==typeof c.afterCreate&&c.afterCreate(),c}catch(f){throw console.error(f),f}}else console.warn("not supported plugin [".concat(a,"]"))}}},unRegister:function(e,t){e._pluginInfoId&&(e=e._pluginInfoId),t=t.toLowerCase();try{var n=this.pluginGroup[e]._plugins[t];n&&(n.pluginName&&n.__destroy(),delete this.pluginGroup[e]._plugins[t])}catch(r){console.error("[unRegister:".concat(t,"] cgid:[").concat(e,"] error"),r)}},deletePlugin:function(e,t){var n=e._pluginInfoId;n&&this.pluginGroup[n]&&this.pluginGroup[n]._plugins&&delete this.pluginGroup[n]._plugins[t]},getPlugins:function(e){var t=e._pluginInfoId;return t&&this.pluginGroup[t]?this.pluginGroup[t]._plugins:{}},findPlugin:function(e,t){var n=e._pluginInfoId;if(!n||!this.pluginGroup[n])return null;var i=t.toLowerCase();return this.pluginGroup[n]._plugins[i]},beforeInit:function(e){var t=this;function n(e){return e&&e.then?e:new Promise((function(e){e()}))}return new Promise((function(i){if(t.pluginGroup)return(e._loadingPlugins&&e._loadingPlugins.length?Promise.all(e._loadingPlugins):Promise.resolve()).then((function(){var r=e._pluginInfoId;if(t.pluginGroup[r]){var o=t.pluginGroup[r]._plugins,a=[];Object.keys(o).forEach((function(e){if(o[e]&&o[e].beforePlayerInit)try{var t=o[e].beforePlayerInit();a.push(n(t))}catch(i){throw a.push(n(null)),i}})),Promise.all([].concat(a)).then((function(){i()})).catch((function(e){console.error(e),i()}))}else i()}))}))},afterInit:function(e){var t=e._pluginInfoId;if(t&&this.pluginGroup[t]){var n=this.pluginGroup[t]._plugins;Object.keys(n).forEach((function(e){n[e]&&n[e].afterPlayerInit&&n[e].afterPlayerInit()}))}},setLang:function(e,t){var n=t._pluginInfoId;if(n&&this.pluginGroup[n]){var i=this.pluginGroup[n]._plugins;Object.keys(i).forEach((function(t){if(i[t].updateLang)i[t].updateLang(e);else try{i[t].lang=e}catch(n){console.warn("".concat(t," setLang"))}}))}},reRender:function(e){var t=this,n=e._pluginInfoId;if(n&&this.pluginGroup[n]){var i=[],r=this.pluginGroup[n]._plugins;Object.keys(r).forEach((function(e){"controls"!==e&&r[e]&&(i.push({plugin:r[e].func,options:r[e].__args}),t.unRegister(n,e))})),i.forEach((function(n){t.register(e,n.plugin,n.options)}))}},onPluginsReady:function(e){var t=e._pluginInfoId;if(t&&this.pluginGroup[t]){var n=this.pluginGroup[t]._plugins||{};Object.keys(n).forEach((function(e){n[e].onPluginsReady&&"function"==typeof n[e].onPluginsReady&&n[e].onPluginsReady()}))}},setCurrentUserActive:function(e,t){if(this.pluginGroup[e]){if(!t)return this.pluginGroup[e]._player.isUserActive=t,e;for(var n=Object.keys(this.pluginGroup),i=0;i<n.length;i++){var r=this.pluginGroup[n[i]];r&&r._player&&(this.pluginGroup[n[i]]._player.isUserActive=!1)}return this.pluginGroup[e]._player.isUserActive=t,e}},getCurrentUseActiveId:function(){if(this.pluginGroup){for(var e=Object.keys(this.pluginGroup),t=0;t<e.length;t++){var n=this.pluginGroup[e[t]];if(n&&n._player&&n._player.isUserActive)return e[t]}return null}},destroy:function(e){var t=e._pluginInfoId;if(this.pluginGroup[t]){var n,i;n=e.root,ut.unObserver(n,i);for(var r=this.pluginGroup[t]._plugins,o=0,a=Object.keys(r);o<a.length;o++){var s=a[o];this.unRegister(t,s)}var l=e.isUseActive;if(delete this.pluginGroup[t],delete e._pluginInfoId,l){var u=Object.keys(this.pluginGroup);u.length>0&&this.setCurrentUserActive(u[u.length-1],!0)}}}},ht={DEFAULT:"xgplayer",DEFAULT_SKIN:"xgplayer-skin-default",ENTER:"xgplayer-is-enter",PAUSED:"xgplayer-pause",PLAYING:"xgplayer-playing",ENDED:"xgplayer-ended",CANPLAY:"xgplayer-canplay",LOADING:"xgplayer-isloading",ERROR:"xgplayer-is-error",REPLAY:"xgplayer-replay",NO_START:"xgplayer-nostart",ACTIVE:"xgplayer-active",INACTIVE:"xgplayer-inactive",FULLSCREEN:"xgplayer-is-fullscreen",CSS_FULLSCREEN:"xgplayer-is-cssfullscreen",ROTATE_FULLSCREEN:"xgplayer-rotate-fullscreen",PARENT_ROTATE_FULLSCREEN:"xgplayer-rotate-parent",PARENT_FULLSCREEN:"xgplayer-fullscreen-parent",INNER_FULLSCREEN:"xgplayer-fullscreen-inner",NO_CONTROLS:"no-controls",FLEX_CONTROLS:"flex-controls",CONTROLS_FOLLOW:"controls-follow",CONTROLS_AUTOHIDE:"controls-autohide",TOP_BAR_AUTOHIDE:"top-bar-autohide",NOT_ALLOW_AUTOPLAY:"not-allow-autoplay",SEEKING:"seeking",PC:"xgplayer-pc",MOBILE:"xgplayer-mobile",MINI:"xgplayer-mini"};function ft(){return{id:"",el:null,url:"",domEventType:"default",nullUrlStart:!1,width:600,height:337.5,fluid:!1,fitVideoSize:"fixed",videoFillMode:"auto",volume:.6,autoplay:!1,autoplayMuted:!1,loop:!1,isLive:!1,zoom:1,videoInit:!0,poster:"",isMobileSimulateMode:!1,defaultPlaybackRate:1,execBeforePluginsCall:null,allowSeekAfterEnded:!0,enableContextmenu:!0,closeVideoClick:!1,closeVideoDblclick:!1,closePlayerBlur:!1,closeDelayBlur:!1,leavePlayerTime:3e3,closePlayVideoFocus:!1,closePauseVideoFocus:!1,closeFocusVideoFocus:!0,closeControlsBlur:!0,topBarAutoHide:!0,videoAttributes:{},startTime:0,seekedStatus:"play",miniprogress:!1,disableSwipeHandler:function(){},enableSwipeHandler:function(){},preProcessUrl:null,ignores:[],whitelist:[],inactive:3e3,lang:(e=(document.documentElement.getAttribute("lang")||navigator.language||"zh-cn").toLocaleLowerCase(),"zh-cn"===e&&(e="zh"),e),controls:!0,marginControls:!1,fullscreenTarget:null,screenShot:!1,rotate:!1,pip:!1,download:!1,mini:!1,cssFullscreen:!0,keyShortcut:!0,presets:[],plugins:[],playbackRate:1,definition:{list:[]},playsinline:!0,customDuration:0,timeOffset:0,icons:{},i18n:[],tabindex:0,thumbnail:null,videoConfig:{},isHideTips:!1,minWaitDelay:200,commonStyle:{progressColor:"",playedColor:"",cachedColor:"",sliderBtnStyle:{},volumeColor:""}};var e}var pt=1,dt=2,gt=3,yt=4,vt=5,mt=6,xt=7,bt=["ERROR","INITIAL","READY","ATTACHING","ATTACHED","NOTALLOW","RUNNING","ENDED","DESTROYED"],kt=function(e){l(n,e);var t=p(n);function n(){var e;r(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return s(h(e=t.call.apply(t,[this].concat(o))),"onMouseEnter",(function(t){var n=h(e),i=n.player;n.playerConfig.closeControlsBlur&&i.focus({autoHide:!1})})),s(h(e),"onMouseLeave",(function(t){h(e).player.focus()})),e}return a(n,[{key:"beforeCreate",value:function(e){e.config.mode||"mobile"!==R.device||(e.config.mode="flex"),e.player.config.marginControls&&(e.config.autoHide=!1)}},{key:"afterCreate",value:function(){var e=this,t=this.config,n=t.disable,i=t.height,r=t.mode;if(!n){"flex"===r&&this.player.addClass(ht.FLEX_CONTROLS);var o={height:"".concat(i,"px")};Object.keys(o).map((function(t){e.root.style[t]=o[t]})),this.left=this.find("xg-left-grid"),this.center=this.find("xg-center-grid"),this.right=this.find("xg-right-grid"),this.innerRoot=this.find("xg-inner-controls"),this.on(de,(function(t){t?S.addClass(e.root,"mini-controls"):S.removeClass(e.root,"mini-controls")}));var a=this.playerConfig.isMobileSimulateMode;"mobile"!==R.device&&"mobile"!==a&&(this.bind("mouseenter",this.onMouseEnter),this.bind("mouseleave",this.onMouseLeave))}}},{key:"focus",value:function(){this.player.focus({autoHide:!1})}},{key:"focusAwhile",value:function(){this.player.focus({autoHide:!0})}},{key:"blur",value:function(){this.player.blur({ignorePaused:!0})}},{key:"recoverAutoHide",value:function(){this.config.autoHide&&S.addClass(this.root,ht.CONTROLS_AUTOHIDE)}},{key:"pauseAutoHide",value:function(){S.removeClass(this.root,ht.CONTROLS_AUTOHIDE)}},{key:"show",value:function(){this.root.style.display="",this.player.focus()}},{key:"hide",value:function(){this.root.style.display="none"}},{key:"mode",get:function(){return this.config.mode}},{key:"registerPlugin",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;if(this.root){var r=e.defaultConfig||{};if(!t.root){switch(t.position?t.position:t.config&&t.config.position?t.config.position:r.position){case it.CONTROLS_LEFT:t.root=this.left;break;case it.CONTROLS_RIGHT:t.root=this.right;break;case it.CONTROLS_CENTER:t.root=this.center;break;case it.CONTROLS:t.root=this.root;break;default:t.root=this.left}return g(u(n.prototype),"registerPlugin",this).call(this,e,t,i)}}}},{key:"destroy",value:function(){"mobile"!==R.device&&(this.unbind("mouseenter",this.onMouseEnter),this.unbind("mouseleave",this.onMouseLeave))}},{key:"render",value:function(){var e=this.config,t=e.mode,n=e.autoHide,i=e.initShow;if(!e.disable){var r=S.classNames({"xgplayer-controls":!0},{"flex-controls":"flex"===t},{"bottom-controls":"bottom"===t},s({},ht.CONTROLS_AUTOHIDE,n),{"xgplayer-controls-initshow":i||!n});return'<xg-controls class="'.concat(r,'" unselectable="on">\n    <xg-inner-controls class="xg-inner-controls xg-pos">\n      <xg-left-grid class="xg-left-grid">\n      </xg-left-grid>\n      <xg-center-grid class="xg-center-grid"></xg-center-grid>\n      <xg-right-grid class="xg-right-grid">\n      </xg-right-grid>\n    </xg-inner-controls>\n    </xg-controls>')}}}],[{key:"pluginName",get:function(){return"controls"}},{key:"defaultConfig",get:function(){return{disable:!1,autoHide:!0,mode:"",initShow:!1}}}]),n}(st),wt={lang:{},langKeys:[],textKeys:[]};function Ct(e,t){return Object.keys(t).forEach((function(n){var i,r=S.typeOf(t[n]),o=S.typeOf(e[n]);"Array"===r?("Array"!==o&&(e[n]=[]),(i=e[n]).push.apply(i,y(t[n]))):"Object"===r?("Object"!==o&&(e[n]={}),Ct(e[n],t[n])):e[n]=t[n]})),e}function _t(){Object.keys(wt.lang.en).map((function(e){wt.textKeys[e]=e}))}function Tt(e,t){var n=e.LANG;if(t||(t=wt),t.lang){var i=e.TEXT||{};"zh"===n&&(n="zh-cn"),t.lang[n]?Ct(t.lang[n],i):(t.langKeys.push(n),t.lang[n]=i),_t()}}Tt({LANG:"en",TEXT:{ERROR_TYPES:{network:{code:1,msg:"video download error"},mse:{code:2,msg:"stream append error"},parse:{code:3,msg:"parsing error"},format:{code:4,msg:"wrong format"},decoder:{code:5,msg:"decoding error"},runtime:{code:6,msg:"grammatical errors"},timeout:{code:7,msg:"play timeout"},other:{code:8,msg:"other errors"}},HAVE_NOTHING:"There is no information on whether audio/video is ready",HAVE_METADATA:"Audio/video metadata is ready ",HAVE_CURRENT_DATA:"Data about the current play location is available, but there is not enough data to play the next frame/millisecond",HAVE_FUTURE_DATA:"Current and at least one frame of data is available",HAVE_ENOUGH_DATA:"The available data is sufficient to start playing",NETWORK_EMPTY:"Audio/video has not been initialized",NETWORK_IDLE:"Audio/video is active and has been selected for resources, but no network is used",NETWORK_LOADING:"The browser is downloading the data",NETWORK_NO_SOURCE:"No audio/video source was found",MEDIA_ERR_ABORTED:"The fetch process is aborted by the user",MEDIA_ERR_NETWORK:"An error occurred while downloading",MEDIA_ERR_DECODE:"An error occurred while decoding",MEDIA_ERR_SRC_NOT_SUPPORTED:"Audio/video is not supported",REPLAY:"Replay",ERROR:"Network is offline",PLAY_TIPS:"Play",PAUSE_TIPS:"Pause",PLAYNEXT_TIPS:"Play next",DOWNLOAD_TIPS:"Download",ROTATE_TIPS:"Rotate",RELOAD_TIPS:"Reload",FULLSCREEN_TIPS:"Fullscreen",EXITFULLSCREEN_TIPS:"Exit fullscreen",CSSFULLSCREEN_TIPS:"Cssfullscreen",EXITCSSFULLSCREEN_TIPS:"Exit cssfullscreen",TEXTTRACK:"Caption",PIP:"PIP",SCREENSHOT:"Screenshot",LIVE:"LIVE",OFF:"Off",OPEN:"Open",MINI_DRAG:"Click and hold to drag",MINISCREEN:"Miniscreen",REFRESH_TIPS:"Please Try",REFRESH:"Refresh",FORWARD:"forward",LIVE_TIP:"Live"}});var St={get textKeys(){return wt.textKeys},get langKeys(){return wt.langKeys},get lang(){var e={};return wt.langKeys.map((function(t){e[t]=wt.lang[t]})),wt.lang["zh-cn"]&&(e.zh=wt.lang["zh-cn"]||{}),e},extend:function(e,t){var n=[];if(t||(t=wt),t.lang){n="Array"!==S.typeOf(e)?Object.keys(e).map((function(t){return{LANG:"zh"===t?"zh-cn":t,TEXT:e[t]}})):e;var i=t.lang;n.map((function(e){"zh"===e.LANG&&(e.LANG="zh-cn"),i[e.LANG]?Ct(i[e.LANG]||{},e.TEXT||{}):Tt(e,t)})),_t()}},use:Tt,init:function(e){var t,n={lang:{},langKeys:[],textKeys:{},pId:e};return Ct(n.lang,wt.lang),(t=n.langKeys).push.apply(t,y(wt.langKeys)),Ct(n.textKeys,wt.textKeys),n}},Et=["play","pause","replay","retry"],Pt=0,At=0,Lt=function(e){l(i,e);var n=p(i);function i(e){var t;r(this,i);var o,a=S.deepMerge(ft(),e);s(h(t=n.call(this,a)),"canPlayFunc",(function(){if(t.config){var e=t.config,n=e.autoplay,i=e.startTime,r=e.defaultPlaybackRate;_.logInfo("player","canPlayFunc, startTime",i),i&&(t.currentTime=i>t.duration?t.duration:i,t.config.startTime=0),t.playbackRate=r,(n||t._useAutoplay)&&t.mediaPlay(),t.off(K,t.canPlayFunc),t.removeClass(ht.ENTER)}})),s(h(t),"onFullscreenChange",(function(e,n){var i=function(){S.setTimeout(h(t),(function(){t.resize()}),100)},r=S.getFullScreenEl();t._fullActionFrom?t._fullActionFrom="":t.emit(_e,{eventType:"system",action:"switch_fullscreen",pluginName:"player",currentTime:t.currentTime,duration:t.duration,props:[{prop:"fullscreen",from:!0,to:!1}]});var o=function(e,t,n){if(e){var i=e.getAttribute(n);return!(!i||i!==t||"VIDEO"!==e.tagName&&"AUDIO"!==e.tagName)}}(r,t.playerId,He);if(n||r&&(r===t._fullscreenEl||o))i(),!t.config.closeFocusVideoFocus&&t.media.focus(),t.fullscreen=!0,t.changeFullStyle(t.root,r,ht.FULLSCREEN),t.emit(fe,!0,t._fullScreenOffset),t.cssfullscreen&&t.exitCssFullscreen();else if(t.fullscreen){i();var a=h(t),s=a._fullScreenOffset;a.config.needFullscreenScroll?(window.scrollTo(s.left,s.top),S.setTimeout(h(t),(function(){t.fullscreen=!1,t._fullScreenOffset=null}),100)):(!t.config.closeFocusVideoFocus&&t.media.focus(),t.fullscreen=!1,t._fullScreenOffset=null),t.cssfullscreen?t.removeClass(ht.FULLSCREEN):t.recoverFullStyle(t.root,t._fullscreenEl,ht.FULLSCREEN),t._fullscreenEl=null,t.emit(fe,!1)}})),s(h(t),"_onWebkitbeginfullscreen",(function(e){t._fullscreenEl=t.media,t.onFullscreenChange(e,!0)})),s(h(t),"_onWebkitendfullscreen",(function(e){t.onFullscreenChange(e,!1)})),Ye(h(t),Et),t.config=a,t._pluginInfoId=S.generateSessionId(),(o=h(t)).logInfo=_.logInfo.bind(o),o.logWarn=_.logWarn.bind(o),o.logError=_.logError.bind(o);var l=t.constructor.defaultPreset;if(t.config.presets.length){var u=t.config.presets.indexOf("default");u>=0&&l&&(t.config.presets[u]=l)}else l&&t.config.presets.push(l);if(t.userTimer=null,t.waitTimer=null,t._state=pt,t.isError=!1,t._hasStart=!1,t.isSeeking=!1,t.isCanplay=!1,t._useAutoplay=!1,t.rotateDeg=0,t.isActive=!1,t.fullscreen=!1,t.cssfullscreen=!1,t.isRotateFullscreen=!1,t._fullscreenEl=null,t.timeSegments=[],t._cssfullscreenEl=null,t.curDefinition=null,t._orgCss="",t._fullScreenOffset=null,t._videoHeight=0,t._videoWidth=0,t.videoPos={pi:1,scale:0,rotate:-1,x:0,y:0,h:-1,w:-1,vy:0,vx:0},t.sizeInfo={width:0,height:0,left:0,top:0},t._accPlayed={t:0,acc:0,loopAcc:0},t._offsetInfo={currentTime:-1,duration:0},t.innerContainer=null,t.controls=null,t.topBar=null,t.root=null,t.__i18n=St.init(t._pluginInfoId),R.os.isAndroid&&R.osVersion>0&&R.osVersion<6&&(t.config.autoplay=!1),t.database=new Me,t.isUserActive=!1,t._onceSeekCanplay=null,t._isPauseBeforeSeek=0,t.innerStates={isActiveLocked:!1},!t._initDOM())return console.error(new Error("can't find the dom which id is ".concat(t.config.id," or this.config.el does not exist"))),f(t);var c=t.config,p=c.definition,d=void 0===p?{}:p;if(!c.url&&d.list&&d.list.length>0){var g=d.list.find((function(e){return e.definition&&e.definition===d.defaultDefinition}));g||(d.defaultDefinition=d.list[0].definition,g=d.list[0]),t.config.url=g.url,t.curDefinition=g}return t._bindEvents(),t._registerPresets(),t._registerPlugins(),ct.onPluginsReady(h(t)),t.getInitDefinition(),t.setState(dt),S.setTimeout(h(t),(function(){t.emit(ie)}),0),t.onReady&&t.onReady(),(t.config.videoInit||t.config.autoplay)&&(!t.hasStart||t.state<yt)&&t.start(),t}return a(i,[{key:"_initDOM",value:function(){var e=this;if(this.root=this.config.id?document.getElementById(this.config.id):null,!this.root){var t=this.config.el;if(!t||1!==t.nodeType)return this.emit(z,new F("use",this.config.vid,{line:32,handle:"Constructor",msg:"container id can't be empty"})),console.error("this.confg.id or this.config.el can't be empty"),!1;this.root=t}var n=ct.checkPlayerRoot(this.root);n&&(_.logWarn("The is an Player instance already exists in this.root, destroy it and reinitialize"),n.destroy()),this.root.setAttribute(He,this.playerId),ct.init(this),this._initBaseDoms();var i=this.constructor.XgVideoProxy;if(i&&this.mediaConfig.mediaType===i.mediaType){var r=this.innerContainer||this.root;this.detachVideoEvents(this.media);var o=new i(r,this.config,this.mediaConfig);this.attachVideoEvents(o),this.media=o}if(this.media.setAttribute(He,this.playerId),this.config.controls){var a=this.config.controls.root||null,s=ct.register(this,kt,{root:a});this.controls=s}var l="mobile"===this.config.isMobileSimulateMode?"mobile":R.device;if(this.addClass("".concat(ht.DEFAULT," ").concat(ht.INACTIVE," xgplayer-").concat(l," ").concat(this.config.controls?"":ht.NO_CONTROLS)),this.config.autoplay?this.addClass(ht.ENTER):this.addClass(ht.NO_START),this.config.fluid){var u=this.config,c=u.width,h=u.height;"number"==typeof c&&"number"==typeof h||(c=600,h=337.5);var f={width:"100%",height:"0","max-width":"100%","padding-top":"".concat(100*h/c,"%")};Object.keys(f).forEach((function(t){e.root.style[t]=f[t]}))}else["width","height"].forEach((function(t){e.config[t]&&("number"!=typeof e.config[t]?e.root.style[t]=e.config[t]:e.root.style[t]="".concat(e.config[t],"px"))}));var p=this.root.getBoundingClientRect(),d=p.width,g=p.height,y=p.left,v=p.top;return this.sizeInfo.width=d,this.sizeInfo.height=g,this.sizeInfo.left=y,this.sizeInfo.top=v,!0}},{key:"_initBaseDoms",value:function(){this.topBar=null,this.leftBar=null,this.rightBar=null,this.config.marginControls&&(this.innerContainer=S.createDom("xg-video-container","",{"data-index":-1},"xg-video-container"),this.root.appendChild(this.innerContainer))}},{key:"_bindEvents",value:function(){var e=this;["focus","blur"].forEach((function(t){e.on(t,e["on"+t.charAt(0).toUpperCase()+t.slice(1)])})),Ne.forEach((function(t){document&&document.addEventListener(t,e.onFullscreenChange)})),R.os.isIos&&(this.media.addEventListener("webkitbeginfullscreen",this._onWebkitbeginfullscreen),this.media.addEventListener("webkitendfullscreen",this._onWebkitendfullscreen)),this.once(q,this.resize),this.playFunc=function(){e.config.closeFocusVideoFocus||e.media.focus()},this.once(j,this.playFunc)}},{key:"_unbindEvents",value:function(){var e=this;this.root.removeEventListener("mousemove",this.mousemoveFunc),Ne.forEach((function(t){document.removeEventListener(t,e.onFullscreenChange)})),this.playFunc&&this.off(j,this.playFunc),this.off(K,this.canPlayFunc),this.media.removeEventListener("webkitbeginfullscreen",this._onWebkitbeginfullscreen),this.media.removeEventListener("webkitendfullscreen",this._onWebkitendfullscreen)}},{key:"_startInit",value:function(e){var t=this;if(this.media&&(e&&""!==e&&("Array"!==S.typeOf(e)||0!==e.length)||(e="",this.emit(re),_.logWarn("config.url is null, please get url and run player._startInit(url)"),!this.config.nullUrlStart))){this._detachSourceEvents(this.media),"Array"===S.typeOf(e)&&e.length>0?this._attachSourceEvents(this.media,e):this.media.src&&this.media.src===e?e||this.media.removeAttribute("src"):this.media.src=e,"Number"===S.typeOf(this.config.volume)&&(this.volume=this.config.volume);var n=this.innerContainer?this.innerContainer:this.root;this.media instanceof window.Element&&!n.contains(this.media)&&n.insertBefore(this.media,n.firstChild);var i=this.media.readyState;_.logInfo("_startInit readyState",i),this.config.autoplay&&(!S.isMSE(this.media)&&this.load(),(R.os.isIpad||R.os.isPhone)&&this.mediaPlay()),i>=2?this.canPlayFunc():this.once(K,this.canPlayFunc),(!this.hasStart||this.state<yt)&&ct.afterInit(this),this.hasStart=!0,this.setState(yt),S.setTimeout(this,(function(){t.emit(se)}),0)}}},{key:"_registerPlugins",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._loadingPlugins=[];var n=this.config.ignores||[],i=this.config.plugins||[],r=this.config.i18n||[];t&&St.extend(r,this.__i18n);var o=n.join("||").toLowerCase().split("||"),a=this.plugins;i.forEach((function(n){try{var i=n.plugin?n.plugin.pluginName:n.pluginName;if(i&&o.indexOf(i.toLowerCase())>-1)return null;if(!t&&a[i.toLowerCase()])return;if(n.lazy&&n.loader){var r=ct.lazyRegister(e,n);return void(n.forceBeforeInit&&(r.then((function(){e._loadingPlugins.splice(e._loadingPlugins.indexOf(r),1)})).catch((function(t){_.logError("_registerPlugins:loadingPlugin",t),e._loadingPlugins.splice(e._loadingPlugins.indexOf(r),1)})),e._loadingPlugins.push(r)))}return e.registerPlugin(n)}catch(l){_.logError("_registerPlugins:",l)}}))}},{key:"_registerPresets",value:function(){var e=this;this.config.presets.forEach((function(t){!function(e,t){var n,i,r=t.preset&&t.options?new t.preset(t.options,e.config):new t({},e.config),o=r.plugins,a=void 0===o?[]:o,s=r.ignores,l=void 0===s?[]:s,u=r.icons,c=void 0===u?{}:u,h=r.i18n,f=void 0===h?[]:h;e.config.plugins||(e.config.plugins=[]),e.config.ignores||(e.config.ignores=[]),(n=e.config.plugins).push.apply(n,y(a)),(i=e.config.ignores).push.apply(i,y(l)),Object.keys(c).map((function(t){e.config.icons[t]||(e.config.icons[t]=c[t])}));var p=e.config.i18n||[];f.push.apply(f,y(p)),e.config.i18n=f}(e,t)}))}},{key:"_getRootByPosition",value:function(e){var t=null;switch(e){case it.ROOT_RIGHT:this.rightBar||(this.rightBar=S.createPositionBar("xg-right-bar",this.root)),t=this.rightBar;break;case it.ROOT_LEFT:this.leftBar||(this.leftBar=S.createPositionBar("xg-left-bar",this.root)),t=this.leftBar;break;case it.ROOT_TOP:this.topBar||(this.topBar=S.createPositionBar("xg-top-bar",this.root),this.config.topBarAutoHide&&S.addClass(this.topBar,ht.TOP_BAR_AUTOHIDE)),t=this.topBar;break;default:t=this.innerContainer||this.root}return t}},{key:"registerPlugin",value:function(e,t){var n=ct.formatPluginInfo(e,t),i=n.PLUFGIN,r=n.options,o=this.config.plugins;!ct.checkPluginIfExits(i.pluginName,o)&&o.push(i);var a=ct.getRootByConfig(i.pluginName,this.config);a.root&&(r.root=a.root),a.position&&(r.position=a.position);var s=r.position?r.position:r.config&&r.config.position||i.defaultConfig&&i.defaultConfig.position;return!r.root&&"string"==typeof s&&s.indexOf("controls")>-1?this.controls&&this.controls.registerPlugin(i,r,i.pluginName):(r.root||(r.root=this._getRootByPosition(s)),ct.register(this,i,r))}},{key:"deregister",value:function(e){"string"==typeof e?ct.unRegister(this,e):e instanceof qe&&ct.unRegister(this,e.pluginName)}},{key:"unRegisterPlugin",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.deregister(e),t&&this.removePluginFromConfig(e)}},{key:"removePluginFromConfig",value:function(e){var t;if("string"==typeof e?t=e:e instanceof qe&&(t=e.pluginName),t)for(var n=this.config.plugins.length-1;n>-1;n--)if(this.config.plugins[n].pluginName.toLowerCase()===t.toLowerCase()){this.config.plugins.splice(n,1);break}}},{key:"plugins",get:function(){return ct.getPlugins(this)}},{key:"getPlugin",value:function(e){var t=ct.findPlugin(this,e);return t&&t.pluginName?t:null}},{key:"addClass",value:function(e){this.root&&(S.hasClass(this.root,e)||S.addClass(this.root,e))}},{key:"removeClass",value:function(e){this.root&&S.removeClass(this.root,e)}},{key:"hasClass",value:function(e){if(this.root)return S.hasClass(this.root,e)}},{key:"setAttribute",value:function(e,t){this.root&&this.root.setAttribute(e,t)}},{key:"removeAttribute",value:function(e,t){this.root&&this.root.removeAttribute(e,t)}},{key:"start",value:function(e){var t=this;if(!(this.state>gt))return e||this.config.url||this.getInitDefinition(),this.hasStart=!0,this.setState(gt),this._registerPlugins(!1),ct.beforeInit(this).then((function(){if(t.config){e||(e=t.url||t.config.url);var n=t.preProcessUrl(e);return t._startInit(n.url)}})).catch((function(e){throw e.fileName="player",e.lineNumber="236",_.logError("start:beforeInit:",e),e}))}},{key:"switchURL",value:function(e,t){var n=this,i=e;"Object"===S.typeOf(e)&&(i=e.url),i=this.preProcessUrl(i).url;var r=this.currentTime,o=this.paused&&!this.isError;return this.src=i,new Promise((function(e,t){var a=function(e){n.off("timeupdate",s),n.off("canplay",s),t(e)},s=function(){n.currentTime=r,o&&n.pause(),n.off("error",a),e(!0)};n.once("error",a),i?(R.os.isAndroid?n.once("timeupdate",s):n.once("canplay",s),n.play()):n.errorHandler("error",{code:6,message:"empty_src"})}))}},{key:"videoPlay",value:function(){this.mediaPlay()}},{key:"mediaPlay",value:function(){var e=this;if(!this.hasStart&&this.state<yt)return this.removeClass(ht.NO_START),this.addClass(ht.ENTER),this.start(),void(this._useAutoplay=!0);this.state<mt&&(this.removeClass(ht.NO_START),!this.isCanplay&&this.addClass(ht.ENTER));var t=g(u(i.prototype),"play",this).call(this);return void 0!==t&&t&&t.then?t.then((function(){e.removeClass(ht.NOT_ALLOW_AUTOPLAY),e.addClass(ht.PLAYING),e.state<mt&&(_.logInfo(">>>>playPromise.then"),e.setState(mt),e.emit(oe))})).catch((function(t){if(_.logWarn(">>>>playPromise.catch",t.name),e.media&&e.media.error)return e.onError(),void e.removeClass(ht.ENTER);"NotAllowedError"===t.name&&(e._errorTimer=S.setTimeout(e,(function(){e._errorTimer=null,e.emit(ae),e.addClass(ht.NOT_ALLOW_AUTOPLAY),e.removeClass(ht.ENTER),e.pause(),e.setState(vt)}),0))})):(_.logWarn("video.play not return promise"),this.state<mt&&(this.setState(mt),this.removeClass(ht.NOT_ALLOW_AUTOPLAY),this.removeClass(ht.NO_START),this.removeClass(ht.ENTER),this.addClass(ht.PLAYING),this.emit(oe))),t}},{key:"mediaPause",value:function(){g(u(i.prototype),"pause",this).call(this)}},{key:"videoPause",value:function(){g(u(i.prototype),"pause",this).call(this)}},{key:"play",value:function(){var e=this;return this.removeClass(ht.PAUSED),$e(this,"play",(function(){return e.mediaPlay()}))}},{key:"pause",value:function(){var e=this;$e(this,"pause",(function(){g(u(i.prototype),"pause",e).call(e)}))}},{key:"seek",value:function(e,t){var n=this;if(this.media&&!Number.isNaN(Number(e))&&this.hasStart){var i=this.config,r=i.isSeekedPlay,o=i.seekedStatus,a=t||(r?"play":o);e=e<0?0:e>this.duration?parseInt(this.duration,10):e,!this._isPauseBeforeSeek&&(this._isPauseBeforeSeek=this.paused?2:1),this._onceSeekCanplay&&this.off(G,this._onceSeekCanplay),this._onceSeekCanplay=function(){switch(n.removeClass(ht.ENTER),n.isSeeking=!1,a){case"play":n.play();break;case"pause":n.pause();break;default:n._isPauseBeforeSeek>1||n.paused?n.pause():n.play()}n._isPauseBeforeSeek=0,n._onceSeekCanplay=null},this.once(G,this._onceSeekCanplay),this.state<mt?(this.removeClass(ht.NO_START),this.currentTime=e,this.play()):this.currentTime=e}}},{key:"getInitDefinition",value:function(){var e=this,t=this.config,n=t.definition;!t.url&&n&&n.list&&n.list.length>0&&n.defaultDefinition&&n.list.map((function(t){t.definition===n.defaultDefinition&&(e.config.url=t.url,e.curDefinition=t)}))}},{key:"changeDefinition",value:function(e,n){var i=this,r=this.config.definition;if(Array.isArray(null==r?void 0:r.list)&&r.list.forEach((function(t){(null==e?void 0:e.definition)===t.definition&&(i.curDefinition=t)})),null!=e&&e.bitrate&&"number"!=typeof e.bitrate&&(e.bitrate=parseInt(e.bitrate,10)||0),this.emit(ge,{from:n,to:e}),this.hasStart){var o=this.switchURL(e.url,t({seamless:!1!==r.seamless&&"undefined"!=typeof MediaSource&&"function"==typeof MediaSource.isTypeSupported},e));o&&o.then?o.then((function(){i.emit(ye,{from:n,to:e})})):this.emit(ye,{from:n,to:e})}else this.config.url=e.url}},{key:"reload",value:function(){this.load(),this.reloadFunc=function(){this.play()},this.once(q,this.reloadFunc)}},{key:"resetState",value:function(){var e=this,t=[ht.NOT_ALLOW_AUTOPLAY,ht.PLAYING,ht.NO_START,ht.PAUSED,ht.REPLAY,ht.ENTER,ht.ENDED,ht.ERROR,ht.LOADING];this.hasStart=!1,this.isError=!1,this._useAutoplay=!1,this.mediaPause(),this._accPlayed.acc=0,this._accPlayed.t=0,this._accPlayed.loopAcc=0,t.forEach((function(t){e.removeClass(t)})),this.addClass(ht.ENTER),this.emit(Te)}},{key:"reset",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;if(this.resetState(),this.plugins&&(t.map((function(t){e.deregister(t)})),n)){var i=ft();Object.keys(this.config).keys((function(t){"undefined"===e.config[t]||"plugins"!==t&&"presets"!==t&&"el"!==t&&"id"!==t||(e.config[t]=i[t])}))}}},{key:"destroy",value:function(){var e=this,t=this.innerContainer,n=this.root,r=this.media;if(n&&r){if(this.hasStart=!1,this._useAutoplay=!1,n.removeAttribute(He),this.updateAcc("destroy"),this._unbindEvents(),this._detachSourceEvents(this.media),S.clearAllTimers(this),this.emit(ue),ct.destroy(this),Ke(this),g(u(i.prototype),"destroy",this).call(this),this.fullscreen&&this._fullscreenEl===this.root&&this.exitFullscreen(),t)for(var o=t.children,a=0;a<o.length;a++)t.removeChild(o[a]);!t&&r instanceof window.Node&&n.contains(r)&&n.removeChild(r),["topBar","leftBar","rightBar","innerContainer"].map((function(t){e[t]&&n.removeChild(e[t]),e[t]=null}));var s=n.className.split(" ");s.length>0?n.className=s.filter((function(e){return e.indexOf("xgplayer")<0})).join(" "):n.className="",this.removeAttribute("data-xgfill"),["isSeeking","isCanplay","isActive","cssfullscreen","fullscreen"].forEach((function(t){e[t]=!1}))}}},{key:"replay",value:function(){var e=this;this.removeClass(ht.ENDED),this.currentTime=0,this.isSeeking=!1,$e(this,"replay",(function(){e.once(G,(function(){var t=e.mediaPlay();t&&t.catch&&t.catch((function(e){console.log(e)}))})),e.play(),e.emit(le),e.onPlay()}))}},{key:"retry",value:function(){var e=this;this.removeClass(ht.ERROR),this.addClass(ht.LOADING),$e(this,"retry",(function(){var t=e.currentTime,n=e.config.url,i=S.isMSE(e.media)?{url:n}:e.preProcessUrl(n);e.src=i.url,!e.config.isLive&&(e.currentTime=t),e.once(K,(function(){e.mediaPlay()}))}))}},{key:"changeFullStyle",value:function(e,t,n,i){e&&(i||(i=ht.PARENT_FULLSCREEN),this._orgCss||(this._orgCss=S.filterStyleFromText(e)),S.addClass(e,n),t&&t!==e&&!this._orgPCss&&(this._orgPCss=S.filterStyleFromText(t),S.addClass(t,i),t.setAttribute(He,this.playerId)))}},{key:"recoverFullStyle",value:function(e,t,n,i){i||(i=ht.PARENT_FULLSCREEN),this._orgCss&&(S.setStyleFromCsstext(e,this._orgCss),this._orgCss=""),S.removeClass(e,n),t&&t!==e&&this._orgPCss&&(S.setStyleFromCsstext(t,this._orgPCss),this._orgPCss="",S.removeClass(t,i),t.removeAttribute(He))}},{key:"getFullscreen",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.config.fullscreenTarget,t=this.root,n=this.media;if(e||(e=t),this._fullScreenOffset={top:S.scrollTop(),left:S.scrollLeft()},this._fullscreenEl=e,this._fullActionFrom="get",S.getFullScreenEl()===this._fullscreenEl)return this.onFullscreenChange(),Promise.resolve();try{for(var i=0;i<Fe.length;i++){var r=Fe[i];if(e[r]){var o="webkitRequestFullscreen"===r?e.webkitRequestFullscreen(window.Element.ALLOW_KEYBOARD_INPUT):e[r]();return o&&o.then?o:Promise.resolve()}}return n.fullscreenEnabled||n.webkitSupportsFullscreen?(n.webkitEnterFullscreen(),Promise.resolve()):Promise.reject(new Error("call getFullscreen fail"))}catch(l){return Promise.reject(new Error("call getFullscreen fail"))}}},{key:"exitFullscreen",value:function(e){if(this.isRotateFullscreen&&this.exitRotateFullscreen(),this._fullscreenEl||S.getFullScreenEl()){this.root;var t=this.media;this._fullActionFrom="exit";try{for(var n=0;n<je.length;n++){var i=je[n];if(document[i]){var r=document[i]();return r&&r.then?r:Promise.resolve()}}return t&&t.webkitSupportsFullscreen?(t.webkitExitFullScreen(),Promise.resolve()):Promise.reject(new Error("call exitFullscreen fail"))}catch(a){return Promise.reject(new Error("call exitFullscreen fail"))}}}},{key:"getCssFullscreen",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.config.fullscreenTarget;this.isRotateFullscreen?this.exitRotateFullscreen():this.fullscreen&&this.exitFullscreen();var t=e?"".concat(ht.INNER_FULLSCREEN," ").concat(ht.CSS_FULLSCREEN):ht.CSS_FULLSCREEN;this.changeFullStyle(this.root,e,t);var n=this.config.fullscreen,i=void 0===n?{}:n;(!0===i.useCssFullscreen||"function"==typeof i.useCssFullscreen&&i.useCssFullscreen())&&(this.fullscreen=!0,this.emit(fe,!0)),this._cssfullscreenEl=e,this.cssfullscreen=!0,this.emit(pe,!0)}},{key:"exitCssFullscreen",value:function(){var e=this._cssfullscreenEl?"".concat(ht.INNER_FULLSCREEN," ").concat(ht.CSS_FULLSCREEN):ht.CSS_FULLSCREEN;if(this.fullscreen){var t=this.config.fullscreen,n=void 0===t?{}:t;!0===n.useCssFullscreen||"function"==typeof n.useCssFullscreen&&n.useCssFullscreen()?(this.recoverFullStyle(this.root,this._cssfullscreenEl,e),this.fullscreen=!1,this.emit(fe,!1)):this.removeClass(e)}else this.recoverFullStyle(this.root,this._cssfullscreenEl,e);this._cssfullscreenEl=null,this.cssfullscreen=!1,this.emit(pe,!1)}},{key:"getRotateFullscreen",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.config.fullscreenTarget;this.cssfullscreen&&this.exitCssFullscreen(e);var t=e?"".concat(ht.INNER_FULLSCREEN," ").concat(ht.ROTATE_FULLSCREEN):ht.ROTATE_FULLSCREEN;this._fullscreenEl=e||this.root,this.changeFullStyle(this.root,e,t,ht.PARENT_ROTATE_FULLSCREEN),this.isRotateFullscreen=!0,this.fullscreen=!0,this.setRotateDeg(90),this._rootStyle=this.root.getAttribute("style"),this.root.style.width="".concat(window.innerHeight,"px"),this.emit(fe,!0)}},{key:"exitRotateFullscreen",value:function(e){var t=this._fullscreenEl!==this.root?"".concat(ht.INNER_FULLSCREEN," ").concat(ht.ROTATE_FULLSCREEN):ht.ROTATE_FULLSCREEN;this.recoverFullStyle(this.root,this._fullscreenEl,t,ht.PARENT_ROTATE_FULLSCREEN),this.isRotateFullscreen=!1,this.fullscreen=!1,this.setRotateDeg(0),this.emit(fe,!1),this._rootStyle&&(this.root.style.style=this._rootStyle,this._rootStyle=!1)}},{key:"setRotateDeg",value:function(e){90===window.orientation||-90===window.orientation?this.rotateDeg=0:this.rotateDeg=e}},{key:"focus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{autoHide:!this.config.closeDelayBlur,delay:this.config.inactive};this.isActive?this.onFocus(e):this.emit(te,t({paused:this.paused,ended:this.ended},e))}},{key:"blur",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{ignorePaused:!1};this.isActive?this.emit(ne,t({paused:this.paused,ended:this.ended},e)):this.onBlur(e)}},{key:"onFocus",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{autoHide:!0,delay:3e3},n=this.innerStates;if(this.isActive=!0,this.removeClass(ht.INACTIVE),this.userTimer&&(S.clearTimeout(this,this.userTimer),this.userTimer=null),void 0!==t.isLock&&(n.isActiveLocked=t.isLock),!1===t.autoHide||!0===t.isLock||n.isActiveLocked)this.userTimer&&(S.clearTimeout(this,this.userTimer),this.userTimer=null);else{var i=t&&t.delay?t.delay:this.config.inactive;this.userTimer=S.setTimeout(this,(function(){e.userTimer=null,e.blur()}),i)}}},{key:"onBlur",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).ignorePaused,t=void 0!==e&&e;if(this.isActive&&!this.innerStates.isActiveLocked){var n=this.config.closePauseVideoFocus;this.isActive=!1,(t||n||!this.paused&&!this.ended)&&this.addClass(ht.INACTIVE)}}},{key:"onEmptied",value:function(){this.updateAcc("emptied")}},{key:"onCanplay",value:function(){this.removeClass(ht.ENTER),this.removeClass(ht.ERROR),this.removeClass(ht.LOADING),this.isCanplay=!0,this.waitTimer&&S.clearTimeout(this,this.waitTimer)}},{key:"onLoadeddata",value:function(){this.isError=!1,this.isSeeking=!1}},{key:"onLoadstart",value:function(){this.removeClass(ht.ERROR),this.isCanplay=!1}},{key:"onPlay",value:function(){this.state===xt&&this.setState(mt),this.removeClass(ht.PAUSED),this.ended&&this.removeClass(ht.ENDED),!this.config.closePlayVideoFocus&&this.focus()}},{key:"onPause",value:function(){this.addClass(ht.PAUSED),this.updateAcc("pause"),this.config.closePauseVideoFocus||(this.userTimer&&(S.clearTimeout(this,this.userTimer),this.userTimer=null),this.focus())}},{key:"onEnded",value:function(){this.updateAcc("ended"),this.addClass(ht.ENDED),this.setState(xt)}},{key:"onError",value:function(){this.isError=!0,this.updateAcc("error"),this.removeClass(ht.NOT_ALLOW_AUTOPLAY),this.removeClass(ht.NO_START),this.removeClass(ht.ENTER),this.removeClass(ht.LOADING),this.addClass(ht.ERROR)}},{key:"onSeeking",value:function(){this.isSeeking||this.updateAcc("seeking"),this.isSeeking=!0,this.addClass(ht.SEEKING)}},{key:"onSeeked",value:function(){this.isSeeking=!1,this.waitTimer&&S.clearTimeout(this,this.waitTimer),this.removeClass(ht.LOADING),this.removeClass(ht.SEEKING)}},{key:"onWaiting",value:function(){var e=this;this.waitTimer&&S.clearTimeout(this,this.waitTimer),this.updateAcc("waiting"),this.waitTimer=S.setTimeout(this,(function(){e.addClass(ht.LOADING),S.clearTimeout(e,e.waitTimer),e.waitTimer=null}),this.config.minWaitDelay)}},{key:"onPlaying",value:function(){var e=this;this.isError=!1,[ht.NO_START,ht.PAUSED,ht.ENDED,ht.ERROR,ht.REPLAY,ht.LOADING].forEach((function(t){e.removeClass(t)}))}},{key:"onTimeupdate",value:function(){!this._videoHeight&&this.media.videoHeight&&this.resize(),(this.waitTimer||this.hasClass(ht.LOADING))&&this.media.readyState>2&&(this.removeClass(ht.LOADING),S.clearTimeout(this,this.waitTimer),this.waitTimer=null),!this.paused&&this.state<mt&&this.duration&&(this.setState(mt),this.emit(oe)),this._accPlayed.t||this.paused||this.ended||(this._accPlayed.t=(new Date).getTime())}},{key:"onVolumechange",value:function(){"Number"===S.typeOf(this.config.volume)&&(this.config.volume=this.volume)}},{key:"onRatechange",value:function(){this.config.defaultPlaybackRate=this.playbackRate}},{key:"emitUserAction",value:function(e,n,i){if(this.media&&n&&e){var r="String"===S.typeOf(e)?e:e.type||"";i.props&&"Array"!==S.typeOf(i.props)&&(i.props=[i.props]),this.emit(_e,t({eventType:r,action:n,currentTime:this.currentTime,duration:this.duration,ended:this.ended,event:e},i))}}},{key:"updateAcc",value:function(e){if(this._accPlayed.t){var t=(new Date).getTime()-this._accPlayed.t;this._accPlayed.acc+=t,this._accPlayed.t=0,("ended"===e||this.ended)&&(this._accPlayed.loopAcc=this._accPlayed.acc)}}},{key:"checkBuffer",value:function(e){var t=this.media.buffered;if(!t||0===t.length||!this.duration)return!0;for(var n=e||this.media.currentTime||.2,i=t.length,r=0;r<i;r++)if(t.start(r)<=n&&t.end(r)>n)return!0;return!1}},{key:"resizePosition",value:function(){var e=this.videoPos,t=e.rotate,n=e.vy,i=e.vx,r=e.h,o=e.w;if(!(t<0)||n||i){var a=this.videoPos._pi;if(!a&&this.media.videoHeight&&(a=this.media.videoWidth/this.media.videoHeight*100),a){this.videoPos.pi=a;var s={rotate:t},l=0,u=0,c=1,h=Math.abs(t/90),f=this.root,p=this.innerContainer,d=f.offsetWidth,g=p?p.offsetHeight:f.offsetHeight,y=g,v=d;if(h%2==0)c=r>0?100/r:o>0?100/o:1,s.scale=c,l=n>0?(100-r)/2-n:0,s.y=2===h?0-l:l,u=i>0?(100-o)/2-i:0,s.x=2===h?0-u:u,this.media.style.width="".concat(v,"px"),this.media.style.height="".concat(y,"px");else if(h%2==1){y=d;var m=g-d;u=-m/2/(v=g)*100,s.x=3===h?u+n/2:u-n/2,l=m/2/y*100,s.y=3===h?l+i/2:l-i/2,s.scale=c,this.media.style.width="".concat(v,"px"),this.media.style.height="".concat(y,"px")}var x=S.getTransformStyle(s,this.media.style.transform||this.media.style.webkitTransform);this.media.style.transform=x,this.media.style.webkitTransform=x}}}},{key:"position",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{h:0,y:0,x:0,w:0};if(this.media&&e&&e.h){var t=this.videoPos;t.h=100*e.h||0,t.w=100*e.w||0,t.vx=100*e.x||0,t.vy=100*e.y||0,this.resizePosition()}}},{key:"setConfig",value:function(e){var t=this;e&&Object.keys(e).map((function(n){if("plugins"!==n){t.config[n]=e[n];var i=t.plugins[n.toLowerCase()];i&&"Function"===S.typeOf(i.setConfig)&&i.setConfig(e[n])}}))}},{key:"playNext",value:function(e){var t=this;this.resetState(),this.setConfig(e),this._currentTime=0,this._duration=0,$e(this,"playnext",(function(){t.start(),t.emit(ke,e)}))}},{key:"resize",value:function(){var e=this;if(this.media){var t=this.root.getBoundingClientRect();this.sizeInfo.width=t.width,this.sizeInfo.height=t.height,this.sizeInfo.left=t.left,this.sizeInfo.top=t.top;var n=this.media,i=n.videoWidth,r=n.videoHeight,o=this.config,a=o.fitVideoSize,s=o.videoFillMode;if("fill"!==s&&"cover"!==s&&"contain"!==s||this.setAttribute("data-xgfill",s),r&&i){this._videoHeight=r,this._videoWidth=i;var l=this.controls&&this.innerContainer?this.controls.root.getBoundingClientRect().height:0,u=t.width,c=t.height-l,h=parseInt(i/r*1e3,10),f=parseInt(u/c*1e3,10),p=u,d=c,g={};"auto"===a&&f>h||"fixWidth"===a?(d=u/h*1e3,this.config.fluid?g.paddingTop="".concat(100*d/p,"%"):g.height="".concat(d+l,"px")):("auto"===a&&f<h||"fixHeight"===a)&&(p=h*c/1e3,g.width="".concat(p,"px")),this.fullscreen||this.cssfullscreen||Object.keys(g).forEach((function(t){e.root.style[t]=g[t]})),("fillHeight"===s&&f<h||"fillWidth"===s&&f>h)&&this.setAttribute("data-xgfill","cover");var y={videoScale:h,vWidth:p,vHeight:d,cWidth:p,cHeight:d+l};this.resizePosition(),this.emit(ve,y)}}}},{key:"updateObjectPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.media.updateObjectPosition?this.media.updateObjectPosition(e,t):this.media.style.objectPosition="".concat(100*e,"% ").concat(100*t,"%")}},{key:"setState",value:function(e){_.logInfo("setState","state from:".concat(bt[this.state]," to:").concat(bt[e])),this._state=e}},{key:"preProcessUrl",value:function(e,t){var n=this.config.preProcessUrl;return!S.isBlob(e)&&n&&"function"==typeof n?n(e,t):{url:e}}},{key:"state",get:function(){return this._state}},{key:"isFullscreen",get:function(){return this.fullscreen}},{key:"isCssfullScreen",get:function(){return this.cssfullscreen}},{key:"hasStart",get:function(){return this._hasStart},set:function(e){"boolean"==typeof e&&(this._hasStart=e,!1===e&&this.setState(dt),this.emit("hasstart"))}},{key:"isPlaying",get:function(){return this._state===mt||this._state===xt},set:function(e){e?this.setState(mt):this._state>=mt&&this.setState(yt)}},{key:"definitionList",get:function(){return this.config&&this.config.definition&&this.config.definition.list||[]},set:function(e){var t=this,n=this.config.definition,i=null,r=null;n.list=e,this.emit("resourceReady",e),e.forEach((function(e){var o;(null===(o=t.curDefinition)||void 0===o?void 0:o.definition)===e.definition&&(i=e),n.defaultDefinition===e.definition&&(r=e)})),!r&&e.length>0&&(r=e[0]),i?this.changeDefinition(i):r&&this.changeDefinition(r)}},{key:"videoFrameInfo",get:function(){var e={total:0,dropped:0,corrupted:0,droppedRate:0,droppedDuration:0};if(!this.media||!this.media.getVideoPlaybackQuality)return e;var t=this.media.getVideoPlaybackQuality();return e.dropped=t.droppedVideoFrames||0,e.total=t.totalVideoFrames||0,e.corrupted=t.corruptedVideoFrames||0,e.total>0&&(e.droppedRate=e.dropped/e.total*100,e.droppedDuration=parseInt(this.cumulateTime/e.total*e.dropped,0)),e}},{key:"lang",get:function(){return this.config.lang},set:function(e){0!==St.langKeys.filter((function(t){return t===e})).length||"zh"===e?(this.config.lang=e,ct.setLang(e,this)):console.error("Sorry, set lang fail, because the language [".concat(e,"] is not supported now, list of all supported languages is [").concat(St.langKeys.join(),"] "))}},{key:"i18n",get:function(){var e=this.config.lang;return"zh"===e&&(e="zh-cn"),this.__i18n.lang[e]||this.__i18n.lang.en}},{key:"i18nKeys",get:function(){return this.__i18n.textKeys||{}}},{key:"version",get:function(){return D}},{key:"playerId",get:function(){return this._pluginInfoId}},{key:"url",get:function(){return this.__url||this.config.url},set:function(e){this.__url=e}},{key:"poster",get:function(){return this.plugins.poster?this.plugins.poster.config.poster:this.config.poster},set:function(e){this.plugins.poster&&this.plugins.poster.update(e)}},{key:"readyState",get:function(){return g(u(i.prototype),"readyState",this)}},{key:"error",get:function(){var e=g(u(i.prototype),"error",this);return this.i18n[e]||e}},{key:"networkState",get:function(){return g(u(i.prototype),"networkState",this)}},{key:"fullscreenChanging",get:function(){return!(null===this._fullScreenOffset)}},{key:"cumulateTime",get:function(){var e=this._accPlayed,t=e.acc,n=e.t;return n?(new Date).getTime()-n+t:t}},{key:"zoom",get:function(){return this.config.zoom},set:function(e){this.config.zoom=e}},{key:"videoRotateDeg",get:function(){return this.videoPos.rotate},set:function(e){(e=S.convertDeg(e))%90==0&&e!==this.videoPos.rotate&&(this.videoPos.rotate=e,this.resizePosition())}},{key:"avgSpeed",get:function(){return At},set:function(e){At=e}},{key:"realTimeSpeed",get:function(){return Pt},set:function(e){Pt=e}},{key:"offsetCurrentTime",get:function(){return this._offsetInfo.currentTime||0},set:function(e){this._offsetInfo.currentTime=e}},{key:"offsetDuration",get:function(){return this._offsetInfo.duration||0},set:function(e){this._offsetInfo.duration=e||0}},{key:"hook",value:function(e,t){return Be.call.apply(Be,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"useHooks",value:function(e,t){return ze.call.apply(ze,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"removeHooks",value:function(e,t){return Ve.call.apply(Ve,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"usePluginHooks",value:function(e,t,n){for(var i=arguments.length,r=new Array(i>3?i-3:0),o=3;o<i;o++)r[o-3]=arguments[o];return Ge.call.apply(Ge,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"removePluginHooks",value:function(e,t,n){for(var i=arguments.length,r=new Array(i>3?i-3:0),o=3;o<i;o++)r[o-3]=arguments[o];return We.call.apply(We,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"setUserActive",value:function(e,t){"boolean"==typeof t&&t!==this.muted&&(this.addInnerOP("volumechange"),this.muted=t),ct.setCurrentUserActive(this.playerId,e)}}],[{key:"debugger",get:function(){return _.config.debug},set:function(e){_.config.debug=e}},{key:"getCurrentUserActivePlayerId",value:function(){return ct.getCurrentUseActiveId()}},{key:"setCurrentUserActive",value:function(e,t){ct.setCurrentUserActive(e,t)}},{key:"isHevcSupported",value:function(){return R.isHevcSupported()}},{key:"probeConfigSupported",value:function(e){return R.probeConfigSupported(e)}},{key:"install",value:function(e,t){i.plugins||(i.plugins={}),i.plugins[e]||(i.plugins[e]=t)}},{key:"use",value:function(e,t){i.plugins||(i.plugins={}),i.plugins[e]=t}}]),i}(De);function It(){return(new Date).getTime()}s(Lt,"defaultPreset",null),s(Lt,"XgVideoProxy",null);var Ot="loadstart",Rt="loadeddata",Dt="firstFrame",Mt="waitingStart",Nt="waitingEnd",Ft="seekStart",jt="seekEnd",Ht=function(e){l(i,e);var n=p(i);function i(){var e;r(this,i);for(var t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return s(h(e=n.call.apply(n,[this].concat(o))),"_onTimeupdate",(function(){e._state.isTimeUpdate=!0,e._state.autoplayStart&&(_.logInfo("[xgLogger]".concat(e.player.playerId," _onTimeupdate")),e._sendFF("onTimeupdate"))})),s(h(e),"_onAutoplayStart",(function(){_.logInfo("[xgLogger]".concat(e.player.playerId," _onAutoplayStart")),e._state.autoplayStart=!0,e.vt&&e._sendFF("onAutoplayStart")})),s(h(e),"_onReset",(function(){e._state={autoplayStart:!1,isFFLoading:!1,isTimeUpdate:!1,isFFSend:!1,isLs:!1},e.vt=0,e.pt=0,e.fvt=0,e.newPointTime=It(),e.loadedCostTime=0,e.startCostTime=0,e._isSeeking=!1,e.seekingStart=0,e.waitingStart=0,e.fixedWaitingStart=0,e._isWaiting=!1,e._waitTimer&&S.clearTimeout(h(e),e._waitTimer),e._waittTimer&&S.clearTimeout(h(e),e._waittTimer),e._waitTimer=null,e._waittTimer=null,e._waitType=0})),s(h(e),"_onSeeking",(function(){e.seekingStart||(e.suspendWaitingStatus("seek"),e.seekingStart=It(),e.emitLog(Ft,{start:It()}))})),s(h(e),"_onSeeked",(function(){e.suspendSeekingStatus("seeked")})),s(h(e),"_onWaitingLoadStart",(function(){e._isWaiting||e.vt||(e._isWaiting=!0,e.waitingStart=It(),e.fixedWaitingStart=It(),e._waitType=1,e.emitLog(Mt,{fixedStart:e.fixedWaitingStart,start:e.waitingStart,type:1,endType:"loadstart"}))})),s(h(e),"_onWaiting",(function(){!e._isWaiting&&e.vt&&(e._isWaiting=!0,e.vt?e.seekingStart?e._waitType=2:e._waitType=0:e._waitType=1,e.fixedWaitingStart=It(),e._waitTimer=S.setTimeout(h(e),(function(){e._isWaiting&&(e.waitingStart=It(),S.clearTimeout(h(e),e._waitTimer),e._waitTimer=null,e._startWaitTimeout(),e.emitLog(Mt,{fixedStart:e.fixedWaitingStart,start:e.waitingStart,type:e._waitType,endType:2===e._waitType?"seek":"playing"}))}),200))})),s(h(e),"_onError",(function(){e.suspendSeekingStatus("error"),e.suspendWaitingStatus("error")})),s(h(e),"_onPlaying",(function(){e._isWaiting&&e.suspendWaitingStatus("playing")})),e}return a(i,[{key:"afterCreate",value:function(){var e=this;this._onReset(),this._waitType="firstFrame",this._initOnceEvents(),this.newPointTime=It(),this.loadedCostTime=0,this.startCostTime=0,this.on(Q,(function(){var t=e._state,n=t.autoplayStart,i=t.isFFSend;e.startCostTime=It()-e.newPointTime,_.logInfo("[xgLogger]".concat(e.player.playerId," LOAD_START"),"autoplayStart:".concat(n," isFFSend:").concat(i," startCostTime:").concat(e.startCostTime," newPointTime").concat(e.newPointTime)),i||(!t.isLs&&e.emitLog(Ot,{}),t.isLs=!0,t.isTimeUpdate=!1,t.isFFLoading=!0,e.pt=It(),e.vt=0,e.fvt=0,e._initOnceEvents(),e._onWaitingLoadStart())})),this.on(q,(function(){e.vt=It(),e.fvt=e.vt-e.pt,e.loadedCostTime=e.vt-e.newPointTime;var t=e._state,n=t.isTimeUpdate,i=t.isFFSend,r=t.autoplayStart;_.logInfo("[xgLogger]".concat(e.player.playerId," LOADED_DATA"),"fvt:".concat(e.fvt," isTimeUpdate:").concat(e._state.isTimeUpdate," loadedCostTime:").concat(e.loadedCostTime)),(n||r)&&e._sendFF("loadedData"),i||e.emitLog(Rt,{}),e.suspendWaitingStatus("loadeddata")})),this.on(V,this._onSeeking),this.on(G,this._onSeeked),this.on(ue,(function(){e.endState("destroy")})),this.on(ce,(function(){e.endState("urlChange"),_.logInfo("[xgLogger]".concat(e.player.playerId," URL_CHANGE")),e._state.isFFSend&&e._onReset()})),this.on([H,K],this._onPlaying),this.on(Y,this._onWaiting),this.on(z,this._onError),this.on(Te,(function(){_.logInfo("[xgLogger]".concat(e.player.playerId," RESET")),e.endState("reset"),e._initOnceEvents(),e._onReset()}))}},{key:"_initOnceEvents",value:function(){this.off(oe,this._onAutoplayStart),this.off(W,this._onTimeupdate),this.once(oe,this._onAutoplayStart),this.once(W,this._onTimeupdate)}},{key:"_sendFF",value:function(e){this.s=It();var t=this._state,n=t.isFFLoading,i=t.isFFSend;_.logInfo("[xgLogger]".concat(this.player.playerId," _sendFF"),"".concat(e," fvt:").concat(this.fvt," isFFLoading:").concat(n," !isFFSend:").concat(!i)),this.vt>0&&n&&!i&&(_.logInfo("[xgLogger]".concat(this.player.playerId," emitLog_firstFrame"),e),this._state.isFFLoading=!1,this._state.isFFSend=!0,this.emitLog(Dt,{fvt:this.fvt,costTime:this.fvt,vt:this.vt,startCostTime:this.startCostTime,loadedCostTime:this.loadedCostTime}))}},{key:"_startWaitTimeout",value:function(){var e=this;this._waittTimer&&S.clearTimeout(this,this._waittTimer),this._waittTimer=S.setTimeout(this,(function(){e.suspendWaitingStatus("timeout"),S.clearTimeout(e,e._waittTimer),e._waittTimer=null}),this.config.waitTimeout)}},{key:"endState",value:function(e){this.suspendWaitingStatus(e),this.suspendSeekingStatus(e)}},{key:"suspendSeekingStatus",value:function(e){if(this.seekingStart){var t=It(),n=t-this.seekingStart;this.seekingStart=0,this.emitLog(jt,{end:t,costTime:n,endType:e})}}},{key:"suspendWaitingStatus",value:function(e){if(this._waitTimer&&(S.clearTimeout(this,this._waitTimer),this._waitTimer=null),this._waittTimer&&(S.clearTimeout(this,this._waittTimer),this._waittTimer=null),this._isWaiting=!1,this.waitingStart){var t=It(),n=t-this.waitingStart,i=t-this.fixedWaitingStart,r=this.config.waitTimeout;this._isWaiting=!1,this.waitingStart=0,this.fixedWaitingStart=0,this.emitLog(Nt,{fixedCostTime:i>r?r:i,costTime:n>r?r:n,type:"loadeddata"===e?1:this._waitType,endType:2===this._waitType?"seek":e})}}},{key:"emitLog",value:function(e,n){var i=this.player;this.emit(Ce,t({t:It(),host:S.getHostFromUrl(i.currentSrc),vtype:i.vtype,eventType:e,currentTime:this.player.currentTime,readyState:i.video.readyState,networkState:i.video.networkState},n))}}],[{key:"pluginName",get:function(){return"xgLogger"}},{key:"defaultConfig",get:function(){return{waitTimeout:1e4}}}]),i}(st);function Ut(){return(new DOMParser).parseFromString('<svg class="xgplayer-replay-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 78 78" width="78" height="78">\n  <path fill="#fff" transform="translate(20, 20)" d="M8.22708362,13.8757234 L11.2677371,12.6472196 C11.7798067,12.4403301 12.3626381,12.6877273 12.5695276,13.1997969 L12.9441342,14.1269807 C13.1510237,14.6390502 12.9036264,15.2218816 12.3915569,15.4287712 L6.8284538,17.6764107 L5.90126995,18.0510173 C5.38920044,18.2579068 4.80636901,18.0105096 4.5994795,17.49844 L1.97723335,11.0081531 C1.77034384,10.4960836 2.0177411,9.91325213 2.52981061,9.70636262 L3.45699446,9.33175602 C3.96906396,9.12486652 4.5518954,9.37226378 4.75878491,9.88433329 L5.67885163,12.1615783 C7.99551726,6.6766934 13.3983951,3 19.5,3 C27.7842712,3 34.5,9.71572875 34.5,18 C34.5,26.2842712 27.7842712,33 19.5,33 C15.4573596,33 11.6658607,31.3912946 8.87004692,28.5831991 C8.28554571,27.9961303 8.28762719,27.0463851 8.87469603,26.4618839 C9.46176488,25.8773827 10.4115101,25.8794641 10.9960113,26.466533 C13.2344327,28.7147875 16.263503,30 19.5,30 C26.127417,30 31.5,24.627417 31.5,18 C31.5,11.372583 26.127417,6 19.5,6 C14.4183772,6 9.94214483,9.18783811 8.22708362,13.8757234 Z"></path>\n</svg>\n',"image/svg+xml").firstChild}var Bt=function(e){l(n,e);var t=p(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"registerIcons",value:function(){return{replay:Ut}}},{key:"afterCreate",value:function(){var e=this;st.insert(this.icons.replay,this.root,0),this.__handleReplay=this.hook("replayClick",(function(){e.player.replay()}),{pre:function(e){e.preventDefault(),e.stopPropagation()}}),this.bind(".xgplayer-replay",["click","touchend"],this.__handleReplay),this.on(U,(function(){if(e.playerConfig.loop||S.addClass(e.player.root,"replay"),!e.config.disable){e.show();var t=e.root.querySelector("path");if(t){var n=window.getComputedStyle(t).getPropertyValue("transform");if("string"==typeof n&&n.indexOf("none")>-1)return null;t.setAttribute("transform",n)}}})),this.on(j,(function(){e.hide()}))}},{key:"handleReplay",value:function(e){e.preventDefault(),e.stopPropagation(),this.player.replay(),S.removeClass(this.player.root,"replay")}},{key:"show",value:function(){this.config.disable||(this.root.style.display="flex")}},{key:"enable",value:function(){this.config.disable=!1}},{key:"disable",value:function(){this.config.disable=!0,this.hide()}},{key:"destroy",value:function(){this.unbind(".xgplayer-replay",["click","touchend"],this.__handleReplay)}},{key:"render",value:function(){return'<xg-replay class="xgplayer-replay">\n      <xg-replay-txt class="xgplayer-replay-txt" lang-key="'.concat(this.i18nKeys.REPLAY,'">').concat(this.i18n.REPLAY,"</xg-replay-txt>\n    </xg-replay>")}}],[{key:"pluginName",get:function(){return"replay"}},{key:"defaultConfig",get:function(){return{disable:!1}}}]),n}(st),zt=function(e){l(n,e);var t=p(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"isEndedShow",get:function(){return this.config.isEndedShow},set:function(e){this.config.isEndedShow=e}},{key:"hide",value:function(){S.addClass(this.root,"hide")}},{key:"show",value:function(){S.removeClass(this.root,"hide")}},{key:"beforeCreate",value:function(e){"string"==typeof e.player.config.poster&&(e.config.poster=e.player.config.poster)}},{key:"afterCreate",value:function(){var e=this;this.on(U,(function(){e.isEndedShow&&S.removeClass(e.root,"hide")})),this.config.hideCanplay?(this.once(W,(function(){e.onTimeUpdate()})),this.on(ce,(function(){S.removeClass(e.root,"hide"),S.addClass(e.root,"xg-showplay"),e.once(W,(function(){e.onTimeUpdate()}))}))):this.on(j,(function(){S.addClass(e.root,"hide")}))}},{key:"onTimeUpdate",value:function(){var e=this;this.player.currentTime?S.removeClass(this.root,"xg-showplay"):this.once(W,(function(){e.onTimeUpdate()}))}},{key:"update",value:function(e){e&&(this.config.poster=e,this.root.style.backgroundImage="url(".concat(e,")"))}},{key:"render",value:function(){var e=this.config,t=e.poster,n=e.hideCanplay,i=t?"background-image:url(".concat(t,");"):"";return'<xg-poster class="xgplayer-poster '.concat(n?"xg-showplay":"",'" style="').concat(i,'">\n    </xg-poster>')}}],[{key:"pluginName",get:function(){return"poster"}},{key:"defaultConfig",get:function(){return{isEndedShow:!0,hideCanplay:!1,poster:""}}}]),n}(st);function Vt(){return(new DOMParser).parseFromString('<svg class="play" xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="3 -4 28 40">\n  <path fill="#fff" transform="scale(0.0320625 0.0320625)" d="M576,363L810,512L576,661zM342,214L576,363L576,661L342,810z"></path>\n</svg>\n',"image/svg+xml").firstChild}function Gt(){return(new DOMParser).parseFromString('<svg class="pause" xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="3 -4 28 40">\n  <path fill="#fff" transform="scale(0.0320625 0.0320625)" d="M598,214h170v596h-170v-596zM256 810v-596h170v596h-170z"></path>\n</svg>\n',"image/svg+xml").firstChild}var Wt={};function Yt(e){e?window.clearTimeout(e):Object.keys(Wt).map((function(e){window.clearTimeout(Wt[e].id),delete Wt[e]}))}var Kt=function(e){l(n,e);var t=p(n);function n(e){var i;return r(this,n),s(h(i=t.call(this,e)),"onPlayerReset",(function(){i.autoPlayStart=!1;var e="auto"===i.config.mode?"auto-hide":"hide";i.setAttr("data-state","play"),S.removeClass(i.root,e),i.show()})),s(h(i),"onAutoplayStart",(function(){if(!i.autoPlayStart){var e="auto"===i.config.mode?"auto-hide":"hide";S.addClass(i.root,e),i.autoPlayStart=!0,i.onPlayPause("play")}})),i.autoPlayStart=!1,i}return a(n,[{key:"afterCreate",value:function(){var e=this,t=this.player,n=this.playerConfig;this.initIcons(),this.once(ie,(function(){n&&(n.lang&&"en"===n.lang?S.addClass(t.root,"lang-is-en"):"jp"===n.lang&&S.addClass(t.root,"lang-is-jp"))})),this.on(oe,this.onAutoplayStart),n.autoplay||this.show(),this.on(ae,(function(){var t="auto"===e.config.mode?"auto-hide":"hide";e.setAttr("data-state","play"),S.removeClass(e.root,t),e.show()})),this.on(j,(function(){e.onPlayPause("play")})),this.on(B,(function(){e.onPlayPause("pause")})),this.on(Te,(function(){e.onPlayerReset()})),this.clickHandler=this.hook("startClick",this.switchPausePlay,{pre:function(t){t.cancelable&&t.preventDefault(),t.stopPropagation();var n=e.player.paused;e.emitUserAction(t,"switch_play_pause",{props:"paused",from:n,to:!n})}}),this.bind(["click","touchend"],this.clickHandler)}},{key:"registerIcons",value:function(){return{startPlay:{icon:Vt,class:"xg-icon-play"},startPause:{icon:Gt,class:"xg-icon-pause"}}}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild("xg-start-inner",e.startPlay),this.appendChild("xg-start-inner",e.startPause)}},{key:"hide",value:function(){S.addClass(this.root,"hide")}},{key:"show",value:function(){S.removeClass(this.root,"hide")}},{key:"focusHide",value:function(){S.addClass(this.root,"focus-hide")}},{key:"recover",value:function(){S.removeClass(this.root,"focus-hide")}},{key:"switchStatus",value:function(e){e?this.setAttr("data-state",this.player.paused?"pause":"play"):this.setAttr("data-state",this.player.paused?"play":"pause")}},{key:"animate",value:function(e){var t=this;this._animateId=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{start:null,end:null};return Wt[e]&&window.clearTimeout(Wt[e].id),Wt[e]={},n.start&&n.start(),Wt[e].id=window.setTimeout((function(){n.end&&n.end(),window.clearTimeout(Wt[e].id),delete Wt[e]}),t),Wt[e].id}("pauseplay",400,{start:function(){S.addClass(t.root,"interact"),t.show(),t.switchStatus(!0)},end:function(){S.removeClass(t.root,"interact"),!e&&t.hide(),t._animateId=null}})}},{key:"endAnimate",value:function(){S.removeClass(this.root,"interact"),Yt(this._animateId),this._animateId=null}},{key:"switchPausePlay",value:function(e){var t=this.player;e.cancelable&&e.preventDefault(),e.stopPropagation(),t.state<dt||(this.player.paused||t.state!==mt?t.play():t.pause())}},{key:"onPlayPause",value:function(e){var t=this.config,n=this.player;if(n&&!(n.state<mt)&&this.autoPlayStart){if("show"===t.mode)return this.switchStatus(),void this.show();if("auto"!==t.mode){if(t.isShowPause&&n.paused&&!n.ended||t.isShowEnd&&n.ended)return this.switchStatus(),this.show(),void this.endAnimate();if(t.disableAnimate)return this.switchStatus(),void this.hide();if("play"===e)this.autoPlayStart?this.animate():this.hide();else{if(!this.autoPlayStart||n.ended)return;this.animate()}}else this.switchStatus()}}},{key:"destroy",value:function(){this.unbind(["click","touchend"],this.clickHandler),Yt(this._animateId)}},{key:"render",value:function(){var e=this.playerConfig.autoplay?"auto"===this.config.mode?"auto-hide":"hide":"";return'\n    <xg-start class="xgplayer-start '.concat(e,'">\n    <xg-start-inner></xg-start-inner>\n    </xg-start>')}}],[{key:"pluginName",get:function(){return"start"}},{key:"defaultConfig",get:function(){return{isShowPause:!1,isShowEnd:!1,disableAnimate:!1,mode:"hide"}}}]),n}(st),$t=function(e){l(n,e);var t=p(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"render",value:function(){var e=this.config.innerHtml,t=S.createDom("xg-enter","",{},"xgplayer-enter");if(e&&e instanceof window.HTMLElement)t.appendChild(e);else if(e&&"string"==typeof e)t.innerHTML=e;else{for(var n="",i=1;i<=12;i++)n+='<div class="xgplayer-enter-bar'.concat(i,'"></div>');t.innerHTML='<div class="xgplayer-enter-spinner">'.concat(n,"</div>")}return t}}],[{key:"pluginName",get:function(){return"enter"}},{key:"defaultConfig",get:function(){return{innerHtml:"",logo:""}}}]),n}(st);function Xt(e,t,n){try{return' <div class="xg-tips '.concat(n?"hide":" ",'" lang-key="').concat(e.i18nKeys[t],'">\n    ').concat(e.i18n[t],"\n    </div>")}catch(r){return'<div class="xg-tips hide"></div>'}}var qt=function(e){l(n,e);var t=p(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"afterCreate",value:function(){this.getMini=this.getMini.bind(this),this.exitMini=this.exitMini.bind(this),this.bind("click",this.getMini)}},{key:"getMini",value:function(){this.config.onClick&&this.config.onClick()}},{key:"exitMini",value:function(){this.config.onClick&&this.config.onClick()}},{key:"destroy",value:function(){this.unbind(["click","touchend"],this.getMini)}},{key:"render",value:function(){var e="MINISCREEN";return'\n      <xg-icon class="xgplayer-miniicon">\n      <div class="xgplayer-icon btn-text"><span class="icon-text" lang-key="'.concat(this.i18nKeys[e],'">').concat(this.i18n[e],"</span></div>\n      </xg-icon>")}}],[{key:"pluginName",get:function(){return"miniscreenIcon"}},{key:"defaultConfig",get:function(){return{position:it.CONTROLS_RIGHT,index:10}}}]),n}(st);function Jt(e){var t=parseFloat(e);return-1===e.indexOf("%")&&!Number.isNaN(t)&&t}var Zt=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],Qt=Zt.length;function en(e){if("string"==typeof e&&(e=document.querySelector(e)),e&&"object"===n(e)&&e.nodeType){var t=function(e){return window.getComputedStyle(e)}(e);if("none"===t.display)return function(){for(var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},t=0;t<Qt;t++)e[Zt[t]]=0;return e}();var i={};i.width=e.offsetWidth,i.height=e.offsetHeight;for(var r=i.isBorderBox="border-box"===t.boxSizing,o=0;o<Qt;o++){var a=Zt[o],s=t[a],l=parseFloat(s);i[a]=Number.isNaN(l)?0:l}var u=i.paddingLeft+i.paddingRight,c=i.paddingTop+i.paddingBottom,h=i.marginLeft+i.marginRight,f=i.marginTop+i.marginBottom,p=i.borderLeftWidth+i.borderRightWidth,d=i.borderTopWidth+i.borderBottomWidth,g=r,y=Jt(t.width);!1!==y&&(i.width=y+(g?0:u+p));var v=Jt(t.height);return!1!==v&&(i.height=v+(g?0:c+d)),i.innerWidth=i.width-(u+p),i.innerHeight=i.height-(c+d),i.outerWidth=i.width+h,i.outerHeight=i.height+f,i}}function tn(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(i.identifier===t)return i}}var nn="dragStart",rn="dragMove",on="dragEnded",an={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"]},sn=function(e){l(n,e);var t=p(n);function n(e){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r(this,n),(i=t.call(this)).isEnabled=!0,i.isDragging=!1,i.isDown=!1,i.position={},i.downPoint={},i.dragPoint={x:0,y:0},i.startPos={x:0,y:0},i._root=e instanceof Element?e:document.querySelector(e),i._handlerDom=o.handle instanceof Element?o.handle:document.querySelector(o.handle),i._root&&i._handlerDom?(i._bindStartEvent(),i):f(i)}return a(n,[{key:"_bindStartEvent",value:function(){var e=this;"ontouchstart"in window?this._startKey="touchstart":this._startKey="mousedown",this["on".concat(this._startKey)]=this["on".concat(this._startKey)].bind(this),this._handlerDom.addEventListener(this._startKey,this["on".concat(this._startKey)]),an[this._startKey].map((function(t){e["on".concat(t)]=e["on".concat(t)].bind(e)}))}},{key:"_unbindStartEvent",value:function(){this._handlerDom.removeEventListener(this._startKey,this["on".concat(this._startKey)])}},{key:"_bindPostStartEvents",value:function(e){var t=this;if(e){var n=an[this._startKey];n.map((function(e){window.addEventListener(e,t["on".concat(e)])})),this._boundPointerEvents=n}}},{key:"_unbindPostStartEvents",value:function(){var e=this;this._boundPointerEvents&&(this._boundPointerEvents.map((function(t){window.removeEventListener(t,e["on".concat(t)])})),delete this._boundPointerEvents)}},{key:"enable",value:function(){this.isEnabled=!0}},{key:"disable",value:function(){this.isEnabled=!1,this.isDragging&&this.onUp()}},{key:"onDocUp",value:function(e){this.onUp()}},{key:"animate",value:function(){var e=this;this.isDragging&&(this.positionDrag(),window.requestAnimationFrame((function(){e.animate()})))}},{key:"positionDrag",value:function(){var e="translate3d(".concat(this.dragPoint.x,"px, ").concat(this.dragPoint.y,"px, 0)");this._root.style.transform=e,this._root.style.webKitTransform=e}},{key:"setLeftTop",value:function(){this._root.style.left=this.position.x+"px",this._root.style.top=this.position.y+"px"}},{key:"onmousedown",value:function(e){this.dragStart(e,e)}},{key:"onmousemove",value:function(e){this.dragMove(e,e)}},{key:"onmouseup",value:function(e){this.dragEnd(e,e)}},{key:"ontouchstart",value:function(e){var t=e.changedTouches[0];this.dragStart(e,t),this.touchIdentifier=void 0!==t.pointerId?t.pointerId:t.identifier,e.preventDefault()}},{key:"ontouchmove",value:function(e){var t=tn(e.changedTouches,this.touchIdentifier);t&&this.dragMove(e,t)}},{key:"ontouchend",value:function(e){var t=tn(e.changedTouches,this.touchIdentifier);t&&this.dragEnd(e,t),e.preventDefault()}},{key:"ontouchcancel",value:function(e){var t=tn(e.changedTouches,this.touchIdentifier);t&&this.dragCancel(e,t)}},{key:"dragStart",value:function(e,t){if(this._root&&!this.isDown&&this.isEnabled){this.downPoint=t,this.dragPoint.x=0,this.dragPoint.y=0,this._getPosition();var n=en(this._root);this.startPos.x=this.position.x,this.startPos.y=this.position.y,this.startPos.maxY=window.innerHeight-n.height,this.startPos.maxX=window.innerWidth-n.width,this.setLeftTop(),this.isDown=!0,this._bindPostStartEvents(e)}}},{key:"dragRealStart",value:function(e,t){this.isDragging=!0,this.animate(),this.emit(nn,this.startPos)}},{key:"dragEnd",value:function(e,t){this._root&&(this._unbindPostStartEvents(),this.isDragging&&(this._root.style.transform="",this.setLeftTop(),this.emit(on)),this.presetInfo())}},{key:"_dragPointerMove",value:function(e,t){var n={x:t.pageX-this.downPoint.pageX,y:t.pageY-this.downPoint.pageY};return!this.isDragging&&this.hasDragStarted(n)&&this.dragRealStart(e,t),n}},{key:"dragMove",value:function(e,t){if(e=e||window.event,this.isDown){var n=this.startPos,i=n.x,r=n.y,o=this._dragPointerMove(e,t),a=o.x,s=o.y;a=this.checkContain("x",a,i),s=this.checkContain("y",s,r),this.position.x=i+a,this.position.y=r+s,this.dragPoint.x=a,this.dragPoint.y=s,this.emit(rn,this.position)}}},{key:"dragCancel",value:function(e,t){this.dragEnd(e,t)}},{key:"presetInfo",value:function(){this.isDragging=!1,this.startPos={x:0,y:0},this.dragPoint={x:0,y:0},this.isDown=!1}},{key:"destroy",value:function(){this._unbindStartEvent(),this._unbindPostStartEvents(),this.isDragging&&this.dragEnd(),this.removeAllListeners(),this._handlerDom=null}},{key:"hasDragStarted",value:function(e){return Math.abs(e.x)>3||Math.abs(e.y)>3}},{key:"checkContain",value:function(e,t,n){return t+n<0?0-n:"x"===e&&t+n>this.startPos.maxX?this.startPos.maxX-n:"y"===e&&t+n>this.startPos.maxY?this.startPos.maxY-n:t}},{key:"_getPosition",value:function(){var e=window.getComputedStyle(this._root),t=this._getPositionCoord(e.left,"width"),n=this._getPositionCoord(e.top,"height");this.position.x=Number.isNaN(t)?0:t,this.position.y=Number.isNaN(n)?0:n,this._addTransformPosition(e)}},{key:"_addTransformPosition",value:function(e){var t=e.transform;if(0===t.indexOf("matrix")){var n=t.split(","),i=0===t.indexOf("matrix3d")?12:4,r=parseInt(n[i],10),o=parseInt(n[i+1],10);this.position.x+=r,this.position.y+=o}}},{key:"_getPositionCoord",value:function(e,t){if(-1!==e.indexOf("%")){var n=en(this._root.parentNode);return n?parseFloat(e)/100*n[t]:0}return parseInt(e,10)}}]),n}(b),ln=function(e){l(n,e);var t=p(n);function n(e){var i;r(this,n),s(h(i=t.call(this,e)),"onCancelClick",(function(e){i.exitMini(),i.isClose=!0})),s(h(i),"onCenterClick",(function(e){var t=h(i).player;t.paused?t.play():t.pause()})),s(h(i),"onScroll",(function(e){if(!(!window.scrollY&&0!==window.scrollY||Math.abs(window.scrollY-i.pos.scrollY)<50)){var t=parseInt(S.getCss(i.player.root,"height"));t+=i.config.scrollTop,i.pos.scrollY=window.scrollY,window.scrollY>t+5?!i.isMini&&!i.isClose&&i.getMini():window.scrollY<=t&&(i.isMini&&i.exitMini(),i.isClose=!1)}})),i.isMini=!1,i.isClose=!1;var o=h(i).config;return i.pos={left:o.left<0?window.innerWidth-o.width-20:o.left,top:o.top<0?window.innerHeight-o.height-20:o.top,height:i.config.height,width:i.config.width,scrollY:window.scrollY||0},i.lastStyle=null,i}return a(n,[{key:"beforeCreate",value:function(e){"boolean"==typeof e.player.config.mini&&(e.config.isShowIcon=e.player.config.mini)}},{key:"afterCreate",value:function(){var e=this;this.initIcons(),this.on(B,(function(){e.setAttr("data-state","pause")})),this.on(j,(function(){e.setAttr("data-state","play")}))}},{key:"onPluginsReady",value:function(){var e=this,t=this.player;if(!this.config.disable){if(this.config.isShowIcon){var n={config:{onClick:function(){e.getMini()}}};t.controls.registerPlugin(qt,n,qt.pluginName)}var i=S.checkTouchSupport()?"touchend":"click";this.bind(".mini-cancel-btn",i,this.onCancelClick),this.bind(".play-icon",i,this.onCenterClick),this.config.disableDrag||(this._draggabilly=new sn(this.player.root,{handle:this.root})),this.config.isScrollSwitch&&window.addEventListener("scroll",this.onScroll)}}},{key:"registerIcons",value:function(){return{play:{icon:Vt,class:"xg-icon-play"},pause:{icon:Gt,class:"xg-icon-pause"}}}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild(".play-icon",e.play),this.appendChild(".play-icon",e.pause)}},{key:"getMini",value:function(){var e=this;if(!this.isMini){var t=this.player,n=this.playerConfig,i=this.config.target||this.player.root;this.lastStyle={},S.addClass(t.root,"xgplayer-mini"),["width","height","top","left"].map((function(t){e.lastStyle[t]=i.style[t],i.style[t]="".concat(e.pos[t],"px")})),n.fluid&&(i.style["padding-top"]=""),this.emit(de,!0),t.isMini=this.isMini=!0}}},{key:"exitMini",value:function(){var e=this;if(!this.isMini)return!1;var t=this.player,n=this.playerConfig,i=this.config.target||this.player.root;S.removeClass(t.root,"xgplayer-mini"),this.lastStyle&&Object.keys(this.lastStyle).map((function(t){i.style[t]=e.lastStyle[t]})),this.lastStyle=null,n.fluid&&(t.root.style.width="100%",t.root.style.height="0",t.root.style["padding-top"]="".concat(100*n.height/n.width,"%")),this.emit(de,!1),this.isMini=t.isMini=!1}},{key:"destroy",value:function(){window.removeEventListener("scroll",this.onScroll);var e=S.checkTouchSupport()?"touchend":"click";this.unbind(".mini-cancel-btn",e,this.onCancelClick),this.unbind(".play-icon",e,this.onCenterClick),this._draggabilly&&this._draggabilly.destroy(),this._draggabilly=null,this.exitMini()}},{key:"render",value:function(){if(!this.config.disable)return'\n      <xg-mini-layer class="xg-mini-layer">\n      <xg-mini-header class="xgplayer-mini-header">\n      '.concat(Xt(this,"MINI_DRAG",this.playerConfig.isHideTips),'\n      </xg-mini-header>\n      <div class="mini-cancel-btn">\n        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20">\n          <path fill="#fff" fill-rule="evenodd" d="M3.99 3.49a1 1 0 0 1 1.414 0L10 8.085l4.596-4.595a1 1 0 1 1 1.414 1.414L11.414 9.5l4.596 4.596a1 1 0 0 1 .084 1.32l-.084.094a1 1 0 0 1-1.414 0L10 10.914 5.404 15.51a1 1 0 0 1-1.414-1.414L8.585 9.5 3.99 4.904a1 1 0 0 1-.084-1.32z"></path>\n        </svg>\n      </div>\n      <div class="play-icon">\n      </div>\n      </xg-mini-layer>')}}],[{key:"pluginName",get:function(){return"miniscreen"}},{key:"defaultConfig",get:function(){return{index:10,disable:!1,width:320,height:180,left:-1,top:-1,isShowIcon:!1,isScrollSwitch:!1,scrollTop:0,disableDrag:!1}}}]),n}(st),un={mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mousemove:"onMouseMove"},cn=["videoClick","videoDbClick"],hn=function(e){l(n,e);var t=p(n);function n(){var e;r(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return s(h(e=t.call.apply(t,[this].concat(o))),"onMouseMove",(function(t){var n=h(e),i=n.player,r=n.playerConfig;i.isActive||(i.focus({autoHide:!r.closeDelayBlur}),!r.closeFocusVideoFocus&&i.media.focus())})),s(h(e),"onMouseEnter",(function(t){var n=h(e),i=n.playerConfig,r=n.player;!i.closeFocusVideoFocus&&r.media.focus(),i.closeDelayBlur?r.focus({autoHide:!1}):r.focus()})),s(h(e),"onMouseLeave",(function(t){var n=e.playerConfig,i=n.closePlayerBlur,r=n.leavePlayerTime,o=n.closeDelayBlur;i||o||(r?e.player.focus({autoHide:!0,delay:r}):e.player.blur())})),s(h(e),"onVideoClick",(function(t){var n=h(e),i=n.player,r=n.playerConfig;t.target&&r.closeVideoClick||t.target!==i.root&&t.target!==i.media&&t.target!==i.innerContainer&&t.target!==i.media.__canvas||(t.preventDefault(),r.closeVideoStopPropagation||t.stopPropagation(),e._clickCount++,e.clickTimer&&(clearTimeout(e.clickTimer),e.clickTimer=null),e.clickTimer=setTimeout((function(){e._clickCount&&(e._clickCount--,$e(h(e),cn[0],(function(t,n){e.switchPlayPause(n.e)}),{e:t,paused:i.paused}),clearTimeout(e.clickTimer),e.clickTimer=null)}),300))})),s(h(e),"onVideoDblClick",(function(t){var n=h(e),i=n.player,r=n.playerConfig;r.closeVideoDblclick||!t.target||t.target!==i.media&&t.target!==i.media.__canvas||(!r.closeVideoClick&&e._clickCount<2?e._clickCount=0:(e._clickCount=0,e.clickTimer&&(clearTimeout(e.clickTimer),e.clickTimer=null),t.preventDefault(),t.stopPropagation(),$e(h(e),cn[1],(function(t,n){e.emitUserAction(n.e,"switch_fullscreen",{props:"fullscreen",from:i.fullscreen,to:!i.fullscreen}),i.fullscreen?i.exitFullscreen():i.getFullscreen()}),{e:t,fullscreen:i.fullscreen})))})),e}return a(n,[{key:"afterCreate",value:function(){var e=this;this._clickCount=0,cn.map((function(t){e.__hooks[t]=null})),"mobile"===this.playerConfig.isMobileSimulateMode||"mobile"===R.device&&!R.os.isIpad||this.initEvents()}},{key:"initEvents",value:function(){var e=this,t=this.player,n=t.video,i=t.root,r=this.playerConfig.enableContextmenu;i&&i.addEventListener("click",this.onVideoClick,!1),i&&i.addEventListener("dblclick",this.onVideoDblClick,!1),Object.keys(un).map((function(t){i.addEventListener(t,e[un[t]],!1)})),r&&n&&n.addEventListener("contextmenu",this.onContextmenu,!1)}},{key:"switchPlayPause",value:function(e){var t=this.player;this.emitUserAction(e,"switch_play_pause",{props:"paused",from:t.paused,to:!t.paused}),t.ended?t.duration!==1/0&&t.duration>0&&t.replay():t.paused?t.play():t.pause()}},{key:"onContextmenu",value:function(e){(e=e||window.event).preventDefault&&e.preventDefault(),e.stopPropagation?e.stopPropagation():(e.returnValue=!1,e.cancelBubble=!0)}},{key:"destroy",value:function(){var e=this,t=this.player,n=t.video,i=t.root;this.clickTimer&&clearTimeout(this.clickTimer),i.removeEventListener("click",this.onVideoClick,!1),i.removeEventListener("dblclick",this.onVideoDblClick,!1),n.removeEventListener("contextmenu",this.onContextmenu,!1),Object.keys(un).map((function(t){i.removeEventListener(t,e[un[t]],!1)}))}}],[{key:"pluginName",get:function(){return"pc"}},{key:"defaultConfig",get:function(){return{}}}]),n}(qe),fn="press",pn="pressend",dn="doubleclick",gn="click",yn="touchmove",vn="touchstart",mn="touchend",xn={start:"touchstart",end:"touchend",move:"touchmove",cancel:"touchcancel"},bn={start:"mousedown",end:"mouseup",move:"mousemove",cancel:"mouseleave"};function kn(e){return e&&e.length>0?e[e.length-1]:null}var wn=function(){function e(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{eventType:"touch"};r(this,e),s(this,"onTouchStart",(function(e){var t=n._pos,i=n.root,r=kn(e.touches);t.x=r?parseInt(r.pageX,10):e.pageX,t.y=r?parseInt(r.pageX,10):e.pageX,t.start=!0,n.__setPress(e),i.addEventListener(n.events.end,n.onTouchEnd),i.addEventListener(n.events.cancel,n.onTouchCancel),i.addEventListener(n.events.move,n.onTouchMove),n.trigger(vn,e)})),s(this,"onTouchCancel",(function(e){n.onTouchEnd(e)})),s(this,"onTouchEnd",(function(e){var t=n._pos,i=n.root;n.__clearPress(),i.removeEventListener(n.events.cancel,n.onTouchCancel),i.removeEventListener(n.events.end,n.onTouchEnd),i.removeEventListener(n.events.move,n.onTouchMove),e.moving=t.moving,e.press=t.press,t.press&&n.trigger(pn,e),n.trigger(mn,e),!t.press&&!t.moving&&n.__setDb(e),t.press=!1,t.start=!1,t.moving=!1})),s(this,"onTouchMove",(function(e){var t=n._pos,i=n.config,r=kn(e.touches),o=r?parseInt(r.pageX,10):e.pageX,a=r?parseInt(r.pageY,10):e.pageX,s=o-t.x,l=a-t.y;Math.abs(l)<i.miniStep&&Math.abs(s)<i.miniStep||(n.__clearPress(),t.press&&n.trigger(pn,e),t.press=!1,t.moving=!0,n.trigger(yn,e))})),this._pos={moving:!1,start:!1,x:0,y:0},this.config={pressDelay:600,dbClickDelay:200,disablePress:!1,disableDbClick:!1,miniStep:2,needPreventDefault:!0},Object.keys(i).map((function(e){n.config[e]=i[e]})),this.root=t,this.events="mouse"===i.eventType?bn:xn,this.pressIntrvalId=null,this.dbIntrvalId=null,this.__handlers={},this._initEvent()}return a(e,[{key:"_initEvent",value:function(){this.root.addEventListener(this.events.start,this.onTouchStart)}},{key:"__setPress",value:function(e){var t=this,n=this.config;this.pressIntrvalId&&this.__clearPress(),this.pressIntrvalId=setTimeout((function(){t.trigger(fn,e),t._pos.press=!0,t.__clearPress()}),n.pressDelay)}},{key:"__clearPress",value:function(){window.clearTimeout(this.pressIntrvalId),this.pressIntrvalId=null}},{key:"__setDb",value:function(e){var t=this,n=this.config;if(this.dbIntrvalId)return this.__clearDb(),void this.trigger(dn,e);this.dbIntrvalId=setTimeout((function(){t.__clearDb(),t._pos.start||t._pos.press||t._pos.moving||t.trigger(gn,e)}),n.dbClickDelay)}},{key:"__clearDb",value:function(){clearTimeout(this.dbIntrvalId),this.dbIntrvalId=null}},{key:"on",value:function(e,t){this.__handlers[e]||(this.__handlers[e]=[]),this.__handlers[e].push(t)}},{key:"off",value:function(e,t){if(this.__handlers[e]){for(var n=this.__handlers[e],i=-1,r=0;r<n.length;r++)if(n[r]===t){i=r;break}i>=0&&this.__handlers[e].splice(i,1)}}},{key:"trigger",value:function(e,t){this.__handlers[e]&&this.__handlers[e].map((function(n){try{n(t)}catch(r){console.error("trigger>>:".concat(e),r)}}))}},{key:"destroy",value:function(){var e=this,t={touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"};Object.keys(t).forEach((function(n){e.root.removeEventListener(n,e[t[n]])}))}}]),e}();function Cn(){return(new DOMParser).parseFromString('<svg width="20" height="9" viewBox="0 0 8 9" fill="none" xmlns="http://www.w3.org/2000/svg"\n  xmlns:xlink="http://www.w3.org/1999/xlink">\n  <path opacity="0.54"\n    d="M7.5 3.63397C8.16667 4.01887 8.16667 4.98113 7.5 5.36603L1.5 8.83013C0.833334 9.21503 0 8.7339 0 7.9641L0 1.0359C0 0.266098 0.833333 -0.215027 1.5 0.169873L7.5 3.63397Z"\n    fill="white" />\n  <path transform="translate(5 0)" d="M7.5 3.63397C8.16667 4.01887 8.16667 4.98113 7.5 5.36603L1.5 8.83013C0.833334 9.21503 0 8.7339 0 7.9641L0 1.0359C0 0.266098 0.833333 -0.215027 1.5 0.169873L7.5 3.63397Z" fill="white"/>\n</svg>',"image/svg+xml").firstChild}var _n="auto",Tn="seeking",Sn="playbackrate",En=["videoClick","videoDbClick"],Pn=function(e){l(n,e);var t=p(n);function n(e){var i;return r(this,n),s(h(i=t.call(this,e)),"onTouchStart",(function(e){var t=h(i),n=t.player,r=t.config,o=t.pos,a=t.playerConfig,s=i.getTouche(e);if(s&&!r.disableGesture&&i.duration>0&&!n.ended){o.isStart=!0,S.checkIsFunction(a.disableSwipeHandler)&&a.disableSwipeHandler(),i.find(".xg-dur").innerHTML=S.format(i.duration);var l=i.root.getBoundingClientRect();90===n.rotateDeg?(o.top=l.left,o.left=l.top,o.width=l.height,o.height=l.width):(o.top=l.top,o.left=l.left,o.width=l.width,o.height=l.height);var u=parseInt(s.pageX-o.left,10),c=parseInt(s.pageY-o.top,10);o.x=90===n.rotateDeg?c:u,o.y=90===n.rotateDeg?u:c,o.scopeL=r.scopeL*o.width,o.scopeR=(1-r.scopeR)*o.width,o.scopeM1=o.width*(1-r.scopeM)/2,o.scopeM2=o.width-o.scopeM1}})),s(h(i),"onTouchMove",(function(e){var t=i.getTouche(e),n=h(i),r=n.pos,o=n.config,a=n.player;if(t&&!o.disableGesture&&i.duration&&r.isStart){var s=o.miniMoveStep,l=o.hideControlsActive,u=parseInt(t.pageX-r.left,10),c=parseInt(t.pageY-r.top,10),f=90===a.rotateDeg?c:u,p=90===a.rotateDeg?u:c;if(Math.abs(f-r.x)>s||Math.abs(p-r.y)>s){var d=f-r.x,g=p-r.y,y=r.scope;if(-1===y&&(0===(y=i.checkScope(f,p,d,g,r))&&(l?a.blur():a.focus({autoHide:!1}),!r.time&&(r.time=parseInt(1e3*a.currentTime,10)+1e3*i.timeOffset)),r.scope=y),-1===y||y>0&&!o.gestureY||0===y&&!o.gestureX)return;e.cancelable&&e.preventDefault(),i.executeMove(d,g,y,r.width,r.height),r.x=f,r.y=p}}})),s(h(i),"onTouchEnd",(function(e){var t=h(i),n=t.player,r=t.pos,o=t.playerConfig;if(r.isStart){r.scope>-1&&e.cancelable&&e.preventDefault();var a=i.config,s=a.disableGesture,l=a.gestureX;!s&&l?(i.endLastMove(r.scope),setTimeout((function(){n.getPlugin("progress")&&n.getPlugin("progress").resetSeekState()}),10)):r.time=0,r.scope=-1,i.resetPos(),S.checkIsFunction(o.enableSwipeHandler)&&o.enableSwipeHandler(),i.changeAction(_n)}})),s(h(i),"onRootTouchMove",(function(e){!i.config.disableGesture&&i.config.gestureX&&i.checkIsRootTarget(e)&&(e.stopPropagation(),i.pos.isStart?i.onTouchMove(e):i.onTouchStart(e))})),s(h(i),"onRootTouchEnd",(function(e){i.pos.isStart&&i.checkIsRootTarget(e)&&(e.stopPropagation(),i.onTouchEnd(e))})),i.pos={isStart:!1,x:0,y:0,time:0,volume:0,rate:1,light:0,width:0,height:0,scopeL:0,scopeR:0,scopeM1:0,scopeM2:0,scope:-1},i.timer=null,i}return a(n,[{key:"duration",get:function(){return this.playerConfig.customDuration||this.player.duration}},{key:"timeOffset",get:function(){return this.playerConfig.timeOffset||0}},{key:"registerIcons",value:function(){return{seekTipIcon:{icon:Cn,class:"xg-seek-pre"}}}},{key:"afterCreate",value:function(){var e=this;En.map((function(t){e.__hooks[t]=null}));var t=this.playerConfig,n=this.config,i=this.player;!0===t.closeVideoDblclick&&(n.closedbClick=!0),this.resetPos(),S.isUndefined(t.disableGesture)||(n.disableGesture=!!t.disableGesture),this.appendChild(".xg-seek-icon",this.icons.seekTipIcon),this.xgMask=S.createDom("xg-mask","",{},"xgmask"),i.root.appendChild(this.xgMask),this.initCustomStyle(),this.registerThumbnail();var r="mouse"===this.domEventType?"mouse":"touch";this.touch=new wn(this.root,{eventType:r,needPreventDefault:!this.config.disableGesture}),this.root.addEventListener("contextmenu",(function(e){e.preventDefault()})),i.root.addEventListener("touchmove",this.onRootTouchMove,!0),i.root.addEventListener("touchend",this.onRootTouchEnd,!0),this.on($,(function(){var t=e.player,n=e.config;1e3*t.duration<n.moveDuration&&(n.moveDuration=1e3*t.duration)})),this.on([K,U],(function(){var t=e.pos,n=t.time;!t.isStart&&n>0&&(e.pos.time=0)}));var o={touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd",press:"onPress",pressend:"onPressEnd",click:"onClick",doubleclick:"onDbClick"};if(Object.keys(o).map((function(t){e.touch.on(t,(function(n){e[o[t]](n)}))})),!n.disableActive){var a=i.plugins.progress;a&&(a.addCallBack("dragmove",(function(t){e.activeSeekNote(t.currentTime,t.forward)})),a.addCallBack("dragend",(function(){e.changeAction(_n)})))}}},{key:"registerThumbnail",value:function(){var e=this.player.plugins.thumbnail;if(e&&e.usable){this.thumbnail=e.createThumbnail(null,"mobile-thumbnail");var t=this.find(".time-preview");t.insertBefore(this.thumbnail,t.children[0])}}},{key:"initCustomStyle",value:function(){var e=(this.playerConfig||{}).commonStyle,t=e.playedColor,n=e.progressColor;t&&(this.find(".xg-curbar").style.backgroundColor=t,this.find(".xg-cur").style.color=t),n&&(this.find(".xg-bar").style.backgroundColor=n,this.find(".time-preview").style.color=n),this.config.disableTimeProgress&&S.addClass(this.find(".xg-timebar"),"hide")}},{key:"resetPos",value:function(){var e=this;this.pos?(this.pos.isStart=!1,this.pos.scope=-1,["x","y","width","height","scopeL","scopeR","scopeM1","scopeM2"].map((function(t){e.pos[t]=0}))):this.pos={isStart:!1,x:0,y:0,volume:0,rate:1,light:0,width:0,height:0,scopeL:0,scopeR:0,scopeM1:0,scopeM2:0,scope:-1,time:0}}},{key:"changeAction",value:function(e){var t=this.player;this.root.setAttribute("data-xg-action",e);var n=t.plugins.start;n&&n.recover()}},{key:"getTouche",value:function(e){this.player.rotateDeg;var t=e.touches&&e.touches.length>0?e.touches[e.touches.length-1]:e;return{pageX:t.pageX,pageY:t.pageY}}},{key:"checkScope",value:function(e,t,n,i,r){var o=r.width,a=-1;if(e<0||e>o)return a;var s=0===i?Math.abs(n):Math.abs(n/i);return Math.abs(n)>0&&s>=1.73&&e>r.scopeM1&&e<r.scopeM2?a=0:(0===Math.abs(n)||s<=.57)&&(a=e<r.scopeL?1:e>r.scopeR?2:3),a}},{key:"executeMove",value:function(e,t,n,i,r){switch(n){case 0:this.updateTime(e/i*this.config.scopeM);break;case 1:this.updateBrightness(t/r);break;case 2:R.os.isIos||this.updateVolume(t/r)}}},{key:"endLastMove",value:function(e){var t=this,n=this.pos,i=this.player,r=this.config,o=(n.time-this.timeOffset)/1e3;0===e&&(i.seek(Number(o).toFixed(1)),r.hideControlsEnd?i.blur():i.focus(),this.timer=setTimeout((function(){t.pos.time=0}),500)),this.changeAction(_n)}},{key:"checkIsRootTarget",value:function(e){var t=this.player.plugins||{};return(!t.progress||!t.progress.root.contains(e.target))&&(t.start&&t.start.root.contains(e.target)||t.controls&&t.controls.root.contains(e.target))}},{key:"sendUseAction",value:function(e){var t=this.player.paused;this.emitUserAction(e,"switch_play_pause",{prop:"paused",from:t,to:!t})}},{key:"clickHandler",value:function(e){var t=this.player,n=this.config,i=this.playerConfig;t.state<mt?i.closeVideoClick||(this.sendUseAction(S.createEvent("click")),t.play()):!n.closedbClick||i.closeVideoClick?t.isActive?t.blur():t.focus():i.closeVideoClick||((t.isActive||n.focusVideoClick)&&(this.sendUseAction(S.createEvent("click")),this.switchPlayPause()),t.focus())}},{key:"dbClickHandler",value:function(e){var t=this.config,n=this.player;!t.closedbClick&&n.state>=mt&&(this.sendUseAction(S.createEvent("dblclick")),this.switchPlayPause())}},{key:"onClick",value:function(e){var t=this,n=this.player;$e(this,En[0],(function(e,n){t.clickHandler(n.e)}),{e:e,paused:n.paused})}},{key:"onDbClick",value:function(e){var t=this,n=this.player;$e(this,En[1],(function(e,n){t.dbClickHandler(n.e)}),{e:e,paused:n.paused})}},{key:"onPress",value:function(e){var t=this.pos,n=this.config,i=this.player;n.disablePress||(t.rate=this.player.playbackRate,this.emitUserAction("press","change_rate",{prop:"playbackRate",from:i.playbackRate,to:n.pressRate}),i.playbackRate=n.pressRate,this.changeAction(Sn))}},{key:"onPressEnd",value:function(e){var t=this.pos,n=this.config,i=this.player;n.disablePress||(this.emitUserAction("pressend","change_rate",{prop:"playbackRate",from:i.playbackRate,to:t.rate}),i.playbackRate=t.rate,t.rate=1,this.changeAction(_n))}},{key:"updateTime",value:function(e){var t=this.player,n=this.config,i=this.player.duration;e=Number(e.toFixed(4));var r=parseInt(e*n.moveDuration,10)+this.timeOffset;r=(r+=this.pos.time)<0?0:r>1e3*i?1e3*i-200:r,t.getPlugin("time")&&t.getPlugin("time").updateTime(r/1e3),t.getPlugin("progress")&&t.getPlugin("progress").updatePercent(r/1e3/this.duration,!0),this.activeSeekNote(r/1e3,e>0),n.isTouchingSeek&&t.seek(Number((r-this.timeOffset)/1e3).toFixed(1)),this.pos.time=r}},{key:"updateVolume",value:function(e){this.player.rotateDeg&&(e=-e);var t=this.player,n=this.pos;if(e=parseInt(100*e,10),n.volume+=e,!(Math.abs(n.volume)<10)){var i=parseInt(10*t.volume,10)-parseInt(n.volume/10,10);i=i>10?10:i<1?0:i,t.volume=i/10,n.volume=0}}},{key:"updateBrightness",value:function(e){this.player.rotateDeg&&(e=-e);var t=this.pos,n=this.config,i=this.xgMask,r=t.light+.8*e;r=r>n.maxDarkness?n.maxDarkness:r<0?0:r,i&&(i.style.backgroundColor="rgba(0,0,0,".concat(r,")")),t.light=r}},{key:"activeSeekNote",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.player,i=this.config,r=!(this.duration!==1/0&&this.duration>0);if(e&&"number"==typeof e&&!r&&!i.disableActive){e<0?e=0:e>n.duration&&(e=n.duration-.2),this.changeAction(Tn);var o=n.plugins.start;o&&o.focusHide(),this.find(".xg-dur").innerHTML=S.format(this.duration),this.find(".xg-cur").innerHTML=S.format(e),this.find(".xg-curbar").style.width="".concat(e/this.duration*100,"%"),t?S.removeClass(this.find(".xg-seek-show"),"xg-back"):S.addClass(this.find(".xg-seek-show"),"xg-back"),this.updateThumbnails(e)}}},{key:"updateThumbnails",value:function(e){var t=this.player.plugins.thumbnail;t&&t.usable&&this.thumbnail&&t.update(this.thumbnail,e,160,90)}},{key:"switchPlayPause",value:function(){var e=this.player;if(e.state<yt)return!1;e.ended||(e.paused?e.play():e.pause())}},{key:"disableGesture",value:function(){this.config.disableGesture=!1}},{key:"enableGesture",value:function(){this.config.disableGesture=!0}},{key:"destroy",value:function(){var e=this.player;this.timer&&clearTimeout(this.timer),this.thumbnail=null,e.root.removeChild(this.xgMask),this.xgMask=null,this.touch&&this.touch.destroy(),this.touch=null,e.root.removeEventListener("touchmove",this.onRootTouchMove,!0),e.root.removeEventListener("touchend",this.onRootTouchEnd,!0)}},{key:"render",value:function(){var e="normal"!==this.config.gradient?"gradient ".concat(this.config.gradient):"gradient";return'\n     <xg-trigger class="trigger">\n     <div class="'.concat(e,'"></div>\n        <div class="time-preview">\n            <div class="xg-seek-show ').concat(this.config.disableSeekIcon?" hide-seek-icon":"",'">\n              <i class="xg-seek-icon"></i>\n              <span class="xg-cur">00:00</span>\n              <span>/</span>\n              <span class="xg-dur">00:00</span>\n            </div>\n              <div class="xg-bar xg-timebar">\n                <div class="xg-curbar"></div>\n              </div>\n        </div>\n        <div class="xg-playbackrate xg-top-note">\n            <span><i>').concat(this.config.pressRate,"X</i>").concat(this.i18n.FORWARD,"</span>\n        </div>\n     </xg-trigger>\n    ")}}],[{key:"pluginName",get:function(){return"mobile"}},{key:"defaultConfig",get:function(){return{index:0,disableGesture:!1,gestureX:!0,gestureY:!0,gradient:"normal",isTouchingSeek:!1,miniMoveStep:5,miniYPer:5,scopeL:.25,scopeR:.25,scopeM:.9,pressRate:2,darkness:!0,maxDarkness:.8,disableActive:!1,disableTimeProgress:!1,hideControlsActive:!1,hideControlsEnd:!1,moveDuration:36e4,closedbClick:!1,disablePress:!0,disableSeekIcon:!1,focusVideoClick:!1}}}]),n}(st);function An(e){var t=e.tagName;return!("INPUT"!==t&&"TEXTAREA"!==t&&!e.isContentEditable)}var Ln=function(e){l(i,e);var n=p(i);function i(){var e;r(this,i);for(var t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return s(h(e=n.call.apply(n,[this].concat(o))),"onBodyKeyDown",(function(t){if(e.player){var n=t||window.event,i=n.keyCode,r=h(e),o=r._keyState,a=r.player,s=e.config,l=s.disable,u=s.disableBodyTrigger,c=s.isIgnoreUserActive;l||u||!a.isUserActive&&!c||An(n.target)||!e.checkIsVisible()||n.metaKey||n.altKey||n.ctrlKey?o.isBodyKeyDown=!1:(t.repeat||o.isKeyDown||((n.target===document.body||e.config.isGlobalTrigger&&!An(n.target))&&e.checkCode(i,!0)&&(o.isBodyKeyDown=!0),document.addEventListener("keyup",e.onBodyKeyUp)),o.isBodyKeyDown&&e.handleKeyDown(n))}})),s(h(e),"onBodyKeyUp",(function(t){e.player&&(document.removeEventListener("keyup",e.onBodyKeyUp),e.handleKeyUp(t))})),s(h(e),"onKeydown",(function(t){if(e.player){var n=t||window.event,i=h(e)._keyState;if(!n.repeat){if(e.config.disable||e.config.disableRootTrigger||n.metaKey||n.altKey||n.ctrlKey)return;if(!e.player.isUserActive&&!e.config.isIgnoreUserActive)return;!n||37!==n.keyCode&&!e.checkCode(n.keyCode)||n.target!==e.player.root&&n.target!==e.player.video&&n.target!==e.player.controls.el||(i.isKeyDown=!0),e.player.root.addEventListener("keyup",e.onKeyup)}i.isKeyDown&&e.handleKeyDown(n)}})),s(h(e),"onKeyup",(function(t){e.player&&(e.player.root.removeEventListener("keyup",e.onKeyup),e.handleKeyUp(t))})),e}return a(i,[{key:"mergekeyCodeMap",value:function(){var e=this,t=this.config.keyCodeMap;t&&Object.keys(t).map((function(n){e.keyCodeMap[n]?["keyCode","action","disable","pressAction","disablePress","isBodyTarget"].map((function(i){t[n][i]&&(e.keyCodeMap[n][i]=t[n][i])})):e.keyCodeMap[n]=t[n]}))}},{key:"afterCreate",value:function(){this.config.disable=!this.playerConfig.keyShortcut;var e="function"==typeof this.config.seekStep?this.config.seekStep(this.player):this.config.seekStep;e&&"number"==typeof e&&(this.seekStep=e),this.keyCodeMap={space:{keyCode:32,action:"playPause",disable:!1,disablePress:!1,noBodyTarget:!1},up:{keyCode:38,action:"upVolume",disable:!1,disablePress:!1,noBodyTarget:!0},down:{keyCode:40,action:"downVolume",disable:!1,disablePress:!1,noBodyTarget:!0},left:{keyCode:37,action:"seekBack",disablePress:!1,disable:!1},right:{keyCode:39,action:"seek",pressAction:"changePlaybackRate",disablePress:!1,disable:!1},esc:{keyCode:27,action:"exitFullscreen",disablePress:!0,disable:!1}},this.mergekeyCodeMap(),this._keyState={isKeyDown:!1,isBodyKeyDown:!1,isPress:!1,tt:0,playbackRate:0},this.player.root.addEventListener("keydown",this.onKeydown),document.addEventListener("keydown",this.onBodyKeyDown)}},{key:"checkIsVisible",value:function(){if(!this.config.checkVisible)return!0;var e=this.player.root.getBoundingClientRect(),t=e.height,n=e.top,i=e.bottom,r=window.innerHeight;return!(n<0&&n<0-.9*t||i>0&&i-r>.9*t)}},{key:"checkCode",value:function(e,t){var n=this,i=!1;return Object.keys(this.keyCodeMap).map((function(r){n.keyCodeMap[r]&&e===n.keyCodeMap[r].keyCode&&!n.keyCodeMap[r].disable&&(i=!t||t&&!n.keyCodeMap[r].noBodyTarget)})),i}},{key:"downVolume",value:function(e){var t=this.player;if(!(t.volume<=0)){var n=parseFloat((t.volume-.1).toFixed(1)),i={volume:{from:t.volume,to:n}};this.emitUserAction(e,"change_volume",{props:i}),t.volume=n>=0?n:0}}},{key:"upVolume",value:function(e){var t=this.player;if(!(t.volume>=1)){var n=parseFloat((t.volume+.1).toFixed(1)),i={volume:{from:t.volume,to:n}};this.emitUserAction(e,"change_volume",{props:i}),t.volume=n<=1?n:1}}},{key:"seek",value:function(e){var t=this.player,n=t.currentTime,i=t.offsetCurrentTime,r=t.duration,o=t.offsetDuration,a=t.timeSegments,s=i>-1?i:n,l=o||r,u=e.repeat&&this.seekStep>=4?parseInt(this.seekStep/2,10):this.seekStep;s+u<=l?s+=u:s=l;var c=S.getCurrentTimeByOffset(s,a),h={currentTime:{from:n,to:c}};this.emitUserAction(e,"seek",{props:h}),this.player.currentTime=c}},{key:"seekBack",value:function(e){var t=this.player,n=t.currentTime,i=t.offsetCurrentTime,r=t.timeSegments,o=(i>-1?i:n)-(e.repeat?parseInt(this.seekStep/2,10):this.seekStep);o<0&&(o=0);var a={currentTime:{from:n,to:o=S.getCurrentTimeByOffset(o,r)}};this.emitUserAction(e,"seek",{props:a}),this.player.currentTime=o}},{key:"changePlaybackRate",value:function(e){var t=this._keyState,n=this.config,i=this.player;0===t.playbackRate&&(t.playbackRate=i.playbackRate,i.playbackRate=n.playbackRate)}},{key:"playPause",value:function(e){var t=this.player;t&&(this.emitUserAction(e,"switch_play_pause"),t.paused?t.play():t.pause())}},{key:"exitFullscreen",value:function(e){var t=this.player,n=t.fullscreen,i=t.cssfullscreen;n&&(this.emitUserAction("keyup","switch_fullscreen",{prop:"fullscreen",from:n,to:!n}),t.exitFullscreen()),i&&(this.emitUserAction("keyup","switch_css_fullscreen",{prop:"cssfullscreen",from:i,to:!i}),t.exitCssFullscreen())}},{key:"handleKeyDown",value:function(e){var t=this._keyState;if(e.repeat){t.isPress=!0;var n=Date.now();if(n-t.tt<200)return;t.tt=n}!function(e){e.preventDefault(),e.returnValue=!1}(e),this.handleKeyCode(e.keyCode,e,t.isPress)}},{key:"handleKeyUp",value:function(e){var t=this._keyState;t.playbackRate>0&&(this.player.playbackRate=t.playbackRate,t.playbackRate=0),t.isKeyDown=!1,t.isPress=!1,t.tt=0}},{key:"handleKeyCode",value:function(e,n,i){for(var r=Object.keys(this.keyCodeMap),o=0;o<r.length;o++){var a=this.keyCodeMap[r[o]],s=a.action,l=a.keyCode,u=a.disable,c=a.pressAction,h=a.disablePress;if(l===e){if(!(u||i&&h)){var f=i&&c||s;"function"==typeof f?s(n,this.player,i):"string"==typeof f&&"function"==typeof this[f]&&this[f](n,this.player,i),this.emit(we,t({key:r[o],target:n.target,isPress:i},this.keyCodeMap[r[o]]))}break}}}},{key:"destroy",value:function(){this.player.root.removeEventListener("keydown",this.onKeydown),document.removeEventListener("keydown",this.onBodyKeyDown),this.player.root.removeEventListener("keyup",this.onKeyup),document.removeEventListener("keyup",this.onBodyKeyUp)}},{key:"disable",value:function(){this.config.disable=!0}},{key:"enable",value:function(){this.config.disable=!1}}],[{key:"pluginName",get:function(){return"keyboard"}},{key:"defaultConfig",get:function(){return{seekStep:10,checkVisible:!1,disableBodyTrigger:!1,disableRootTrigger:!1,isGlobalTrigger:!1,keyCodeMap:{},disable:!1,playbackRate:2,isIgnoreUserActive:!1}}}]),i}(qe);function In(){return(new DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="-5 -5 110 110">\n  <path d="M100,50A50,50,0,1,1,50,0" stroke-width="5" stroke="#ddd" stroke-dasharray="236" fill="none"></path>\n</svg>\n',"image/svg+xml").firstChild}var On=function(e){l(n,e);var t=p(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"registerIcons",value:function(){return{loadingIcon:In}}},{key:"afterCreate",value:function(){this.appendChild("xg-loading-inner",this.icons.loadingIcon)}},{key:"render",value:function(){return'\n    <xg-loading class="xgplayer-loading">\n      <xg-loading-inner></xg-loading-inner>\n    </xg-loading>'}}],[{key:"pluginName",get:function(){return"loading"}},{key:"defaultConfig",get:function(){return{position:it.ROOT}}}]),n}(st),Rn=[{tag:"xg-cache",className:"xgplayer-progress-cache",styleKey:"cachedColor"},{tag:"xg-played",className:"xgplayer-progress-played",styleKey:"playedColor"}],Dn=function(){function e(t){r(this,e),this.fragments=t.fragments||[],0===this.fragments.length&&this.fragments.push({percent:1}),this._callBack=t.actionCallback,this.fragConfig={fragFocusClass:t.fragFocusClass||"inner-focus-point",fragAutoFocus:!!t.fragAutoFocus,fragClass:t.fragClass||""},this.style=t.style||{playedColor:"",cachedColor:"",progressColor:""},this.duration=0,this.cachedIndex=0,this.playedIndex=0,this.focusIndex=-1}return a(e,[{key:"updateDuration",value:function(e){var t=this;this.duration=e;var n=0,i=this.fragments;this.fragments=i.map((function(e){return e.start=parseInt(n,10),e.end=parseInt(n+e.percent*t.duration,10),e.duration=parseInt(e.percent*t.duration,10),n+=e.percent*t.duration,e}))}},{key:"updateProgress",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"played",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{newIndex:0,curIndex:0,millisecond:0},n=this.progressList,i=this.fragments;if(!(n.length<1)){var r=t.newIndex,o=t.curIndex,a=t.millisecond;r!==o&&n.map((function(t,n){n<r?t[e].style.width="100%":n>r&&(t[e].style.width=0)}));var s=i[r],l=0===a?0:(a-s.start)/s.duration;n[r][e].style.width=l<0?0:"".concat(100*l,"%")}}},{key:"updateFocus",value:function(e){if(this.fragConfig.fragAutoFocus&&!(this.fragments.length<2))if(e){var t=this.findIndex(1e3*e.currentTime,this.focusIndex);if(t>=0&&t!==this.focusIndex){this.focusIndex>-1&&this.unHightLight(this.focusIndex),this.setHightLight(t);var n={index:t,preIndex:this.focusIndex,fragment:this.fragments[this.focusIndex]};this.focusIndex=t,this._callBack&&this._callBack(n)}}else if(this.focusIndex>-1){this.unHightLight(this.focusIndex);var i={index:-1,preIndex:this.focusIndex,fragment:null};this._callBack&&this._callBack(i),this.focusIndex=-1}}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cached:0,played:0},t=arguments.length>1?arguments[1]:void 0;if(!this.duration||parseInt(1e3*t,10)!==this.duration){if(!t&&0!==t)return;this.updateDuration(parseInt(1e3*t,10))}var n=this.playedIndex,i=this.cachedIndex;if("Undefined"!==S.typeOf(e.played)){var r=this.findIndex(1e3*e.played,n);if(r<0)return;this.updateProgress("played",{newIndex:r,curIndex:n,millisecond:parseInt(1e3*e.played,10)}),this.playedIndex=r}if("Undefined"!==S.typeOf(e.cached)){var o=this.findIndex(1e3*e.cached,i);if(o<0)return;this.updateProgress("cached",{newIndex:o,curIndex:i,millisecond:parseInt(1e3*e.cached,10)}),this.cachedIndex=o}}},{key:"findIndex",value:function(e,t){var n=this.fragments;if(!n||0===n.length)return-1;if(1===n.length)return 0;if(t>-1&&t<n.length&&e>n[t].start&&e<n[t].end)return t;if(e>n[n.length-1].start)return n.length-1;for(var i=0;i<n.length;i++)if(e>n[i].start&&e<=n[i].end){t=i;break}return t}},{key:"findHightLight",value:function(){for(var e=this.root.children,t=0;t<e.length;t++)if(S.hasClass(e[t],this.fragConfig.fragFocusClass))return{dom:e[t],pos:e[t].getBoundingClientRect()}}},{key:"findFragment",value:function(e){var t=this.root.children;return e<0||e>=t.length?null:{dom:t[e],pos:t[e].getBoundingClientRect()}}},{key:"unHightLight",value:function(){for(var e=this.root.children,t=0;t<e.length;t++)S.removeClass(e[t],this.fragConfig.fragFocusClass)}},{key:"setHightLight",value:function(e){var t=this.root.children;if(e<t.length)return S.addClass(t[e],this.fragConfig.fragFocusClass),{dom:t[e],pos:t[e].getBoundingClientRect()}}},{key:"destroy",value:function(){this.progressList=null,this.fragments=null,this.root.innerHTML=""}},{key:"reset",value:function(e){var t=this;if(Object.keys(this.fragConfig).forEach((function(n){void 0!==e[n]&&(t.fragConfig[n]=e[n])})),e.fragments){if(this.fragments=0===e.fragments.length?[{percent:1}]:e.fragments,this.updateDuration(this.duration),this.playedIndex=0,this.cachedIndex=0,this.root)for(var n=this.root.children;n.length>0;)this.root.removeChild(n[0]);this.render()}}},{key:"render",value:function(){var e=this,t=this.style.progressColor;if(this.root||(this.root=S.createDom("xg-inners","",{},"progress-list")),this.fragments){var n=this.fragConfig,i=n.fragClass,r=n.fragFocusClass;this.progressList=this.fragments.map((function(n){var o=S.createDom("xg-inner","",{style:t?"background:".concat(t,"; flex: ").concat(n.percent):"flex: ".concat(n.percent)},"".concat(n.isFocus?r:""," xgplayer-progress-inner ").concat(i));return e.root.appendChild(o),Rn.forEach((function(t){o.appendChild(S.createDom(t.tag,"",{style:t.styleKey?"background: ".concat(e.style[t.styleKey],"; width:0;"):"width:0;"},t.className))})),{cached:o.children[0],played:o.children[1]}}))}return this.root}}]),e}(),Mn={POINT:"inner-focus-point",HIGHLIGHT:"inner-focus-highlight"},Nn=function(e){l(o,e);var i=p(o);function o(e){var t;return r(this,o),s(h(t=i.call(this,e)),"onMoveOnly",(function(e,n){var i=h(t),r=i.pos,o=i.config,a=i.player,s=n;if(e){S.event(e);var l=S.getEventPos(e,a.zoom),u=90===a.rotateDeg?l.clientY:l.clientX;if(r.moving&&Math.abs(r.x-u)<o.miniMoveStep)return;r.moving=!0,r.x=u,s=t.computeTime(e,u)}t.triggerCallbacks("dragmove",s,e),t._updateInnerFocus(s)})),s(h(t),"onBodyClick",(function(e){t.pos.isLocked&&(t.pos.isLocked=!1,e.preventDefault(),e.stopPropagation())})),s(h(t),"_mouseDownHandler",(function(e,n){t._state.time=n.currentTime,t.updateWidth(n.currentTime,n.seekTime,n.percent,0),t._updateInnerFocus(n)})),s(h(t),"_mouseUpHandler",(function(e,n){h(t).pos.moving&&t.updateWidth(n.currentTime,n.seekTime,n.percent,2)})),s(h(t),"_mouseMoveHandler",(function(e,n){var i=h(t),r=i._state,o=i.pos,a=i.config,s=i.player;r.time<n.currentTime?n.forward=!0:n.forward=!1,r.time=n.currentTime,o.isDown&&!o.moving&&(o.moving=!0,a.isPauseMoving&&s.pause(),t.triggerCallbacks("dragstart",n,e),t.emitUserAction("drag","dragstart",n)),t.updateWidth(n.currentTime,n.seekTime,n.percent,1),t.triggerCallbacks("dragmove",n,e),t._updateInnerFocus(n)})),s(h(t),"onMouseDown",(function(e){var n=h(t),i=n._state,r=n.player,o=n.pos,a=n.config,s=n.playerConfig,l=S.getEventPos(e,r.zoom),u=90===r.rotateDeg?l.clientY:l.clientX;if(!(r.isMini||a.closeMoveSeek||!s.allowSeekAfterEnded&&r.ended)){if(r.duration||r.isPlaying){e.stopPropagation(),t.focus(),S.checkIsFunction(s.disableSwipeHandler)&&s.disableSwipeHandler(),S.checkIsFunction(a.onMoveStart)&&a.onMoveStart(),S.event(e),o.x=u,o.isDown=!0,o.moving=!1,i.prePlayTime=r.currentTime,r.focus({autoHide:!1}),t.isProgressMoving=!0,S.addClass(t.progressBtn,"active");var c=t.computeTime(e,u);return c.prePlayTime=i.prePlayTime,t._mouseDownHandlerHook(e,c),"touchstart"===e.type?(t.root.addEventListener("touchmove",t.onMouseMove),t.root.addEventListener("touchend",t.onMouseUp)):(t.unbind("mousemove",t.onMoveOnly),document.addEventListener("mousemove",t.onMouseMove,!1),document.addEventListener("mouseup",t.onMouseUp,!1)),!0}r.play()}})),s(h(t),"onMouseUp",(function(e){var n=h(t),i=n.player,r=n.config,o=n.pos,a=n.playerConfig,s=n._state;e.stopPropagation(),e.preventDefault(),S.checkIsFunction(a.enableSwipeHandler)&&a.enableSwipeHandler(),S.checkIsFunction(r.onMoveEnd)&&r.onMoveEnd(),S.event(e),S.removeClass(t.progressBtn,"active");var l=t.computeTime(e,o.x);l.prePlayTime=s.prePlayTime,o.moving?(t.triggerCallbacks("dragend",l,e),t.emitUserAction("drag","dragend",l)):(t.triggerCallbacks("click",l,e),t.emitUserAction("click","click",l)),t._mouseUpHandlerHook(e,l),o.moving=!1,o.isDown=!1,o.x=0,o.y=0,o.isLocked=!0,s.prePlayTime=0,s.time=0,"touchend"===e.type?(t.root.removeEventListener("touchmove",t.onMouseMove),t.root.removeEventListener("touchend",t.onMouseUp),t.blur()):(document.removeEventListener("mousemove",t.onMouseMove,!1),document.removeEventListener("mouseup",t.onMouseUp,!1),o.isEnter?"mobile"!==a.isMobileSimulateMode&&t.bind("mousemove",t.onMoveOnly):t.onMouseLeave(e)),S.setTimeout(h(t),(function(){t.resetSeekState()}),10),i.focus()})),s(h(t),"onMouseMove",(function(e){var n=h(t),i=n._state,r=n.pos,o=n.player,a=n.config;S.checkTouchSupport()&&e.preventDefault(),S.event(e);var s=S.getEventPos(e,o.zoom),l=90===o.rotateDeg?s.clientY:s.clientX,u=Math.abs(r.x-l);if(!(r.moving&&u<a.miniMoveStep||!r.moving&&u<a.miniStartStep)){r.x=l;var c=t.computeTime(e,l);c.prePlayTime=i.prePlayTime,t._mouseMoveHandlerHook(e,c)}})),s(h(t),"onMouseOut",(function(e){t.triggerCallbacks("mouseout",null,e)})),s(h(t),"onMouseOver",(function(e){t.triggerCallbacks("mouseover",null,e)})),s(h(t),"onMouseEnter",(function(e){var n=h(t),i=n.player,r=n.pos;if(!(r.isDown||r.isEnter||i.isMini||!i.config.allowSeekAfterEnded&&i.ended)){r.isEnter=!0,t.bind("mousemove",t.onMoveOnly),t.bind("mouseleave",t.onMouseLeave),S.event(e);var o=S.getEventPos(e,i.zoom),a=90===i.rotateDeg?o.clientY:o.clientX,s=t.computeTime(e,a);t.triggerCallbacks("mouseenter",s,e),t.focus()}})),s(h(t),"onMouseLeave",(function(e){t.triggerCallbacks("mouseleave",null,e),t.unlock(),t._updateInnerFocus(null)})),s(h(t),"onVideoResize",(function(){var e=t.pos,n=e.x,i=e.isDown;if(e.isEnter&&!i){var r=t.computeTime(null,n);t.onMoveOnly(null,r)}})),t.useable=!1,t.isProgressMoving=!1,t.__dragCallBacks=[],t._state={now:-1,direc:0,time:0,prePlayTime:-1},t._disableBlur=!1,t}return a(o,[{key:"offsetDuration",get:function(){return this.playerConfig.customDuration||this.player.offsetDuration||this.player.duration}},{key:"duration",get:function(){return this.playerConfig.customDuration||this.player.duration}},{key:"timeOffset",get:function(){return this.playerConfig.timeOffset||0}},{key:"currentTime",get:function(){var e=this.player,t=e.offsetCurrentTime,n=e.currentTime;return t>=0?t:n+this.timeOffset}},{key:"changeState",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.useable=e}},{key:"show",value:function(){this.root&&(this.root.style.display="flex")}},{key:"_initInner",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n&&0!==n.length||(n=[{percent:1}]);var r=t(t({fragments:n},i),{},{actionCallback:function(t){e.emitUserAction("fragment_focus","fragment_focus",t)}});this.innerList?this.innerList.reset(r):(this.innerList=new Dn(r),this.outer.insertBefore(this.innerList.render(),this.outer.children[0]),["findHightLight","unHightLight","setHightLight","findFragment"].map((function(t){e[t]=e.innerList[t].bind(e.innerList)})))}},{key:"_updateInnerFocus",value:function(e){this.innerList&&this.innerList.updateFocus(e)}},{key:"afterCreate",value:function(){var e=this;if(!this.config.disable&&!this.playerConfig.isLive){this.pos={x:0,y:0,moving:!1,isDown:!1,isEnter:!1,isLocked:!1},this.outer=this.find("xg-outer");var t=this.config,n=t.fragFocusClass,i=t.fragAutoFocus,r=t.fragClass;this._initInner(this.config.fragments,{fragFocusClass:n,fragAutoFocus:i,fragClass:r,style:this.playerConfig.commonStyle||{}}),"mobile"===R.device&&(this.config.isDragingSeek=!1,this.isMobile=!0),this.progressBtn=this.find(".xgplayer-progress-btn"),this.on($,(function(){e.onMouseLeave()})),this.on(W,(function(){e.onTimeupdate()})),this.on(G,(function(){e.onTimeupdate(),e.onCacheUpdate()})),this.on(Z,(function(){e.onCacheUpdate()})),this.on(U,(function(){e.onCacheUpdate(!0),e.onTimeupdate(!0),e._state.now=0})),this.on(ee,(function(){e.onReset()})),this.on(ve,(function(){e.onVideoResize()})),this.bindDomEvents(),this.initCustomStyle()}}},{key:"setConfig",value:function(e){var t=this,n=null;Object.keys(e).forEach((function(i){t.config[i]=e[i],"fragments"===i&&(n=e[i])})),n&&this._initInner(n,e)}},{key:"initCustomStyle",value:function(){var e=(this.playerConfig||{}).commonStyle.sliderBtnStyle,t=this.progressBtn;e&&("string"==typeof e?t.style.boxShadow=e:"object"===n(e)&&Object.keys(e).map((function(n){t.style[n]=e[n]})))}},{key:"triggerCallbacks",value:function(e,t,n){this.__dragCallBacks.length>0&&this.__dragCallBacks.map((function(r){if(r&&r.handler&&r.type===e)try{r.handler(t,n)}catch(i){console.error("[XGPLAYER][triggerCallbacks] ".concat(r," error"),i)}}))}},{key:"addCallBack",value:function(e,t){t&&"function"==typeof t&&this.__dragCallBacks.push({type:e,handler:t})}},{key:"removeCallBack",value:function(e,t){var n=this.__dragCallBacks,i=-1;n.map((function(n,r){n&&n.type===e&&n.handler===t&&(i=r)})),i>-1&&n.splice(i,1)}},{key:"unlock",value:function(){var e=this.player,t=this.pos;t.isEnter=!1,e.isMini||(this.unbind("mousemove",this.onMoveOnly),t.isDown?this.unbind("mouseleave",this.onMouseLeave):this.blur())}},{key:"bindDomEvents",value:function(){var e=this.player,t=e.controls,n=e.config;this._mouseDownHandlerHook=this.hook("dragstart",this._mouseDownHandler),this._mouseUpHandlerHook=this.hook("dragend",this._mouseUpHandler),this._mouseMoveHandlerHook=this.hook("drag",this._mouseMoveHandler),"touch"!==this.domEventType&&"compatible"!==this.domEventType||(this.root.addEventListener("touchstart",this.onMouseDown),t&&(t.root&&t.root.addEventListener("touchmove",S.stopPropagation),t.center&&t.center.addEventListener("touchend",S.stopPropagation))),"mouse"!==this.domEventType&&"compatible"!==this.domEventType||(this.bind("mousedown",this.onMouseDown),"mobile"!==n.isMobileSimulateMode&&this.bind("mouseenter",this.onMouseEnter),this.bind("mouseover",this.onMouseOver),this.bind("mouseout",this.onMouseOut),this.player.root.addEventListener("click",this.onBodyClick,!0))}},{key:"focus",value:function(){this.player.controls.pauseAutoHide(),S.addClass(this.root,"active")}},{key:"blur",value:function(){this._disableBlur||(this.player.controls.recoverAutoHide(),S.removeClass(this.root,"active"))}},{key:"disableBlur",value:function(){this._disableBlur=!0}},{key:"enableBlur",value:function(){this._disableBlur=!1}},{key:"updateWidth",value:function(e,t,n,i){var r=this.config,o=this.player;if(!r.isCloseClickSeek||0!==i){var a=t=t>=o.duration?o.duration-r.endedDiff:Number(t).toFixed(1);this.updatePercent(n),this.updateTime(e),(1!==i||r.isDragingSeek&&"audio"!==o.config.mediaType)&&(this._state.now=a,this._state.direc=a>o.currentTime?0:1,o.seek(a))}}},{key:"computeTime",value:function(e,t){var n,i,r=this.player,o=this.root.getBoundingClientRect(),a=o.width,s=o.height,l=o.top,u=o.left,c=t;90===r.rotateDeg?(n=s,i=l):(n=a,i=u);var h=c-i,f=(h=h>n?n:h<0?0:h)/n;f=f<0?0:f>1?1:f;var p=parseInt(f*this.offsetDuration*1e3,10)/1e3;return{percent:f,currentTime:p,seekTime:S.getCurrentTimeByOffset(p,r.timeSegments),offset:h,width:n,left:i,e:e}}},{key:"updateTime",value:function(e){var t=this.player,n=this.duration;e>n?e=n:e<0&&(e=0);var i=t.plugins.time;i&&i.updateTime(e)}},{key:"resetSeekState",value:function(){this.isProgressMoving=!1;var e=this.player.plugins.time;e&&e.resetActive()}},{key:"updatePercent",value:function(e,t){if(this.isProgressMoving=!0,!this.config.disable){e=e>1?1:e<0?0:e,this.progressBtn.style.left="".concat(100*e,"%"),this.innerList.update({played:e*this.offsetDuration},this.offsetDuration);var n=this.player.plugins.miniprogress;n&&n.update({played:e*this.offsetDuration},this.offsetDuration)}}},{key:"onTimeupdate",value:function(e){var t=this.player,n=this._state,i=this.offsetDuration;if(!t.isSeeking&&!this.isProgressMoving){if(n.now>-1){var r=parseInt(1e3*n.now,10)-parseInt(1e3*t.currentTime,10);if(0===n.direc&&r>300||1===n.direc&&r>-300)return void(n.now=-1);n.now=-1}var o=this.currentTime;o=S.adjustTimeByDuration(o,i,e),this.innerList.update({played:o},i),this.progressBtn.style.left="".concat(o/i*100,"%");var a=this.player.plugins.miniprogress;a&&a.update({played:o},i)}}},{key:"onCacheUpdate",value:function(e){var t=this.player,n=this.duration;if(t){var i=t.bufferedPoint.end;i=S.adjustTimeByDuration(i,n,e),this.innerList.update({cached:i},n);var r=this.player.plugins.miniprogress;r&&r.update({cached:i},n)}}},{key:"onReset",value:function(){this.innerList.update({played:0,cached:0},0);var e=this.player.plugins.miniprogress;e&&e.update({cached:0,played:0},0)}},{key:"destroy",value:function(){var e=this.player,t=e.controls;this.thumbnailPlugin=null,this.innerList.destroy(),this.innerList=null;var n=this.domEventType;"touch"!==n&&"compatible"!==n||(this.root.removeEventListener("touchstart",this.onMouseDown),this.root.removeEventListener("touchmove",this.onMouseMove),this.root.removeEventListener("touchend",this.onMouseUp),t&&(t.root&&t.root.removeEventListener("touchmove",S.stopPropagation),t.center&&t.center.removeEventListener("touchend",S.stopPropagation))),"mouse"!==n&&"compatible"!==n||(this.unbind("mousedown",this.onMouseDown),this.unbind("mouseenter",this.onMouseEnter),this.unbind("mousemove",this.onMoveOnly),this.unbind("mouseleave",this.onMouseLeave),document.removeEventListener("mousemove",this.onMouseMove,!1),document.removeEventListener("mouseup",this.onMouseUp,!1),e.root.removeEventListener("click",this.onBodyClick,!0))}},{key:"render",value:function(){if(!this.config.disable&&!this.playerConfig.isLive){var e=this.player.controls?this.player.controls.config.mode:"";return'\n    <xg-progress class="xgplayer-progress '.concat("bottom"===e?"xgplayer-progress-bottom":"",'">\n      <xg-outer class="xgplayer-progress-outer">\n        <xg-progress-btn class="xgplayer-progress-btn"></xg-progress-btn>\n      </xg-outer>\n    </xg-progress>\n    ')}}}],[{key:"pluginName",get:function(){return"progress"}},{key:"defaultConfig",get:function(){return{position:it.CONTROLS_CENTER,index:0,disable:!1,isDragingSeek:!0,closeMoveSeek:!1,isPauseMoving:!1,isCloseClickSeek:!1,fragments:[{percent:1}],fragFocusClass:Mn.POINT,fragClass:"",fragAutoFocus:!1,miniMoveStep:5,miniStartStep:2,onMoveStart:function(){},onMoveEnd:function(){},endedDiff:.2}}},{key:"FRAGMENT_FOCUS_CLASS",get:function(){return Mn}}]),o}(st),Fn=function(e){l(n,e);var t=p(n);function n(){var e;r(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return s(h(e=t.call.apply(t,[this].concat(o))),"_onMouseenter",(function(t){e.emit("icon_mouseenter",{pluginName:e.pluginName})})),s(h(e),"_onMouseLeave",(function(t){e.emit("icon_mouseleave",{pluginName:e.pluginName})})),e}return a(n,[{key:"afterCreate",value:function(){this.bind("mouseenter",this._onMouseenter),this.bind("mouseleave",this._onMouseLeave)}},{key:"destroy",value:function(){this.unbind("mouseenter",this._onMouseenter),this.unbind("mouseleave",this._onMouseLeave)}}]),n}(st),jn=function(e){l(n,e);var t=p(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"afterCreate",value:function(){var e=this;g(u(n.prototype),"afterCreate",this).call(this);var t=this.player;this.config.disable||(this.initIcons(),this.btnClick=this.btnClick.bind(this),this.bind(["touchend","click"],this.btnClick),this.on([B,z,ee],(function(){e.animate(t.paused)})),this.on(j,(function(){e.animate(t.paused)})),this.animate(!0))}},{key:"registerIcons",value:function(){return{play:{icon:Vt,class:"xg-icon-play"},pause:{icon:Gt,class:"xg-icon-pause"}}}},{key:"btnClick",value:function(e){e.preventDefault(),e.stopPropagation();var t=this.player;return this.emitUserAction(e,"switch_play_pause",{prop:"paused",from:t.paused,to:!t.paused}),t.ended?t.replay():t.paused?(t.play(),this.animate(!1)):(t.pause(),this.animate(!0)),!1}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild(".xgplayer-icon",e.play),this.appendChild(".xgplayer-icon",e.pause)}},{key:"animate",value:function(e){if(this.player){var t=this.i18nKeys,n=this.find(".xg-tips");e?(this.setAttr("data-state","pause"),n&&this.changeLangTextKey(n,t.PLAY_TIPS)):(this.setAttr("data-state","play"),n&&this.changeLangTextKey(n,t.PAUSE_TIPS))}}},{key:"destroy",value:function(){g(u(n.prototype),"destroy",this).call(this),this.unbind(["touchend","click"],this.btnClick)}},{key:"render",value:function(){if(!this.config.disable)return'<xg-icon class="xgplayer-play">\n    <div class="xgplayer-icon">\n    </div>\n    '.concat(Xt(this,"PLAY_TIPS",this.playerConfig.isHideTips),"\n    </xg-icon>")}}],[{key:"pluginName",get:function(){return"play"}},{key:"defaultConfig",get:function(){return{position:it.CONTROLS_LEFT,index:0,disable:!1}}}]),n}(Fn);function Hn(){return(new DOMParser).parseFromString('<svg width="32px" height="40px" viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <path d="M11.2374369,14 L17.6187184,7.61871843 C17.9604272,7.27700968 17.9604272,6.72299032 17.6187184,6.38128157 C17.2770097,6.03957281 16.7229903,6.03957281 16.3812816,6.38128157 L9.38128157,13.3812816 C9.03957281,13.7229903 9.03957281,14.2770097 9.38128157,14.6187184 L16.3812816,21.6187184 C16.7229903,21.9604272 17.2770097,21.9604272 17.6187184,21.6187184 C17.9604272,21.2770097 17.9604272,20.7229903 17.6187184,20.3812816 L11.2374369,14 L11.2374369,14 Z" fill="#FFFFFF"></path>\n    </g>\n</svg>',"image/svg+xml").firstChild}var Un=function(e){l(n,e);var t=p(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"afterCreate",value:function(){var e=this;this.initIcons(),this.onClick=function(t){t.preventDefault(),t.stopPropagation(),e.config.onClick(t)},this.bind(["click","touchend"],this.onClick)}},{key:"registerIcons",value:function(){return{screenBack:{icon:Hn,class:"xg-fullscreen-back"}}}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild(this.root,e.screenBack)}},{key:"show",value:function(){S.addClass(this.root,"show")}},{key:"hide",value:function(){S.removeClass(this.root,"show")}},{key:"render",value:function(){return'<xg-icon class="xgplayer-back">\n    </xg-icon>'}}],[{key:"pluginName",get:function(){return"topbackicon"}},{key:"defaultConfig",get:function(){return{position:it.ROOT_TOP,index:0}}}]),n}(st);function Bn(){return(new DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="2 -4 28 40">\n  <path fill="#fff" transform="scale(0.0320625 0.0320625)" d="M598 214h212v212h-84v-128h-128v-84zM726 726v-128h84v212h-212v-84h128zM214 426v-212h212v84h-128v128h-84zM298 598v128h128v84h-212v-212h84z"></path>\n</svg>\n',"image/svg+xml").firstChild}function zn(){return(new DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="2 -4 28 40">\n  <path fill="#fff" transform="scale(0.0320625 0.0320625)" d="M682 342h128v84h-212v-212h84v128zM598 810v-212h212v84h-128v128h-84zM342 342v-128h84v212h-212v-84h128zM214 682v-84h212v212h-84v-128h-128z"></path>\n</svg>\n',"image/svg+xml").firstChild}var Vn=function(e){l(n,e);var t=p(n);function n(){var e;r(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return s(h(e=t.call.apply(t,[this].concat(o))),"_onOrientationChange",(function(t){e.player.fullscreen&&e.config.rotateFullscreen&&(90===window.orientation||-90===window.orientation?e.player.setRotateDeg(0):e.player.setRotateDeg(90))})),e}return a(n,[{key:"afterCreate",value:function(){var e=this;g(u(n.prototype),"afterCreate",this).call(this);var t=this.config,i=this.playerConfig;if(!t.disable){t.target&&(this.playerConfig.fullscreenTarget=this.config.target);var r=S.getFullScreenEl();i.fullscreenTarget===r&&this.player.getFullscreen().catch((function(e){})),this.initIcons(),this.handleFullscreen=this.hook("fullscreenChange",this.toggleFullScreen,{pre:function(t){var n=e.player.fullscreen;e.emitUserAction(t,"switch_fullscreen",{prop:"fullscreen",from:n,to:!n})}}),this.bind(".xgplayer-fullscreen",["touchend","click"],this.handleFullscreen),this.on(fe,(function(t){var n=e.find(".xg-tips");n&&e.changeLangTextKey(n,t?e.i18nKeys.EXITFULLSCREEN_TIPS:e.i18nKeys.FULLSCREEN_TIPS),e.animate(t)})),this.config.needBackIcon&&(this.topBackIcon=this.player.registerPlugin({plugin:Un,options:{config:{onClick:function(t){e.handleFullscreen(t)}}}})),"mobile"===R.device&&window.addEventListener("orientationchange",this._onOrientationChange)}}},{key:"registerIcons",value:function(){return{fullscreen:{icon:Bn,class:"xg-get-fullscreen"},exitFullscreen:{icon:zn,class:"xg-exit-fullscreen"}}}},{key:"destroy",value:function(){g(u(n.prototype),"destroy",this).call(this),this.unbind(".xgplayer-icon","mobile"===R.device?"touchend":"click",this.handleFullscreen),"mobile"===R.device&&window.removeEventListener("orientationchange",this._onOrientationChange)}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild(".xgplayer-icon",e.fullscreen),this.appendChild(".xgplayer-icon",e.exitFullscreen)}},{key:"toggleFullScreen",value:function(e){e&&(e.preventDefault(),e.stopPropagation());var t=this.player,n=this.config;!0===n.useCssFullscreen||"function"==typeof n.useCssFullscreen&&n.useCssFullscreen()?(t.fullscreen?t.exitCssFullscreen():t.getCssFullscreen(),this.animate(t.fullscreen)):n.rotateFullscreen?(t.fullscreen?t.exitRotateFullscreen():t.getRotateFullscreen(),this.animate(t.fullscreen)):n.switchCallback&&"function"==typeof n.switchCallback?n.switchCallback(t.fullscreen):t.fullscreen?t.exitFullscreen():t.getFullscreen().catch((function(e){}))}},{key:"animate",value:function(e){e?this.setAttr("data-state","full"):this.setAttr("data-state","normal"),this.topBackIcon&&(e?(this.topBackIcon.show(),this.hide()):(this.topBackIcon.hide(),this.show()))}},{key:"show",value:function(){g(u(n.prototype),"show",this).call(this)}},{key:"hide",value:function(){g(u(n.prototype),"hide",this).call(this)}},{key:"render",value:function(){if(!this.config.disable)return'<xg-icon class="xgplayer-fullscreen">\n    <div class="xgplayer-icon">\n    </div>\n    '.concat(Xt(this,"FULLSCREEN_TIPS",this.playerConfig.isHideTips),"\n    </xg-icon>")}}],[{key:"pluginName",get:function(){return"fullscreen"}},{key:"defaultConfig",get:function(){return{position:it.CONTROLS_RIGHT,index:0,useCssFullscreen:!1,rotateFullscreen:!1,switchCallback:null,target:null,disable:!1,needBackIcon:!1}}}]),n}(Fn),Gn=function(e){l(n,e);var t=p(n);function n(e){var i;return r(this,n),(i=t.call(this,e)).isActiving=!1,i}return a(n,[{key:"duration",get:function(){var e=this.player,t=e.offsetDuration,n=e.duration;return this.playerConfig.customDuration||t||n}},{key:"currentTime",get:function(){var e=this.player,t=e.offsetCurrentTime,n=e.currentTime;return t>=0?t:n}},{key:"timeOffset",get:function(){return this.playerConfig.timeOffset||0}},{key:"afterCreate",value:function(){var e=this,t=this.player.controls.config.mode;this.mode="flex"===t?"flex":"normal",this.config.disable||("flex"===this.mode&&(this.createCenterTime(),this.root.style.display="none"),this.durationDom=this.find(".time-duration"),this.timeDom=this.find(".time-current"),this.on([$,G,W],(function(){e.onTimeUpdate()})),this.on(U,(function(){e.onTimeUpdate(!0)})),this.on(ee,(function(){e.onReset()})))}},{key:"show",value:function(){if("flex"===this.mode)return this.centerCurDom&&(this.centerCurDom.style.display="block"),void(this.centerDurDom&&(this.centerDurDom.style.display="block"));this.root.style.display="block"}},{key:"hide",value:function(){if("flex"===this.mode)return this.centerCurDom&&(this.centerCurDom.style.display="none"),void(this.centerDurDom&&(this.centerDurDom.style.display="none"));this.root.style.display="none"}},{key:"onTimeUpdate",value:function(e){var t=this.player,n=this.config,i=this.duration;if(!n.disable&&!this.isActiving&&t.hasStart){var r=this.currentTime+this.timeOffset;r=S.adjustTimeByDuration(r,i,e),"flex"===this.mode?(this.centerCurDom.innerHTML=this.minWidthTime(S.format(r)),i!==1/0&&i>0&&(this.centerDurDom.innerHTML=S.format(i))):(this.timeDom.innerHTML=this.minWidthTime(S.format(r)),i!==1/0&&i>0&&(this.durationDom.innerHTML=S.format(i)))}}},{key:"onReset",value:function(){"flex"===this.mode?(this.centerCurDom.innerHTML=this.minWidthTime(S.format(0)),this.centerDurDom.innerHTML=S.format(0)):(this.timeDom.innerHTML=this.minWidthTime(S.format(0)),this.durationDom.innerHTML=S.format(0))}},{key:"createCenterTime",value:function(){var e=this.player;if(e.controls&&e.controls.center){var t=e.controls.center;this.centerCurDom=S.createDom("xg-icon","00:00",{},"xgplayer-time xg-time-left"),this.centerDurDom=S.createDom("xg-icon","00:00",{},"xgplayer-time xg-time-right"),t.children.length>0?t.insertBefore(this.centerCurDom,t.children[0]):t.appendChild(this.centerCurDom),t.appendChild(this.centerDurDom)}}},{key:"afterPlayerInit",value:function(){var e=this.config;this.duration===1/0||this.playerConfig.isLive?(S.hide(this.durationDom),S.hide(this.timeDom),S.hide(this.find(".time-separator")),S.show(this.find(".time-live-tag"))):S.hide(this.find(".time-live-tag")),e.hide?this.hide():this.show()}},{key:"changeLiveState",value:function(e){e?(S.hide(this.durationDom),S.hide(this.timeDom),S.hide(this.find(".time-separator")),S.show(this.find(".time-live-tag"))):(S.hide(this.find(".time-live-tag")),S.show(this.find(".time-separator")),S.show(this.durationDom),S.show(this.timeDom))}},{key:"updateTime",value:function(e){this.isActiving=!0,!e&&0!==e||e>this.duration||("flex"!==this.mode?this.timeDom.innerHTML=this.minWidthTime(S.format(e)):this.centerCurDom.innerHTML=this.minWidthTime(S.format(e)))}},{key:"minWidthTime",value:function(e){return e.split(":").map((function(e){return'<span class="time-min-width">'.concat(e,"</span>")})).join(":")}},{key:"resetActive",value:function(){var e=this,t=this.player,n=function(){e.isActiving=!1};this.off(G,n),t.isSeeking?this.once(G,n):this.isActiving=!1}},{key:"destroy",value:function(){var e=this.player.controls.center;this.centerCurDom&&e.removeChild(this.centerCurDom),this.centerCurDom=null,this.centerDurDom&&e.removeChild(this.centerDurDom),this.centerDurDom=null}},{key:"render",value:function(){if(!this.config.disable)return'<xg-icon class="xgplayer-time">\n    <span class="time-current">00:00</span>\n    <span class="time-separator">/</span>\n    <span class="time-duration">00:00</span>\n    <span class="time-live-tag">'.concat(this.i18n.LIVE_TIP,"</span>\n    </xg-icon>")}}],[{key:"pluginName",get:function(){return"time"}},{key:"defaultConfig",get:function(){return{position:it.CONTROLS_LEFT,index:2,disable:!1}}}]),n}(st),Wn=function(e){l(n,e);var t=p(n);function n(){var e;r(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return s(h(e=t.call.apply(t,[this].concat(o))),"_onDurationChange",(function(){e.updateSegments();var t=e.player,n=t.currentTime,i=t.timeSegments;if(e._checkIfEnabled(i)){var r=S.getIndexByTime(n,i),o=S.getOffsetCurrentTime(n,i,r);e.player.offsetCurrentTime=o,e.changeIndex(r,i)}})),s(h(e),"_onLoadedData",(function(){var t=e.player.timeSegments;if(e._checkIfEnabled(t)){var n=S.getOffsetCurrentTime(0,t);e.player.offsetCurrentTime=n,e.changeIndex(0,t),e.curPos.start>0&&(e.player.currentTime=e.curPos.start)}})),s(h(e),"_onTimeupdate",(function(){var t=e.player,n=t.currentTime,i=t.timeSegments;if(e._checkIfEnabled(i)){var r=i.length;e.lastCurrentTime=n;var o=S.getIndexByTime(n,i);o!==e.curIndex&&e.changeIndex(o,i);var a=S.getOffsetCurrentTime(n,i,o);if(e.player.offsetCurrentTime=a,e.curPos){var s=e.curPos,l=s.start,u=s.end;n<l?e.player.currentTime=l:n>u&&o>=r-1&&e.player.pause()}}})),s(h(e),"_onSeeking",(function(){var t=e.player,n=t.currentTime,i=t.timeSegments;if(e._checkIfEnabled(i))if(n<i[0].start)e.player.currentTime=i[0].start;else if(n>i[i.length-1].end)e.player.currentTime=i[i.length-1].end;else{var r=S.getIndexByTime(n,i);if(r>=0){var o=e.getSeekTime(n,e.lastCurrentTime,r,i);o>=0&&(e.player.currentTime=o)}}})),s(h(e),"_onPlay",(function(){var t=e.player,n=t.currentTime,i=t.timeSegments;e._checkIfEnabled(i)&&n>=i[i.length-1].end&&(e.player.currentTime=i[0].start)})),e}return a(n,[{key:"afterCreate",value:function(){this.curIndex=-1,this.curPos=null,this.lastCurrentTime=0,this.updateSegments(),this.on($,this._onDurationChange),this.on(q,this._onLoadedData),this.on(W,this._onTimeupdate),this.on(V,this._onSeeking),this.on(j,this._onPlay)}},{key:"setConfig",value:function(e){var t=this;if(e){var n=Object.keys(e);n.length<1||(n.forEach((function(n){t.config[n]=e[n]})),this.updateSegments())}}},{key:"updateSegments",value:function(){var e=this.config,t=e.disable,n=e.segments,i=this.player;if(t||!n||0===n.length)i.timeSegments=[],i.offsetDuration=0,i.offsetCurrentTime=-1;else{var r=this.formatTimeSegments(n,i.duration);i.timeSegments=r,i.offsetDuration=r.length>0?r[r.length-1].duration:0}}},{key:"formatTimeSegments",value:function(e,t){var n=[];return e?(e.sort((function(e,t){return e.start-t.start})),e.forEach((function(e,i){var r={};if(r.start=e.start<0?0:e.start,r.end=t>0&&e.end>t?t:e.end,!(t>0&&r.start>t)){n.push(r);var o=r.end-r.start;if(0===i)r.offset=e.start,r.cTime=0,r.segDuration=o,r.duration=o;else{var a=n[i-1];r.offset=a.offset+(r.start-a.end),r.cTime=a.duration+a.cTime,r.segDuration=o,r.duration=a.duration+o}}})),n):[]}},{key:"getSeekTime",value:function(e,t,n,i){var r=-1,o=i[n],a=o.start,s=o.end;if(e>=a&&e<=s)return r;var l=e-t;if(l<0&&e<a){var u=t>a?t-a:0;return n-1>=0?i[n-1].end+l+u:0}return-1}},{key:"_checkIfEnabled",value:function(e){return!(!e||e.length<1)}},{key:"changeIndex",value:function(e,t){this.curIndex=e,e>=0&&t.length>0?this.curPos=t[e]:this.curPos=null}}],[{key:"pluginName",get:function(){return"TimeSegmentsControls"}},{key:"defaultConfig",get:function(){return{disable:!0,segments:[]}}}]),n}(qe);function Yn(){return(new DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="0 -10 28 40">\n  <path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z"></path>\n  <path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M940.632 837.632l-72.192-72.192c65.114-64.745 105.412-154.386 105.412-253.44s-40.299-188.695-105.396-253.424l-0.016-0.016 72.192-72.192c83.639 83.197 135.401 198.37 135.401 325.632s-51.762 242.434-135.381 325.612l-0.020 0.020zM795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021z"></path>\n</svg>\n',"image/svg+xml").firstChild}function Kn(){return(new DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="0 -10 28 40">\n  <path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z"></path>\n  <path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021zM795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021z"></path>\n</svg>\n',"image/svg+xml").firstChild}function $n(){return(new DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="0 -10 28 40">\n  <path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z"></path>\n  <path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M920.4 439.808l-108.544-109.056-72.704 72.704 109.568 108.544-109.056 108.544 72.704 72.704 108.032-109.568 108.544 109.056 72.704-72.704-109.568-108.032 109.056-108.544-72.704-72.704-108.032 109.568z"></path>\n</svg>\n',"image/svg+xml").firstChild}var Xn=function(e){l(n,e);var t=p(n);function n(){var e;r(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return s(h(e=t.call.apply(t,[this].concat(o))),"onBarMousedown",(function(t){var n=h(e).player,i=e.find(".xgplayer-bar");S.event(t);var r=i.getBoundingClientRect(),o=S.getEventPos(t,n.zoom),a=r.height-(o.clientY-r.top);if(o.h=a,o.barH=r.height,e.pos=o,!(a<-2))return e.updateVolumePos(a,t),document.addEventListener("mouseup",e.onBarMouseUp),e._d.isStart=!0,!1})),s(h(e),"onBarMouseMove",(function(t){var n=h(e)._d;if(n.isStart){var i=h(e),r=i.pos,o=i.player;t.preventDefault(),t.stopPropagation(),S.event(t);var a=S.getEventPos(t,o.zoom);n.isMoving=!0;var s=r.h-a.clientY+r.clientY;s>r.barH||e.updateVolumePos(s,t)}})),s(h(e),"onBarMouseUp",(function(t){S.event(t),document.removeEventListener("mouseup",e.onBarMouseUp);var n=h(e)._d;n.isStart=!1,n.isMoving=!1})),s(h(e),"onMouseenter",(function(t){e._d.isActive=!0,e.focus(),e.emit("icon_mouseenter",{pluginName:e.pluginName})})),s(h(e),"onMouseleave",(function(t){e._d.isActive=!1,e.unFocus(100,!1,t),e.emit("icon_mouseleave",{pluginName:e.pluginName})})),s(h(e),"onVolumeChange",(function(t){if(e.player){var n=e.player,i=n.muted,r=n.volume;e._d.isMoving||(e.find(".xgplayer-drag").style.height=i||0===r?"4px":"".concat(100*r,"%"),e.config.showValueLabel&&e.updateVolumeValue()),e.animate(i,r)}})),e}return a(n,[{key:"registerIcons",value:function(){return{volumeSmall:{icon:Kn,class:"xg-volume-small"},volumeLarge:{icon:Yn,class:"xg-volume"},volumeMuted:{icon:$n,class:"xg-volume-mute"}}}},{key:"afterCreate",value:function(){var e=this;if(this._timerId=null,this._d={isStart:!1,isMoving:!1,isActive:!1},!this.config.disable){this.initIcons();var t=this.playerConfig,n=t.commonStyle,i=t.volume;n.volumeColor&&(this.find(".xgplayer-drag").style.backgroundColor=n.volumeColor),this.changeMutedHandler=this.hook("mutedChange",(function(t){e.changeMuted(t)}),{pre:function(e){e.preventDefault(),e.stopPropagation()}}),this._onMouseenterHandler=this.hook("mouseenter",this.onMouseenter),this._onMouseleaveHandler=this.hook("mouseleave",this.onMouseleave),"mobile"!==R.device&&"mobile"!==this.playerConfig.isMobileSimulateMode&&(this.bind("mouseenter",this._onMouseenterHandler),this.bind(["blur","mouseleave"],this._onMouseleaveHandler),this.bind(".xgplayer-slider","mousedown",this.onBarMousedown),this.bind(".xgplayer-slider","mousemove",this.onBarMouseMove),this.bind(".xgplayer-slider","mouseup",this.onBarMouseUp)),this.bind(".xgplayer-icon",["touchend","click"],this.changeMutedHandler),this.on(X,this.onVolumeChange),this.once(q,this.onVolumeChange),"Number"!==S.typeOf(i)&&(this.player.volume=this.config.default),this.onVolumeChange()}}},{key:"updateVolumePos",value:function(e,t){var n=this.player,i=this.find(".xgplayer-drag"),r=this.find(".xgplayer-bar");if(r&&i){var o=parseInt(e/r.getBoundingClientRect().height*1e3,10);i.style.height="".concat(e,"px");var a=Math.max(Math.min(o/1e3,1),0),s={volume:{from:n.volume,to:a}};n.muted&&(s.muted={from:!0,to:!1}),this.emitUserAction(t,"change_volume",{muted:n.muted,volume:n.volume,props:s}),n.volume=Math.max(Math.min(o/1e3,1),0),n.muted&&(n.muted=!1),this.config.showValueLabel&&this.updateVolumeValue()}}},{key:"updateVolumeValue",value:function(){var e=this.player,t=e.volume,n=e.muted,i=this.find(".xgplayer-value-label"),r=Math.max(Math.min(t,1),0);i.innerText=n?0:Math.ceil(100*r)}},{key:"focus",value:function(){this.player.focus({autoHide:!1}),this._timerId&&(S.clearTimeout(this,this._timerId),this._timerId=null),S.addClass(this.root,"slide-show")}},{key:"unFocus",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2?arguments[2]:void 0,r=this._d,o=this.player;r.isActive||(this._timerId&&(S.clearTimeout(this,this._timerId),this._timerId=null),this._timerId=S.setTimeout(this,(function(){r.isActive||(n?o.blur():o.focus(),S.removeClass(e.root,"slide-show"),r.isStart&&e.onBarMouseUp(i)),e._timerId=null}),t))}},{key:"changeMuted",value:function(e){e&&e.stopPropagation();var t=this.player;this._d.isStart&&this.onBarMouseUp(e),this.emitUserAction(e,"change_muted",{muted:t.muted,volume:t.volume,props:{muted:{from:t.muted,to:!t.muted}}}),t.volume>0&&(t.muted=!t.muted),t.volume<.01&&(t.volume=this.config.miniVolume)}},{key:"animate",value:function(e,t){e||0===t?this.setAttr("data-state","mute"):t<.5&&this.icons.volumeSmall?this.setAttr("data-state","small"):this.setAttr("data-state","normal")}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild(".xgplayer-icon",e.volumeSmall),this.appendChild(".xgplayer-icon",e.volumeLarge),this.appendChild(".xgplayer-icon",e.volumeMuted)}},{key:"destroy",value:function(){this._timerId&&(S.clearTimeout(this,this._timerId),this._timerId=null),this.unbind("mouseenter",this.onMouseenter),this.unbind(["blur","mouseleave"],this.onMouseleave),this.unbind(".xgplayer-slider","mousedown",this.onBarMousedown),this.unbind(".xgplayer-slider","mousemove",this.onBarMouseMove),this.unbind(".xgplayer-slider","mouseup",this.onBarMouseUp),document.removeEventListener("mouseup",this.onBarMouseUp),this.unbind(".xgplayer-icon","mobile"===R.device?"touchend":"click",this.changeMutedHandler)}},{key:"render",value:function(){if(!this.config.disable){var e=this.config.default||this.player.volume,t=this.config.showValueLabel;return'\n    <xg-icon class="xgplayer-volume" data-state="normal">\n      <div class="xgplayer-icon">\n      </div>\n      <xg-slider class="xgplayer-slider">\n        '.concat(t?'<div class="xgplayer-value-label">'.concat(100*e,"</div>"):"",'\n        <div class="xgplayer-bar">\n          <xg-drag class="xgplayer-drag" style="height: ').concat(100*e,'%"></xg-drag>\n        </div>\n      </xg-slider>\n    </xg-icon>')}}}],[{key:"pluginName",get:function(){return"volume"}},{key:"defaultConfig",get:function(){return{position:it.CONTROLS_RIGHT,index:1,disable:!1,showValueLabel:!1,default:.6,miniVolume:.2}}}]),n}(st);function qn(){return(new DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="-4 -6 40 40" fill="none">\n  <g clip-path="url(#clip0)">\n    <path transform="scale(1.5 1.5)" d="M11.6665 9.16663H4.1665C2.78579 9.16663 1.6665 10.2859 1.6665 11.6666V15.8333C1.6665 17.214 2.78579 18.3333 4.1665 18.3333H11.6665C13.0472 18.3333 14.1665 17.214 14.1665 15.8333V11.6666C14.1665 10.2859 13.0472 9.16663 11.6665 9.16663Z" fill="white"/>\n    <path transform="scale(1.5 1.5)" fill-rule="evenodd" clip-rule="evenodd" d="M3.88148 4.06298C3.75371 4.21005 3.67667 4.40231 3.67749 4.61242C3.67847 4.87253 3.79852 5.10435 3.98581 5.25646L6.99111 8.05895C7.32771 8.37283 7.85502 8.35443 8.16891 8.01782C8.48279 7.68122 8.46437 7.15391 8.12778 6.84003L6.62061 5.43457L9.8198 5.4224C9.82848 5.42239 9.8372 5.42221 9.84591 5.4219C10.9714 5.38233 12.0885 5.6285 13.0931 6.13744C14.0976 6.64635 14.957 7.40148 15.5908 8.33234C16.2246 9.2632 16.6122 10.3394 16.7177 11.4606C16.823 12.5819 16.6427 13.7115 16.1934 14.7442C16.0098 15.1661 16.203 15.6571 16.6251 15.8408C17.0471 16.0243 17.5381 15.8311 17.7216 15.4091C18.2833 14.1183 18.5087 12.7063 18.3771 11.3047C18.2453 9.90318 17.7607 8.55792 16.9684 7.39433C16.1761 6.23073 15.1021 5.28683 13.8463 4.65065C12.5946 4.01651 11.203 3.70872 9.80072 3.75583L6.43415 3.76862L7.96326 2.12885C8.27715 1.79225 8.25872 1.26494 7.92213 0.951061C7.58553 0.63718 7.05822 0.655585 6.74433 0.99219L3.90268 4.0395C3.89545 4.04724 3.88841 4.05509 3.88154 4.06303L3.88148 4.06298Z" fill="white"/>\n  </g>\n  <defs>\n    <clipPath id="clip0">\n      <rect width="40" height="40" fill="white"/>\n    </clipPath>\n  </defs>\n</svg>\n',"image/svg+xml").firstChild}var Jn=function(e){l(n,e);var t=p(n);function n(e){var i;return r(this,n),(i=t.call(this,e)).rotateDeg=i.config.rotateDeg||0,i}return a(n,[{key:"afterCreate",value:function(){var e=this;if(!this.config.disable){g(u(n.prototype),"afterCreate",this).call(this),this.appendChild(".xgplayer-icon",this.icons.rotate),this.onBtnClick=this.onBtnClick.bind(this),this.bind(".xgplayer-icon",["click","touchend"],this.onBtnClick),this.on(ve,(function(){e.rotateDeg&&e.config.innerRotate&&S.setTimeout(e,(function(){e.updateRotateDeg(e.rotateDeg,e.config.innerRotate)}),100)}));var t=this.player.root;this.rootWidth=t.style.width||t.offsetWidth||t.clientWidth,this.rootHeight=t.style.height||t.offsetHeight||t.clientHeight,this.rotateDeg&&this.updateRotateDeg(this.rotateDeg,this.config.innerRotate)}}},{key:"destroy",value:function(){g(u(n.prototype),"destroy",this).call(this),this.unbind(".xgplayer-icon",["click","touchend"],this.onBtnClick)}},{key:"onBtnClick",value:function(e){e.preventDefault(),e.stopPropagation(),this.emitUserAction(e,"rotate"),this.rotate(this.config.clockwise,this.config.innerRotate,1)}},{key:"updateRotateDeg",value:function(e,t){if(e||(e=0),t)this.player.videoRotateDeg=e;else{var n=this.player,i=this.rootWidth,r=this.rootHeight,o=n.root,a=n.innerContainer,s=n.media,l=o.offsetWidth,u=a&&t?a.offsetHeight:o.offsetHeight,c=i,h=r,f=0,p=0;.75!==e&&.25!==e||(c="".concat(u,"px"),h="".concat(l,"px"),f=-(u-l)/2,p=-(l-u)/2);var d="translate(".concat(f,"px,").concat(p,"px) rotate(").concat(e,"turn)"),g={transformOrigin:"center center",transform:d,webKitTransform:d,height:h,width:c},y=t?s:o,v=t?n.getPlugin("poster"):null;Object.keys(g).map((function(e){y.style[e]=g[e],v&&v.root&&(v.root.style[e]=g[e])}))}}},{key:"rotate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=this.player;this.rotateDeg||(this.rotateDeg=0);var r=e?1:-1;this.rotateDeg=(this.rotateDeg+1+.25*r*n)%1,this.updateRotateDeg(this.rotateDeg,t),i.emit(xe,360*this.rotateDeg)}},{key:"registerIcons",value:function(){return{rotate:qn}}},{key:"render",value:function(){if(!this.config.disable)return'\n    <xg-icon class="xgplayer-rotate">\n      <div class="xgplayer-icon">\n      </div>\n      '.concat(Xt(this,"ROTATE_TIPS",this.playerConfig.isHideTips),"\n    </xg-icon>")}}],[{key:"pluginName",get:function(){return"rotate"}},{key:"defaultConfig",get:function(){return{position:it.CONTROLS_RIGHT,index:6,innerRotate:!0,clockwise:!1,rotateDeg:0,disable:!1}}}]),n}(Fn);function Zn(){return(new DOMParser).parseFromString('<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path fill-rule="evenodd" clip-rule="evenodd"\n    d="M16.5 4.3H3.5C3.38954 4.3 3.3 4.38954 3.3 4.5V15.5C3.3 15.6105 3.38954 15.7 3.5 15.7H8.50005L8.50006 17.5H3.5C2.39543 17.5 1.5 16.6046 1.5 15.5V4.5C1.5 3.39543 2.39543 2.5 3.5 2.5H16.5C17.6046 2.5 18.5 3.39543 18.5 4.5V8.5H16.7V4.5C16.7 4.38954 16.6105 4.3 16.5 4.3ZM12 11.5C11.4477 11.5 11 11.9477 11 12.5L11 16.5C11 17.0523 11.4478 17.5 12 17.5H17.5C18.0523 17.5 18.5 17.0523 18.5 16.5L18.5 12.5C18.5 11.9477 18.0523 11.5 17.5 11.5H12Z"\n    fill="white" />\n</svg>',"image/svg+xml").firstChild}function Qn(){return(new DOMParser).parseFromString('<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path fill-rule="evenodd" clip-rule="evenodd"\n    d="M16.5 4.3H3.5C3.38954 4.3 3.3 4.38954 3.3 4.5V15.5C3.3 15.6105 3.38954 15.7 3.5 15.7H8.50005L8.50006 17.5H3.5C2.39543 17.5 1.5 16.6046 1.5 15.5V4.5C1.5 3.39543 2.39543 2.5 3.5 2.5H16.5C17.6046 2.5 18.5 3.39543 18.5 4.5V8.5H16.7V4.5C16.7 4.38954 16.6105 4.3 16.5 4.3ZM12 11.5C11.4477 11.5 11 11.9477 11 12.5L11 16.5C11 17.0523 11.4478 17.5 12 17.5H17.5C18.0523 17.5 18.5 17.0523 18.5 16.5L18.5 12.5C18.5 11.9477 18.0523 11.5 17.5 11.5H12Z"\n    fill="white" />\n  <path fill-rule="evenodd" clip-rule="evenodd"\n    d="M9.4998 7.7C9.77595 7.7 9.9998 7.47614 9.9998 7.2V6.5C9.9998 6.22386 9.77595 6 9.4998 6H5.5402L5.52754 6.00016H5.5C5.22386 6.00016 5 6.22401 5 6.50016V10.4598C5 10.7359 5.22386 10.9598 5.5 10.9598H6.2C6.47614 10.9598 6.7 10.7359 6.7 10.4598V8.83005L8.76983 10.9386C8.96327 11.1357 9.27984 11.1386 9.47691 10.9451L9.97645 10.4548C10.1735 10.2613 10.1764 9.94476 9.983 9.7477L7.97289 7.7H9.4998Z"\n    fill="white" />\n</svg>',"image/svg+xml").firstChild}var ei="picture-in-picture",ti="inline",ni="fullscreen",ii=function(e){l(n,e);var t=p(n);function n(){var e;r(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return s(h(e=t.call.apply(t,[this].concat(o))),"switchPIP",(function(t){if(!e.isPIPAvailable())return!1;t.stopPropagation&&t.stopPropagation(),e.isPip?(e.exitPIP(),e.emitUserAction(t,"change_pip",{props:"pip",from:!0,to:!1}),e.setAttr("data-state","normal")):4===e.player.media.readyState&&(e.requestPIP(),e.emitUserAction(t,"change_pip",{props:"pip",from:!1,to:!0}),e.setAttr("data-state","pip"))})),e}return a(n,[{key:"beforeCreate",value:function(e){"boolean"==typeof e.player.config.pip&&(e.config.showIcon=e.player.config.pip)}},{key:"afterCreate",value:function(){var e=this;this.isPIPAvailable()&&(g(u(n.prototype),"afterCreate",this).call(this),this.pMode=ti,this.initPipEvents(),this.config.showIcon&&this.initIcons(),this.once(se,(function(){e.config.showIcon&&(S.removeClass(e.find(".xgplayer-icon"),"xg-icon-disable"),e.bind("click",e.switchPIP))})))}},{key:"registerIcons",value:function(){return{pipIcon:{icon:Zn,class:"xg-get-pip"},pipIconExit:{icon:Qn,class:"xg-exit-pip"}}}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild(".xgplayer-icon",e.pipIcon),this.appendChild(".xgplayer-icon",e.pipIconExit)}},{key:"initPipEvents",value:function(){var e=this,t=this.player;this.leavePIPCallback=function(){var n=t.paused;S.setTimeout(e,(function(){!n&&t.mediaPlay()}),0),!n&&t.mediaPlay(),e.setAttr("data-state","normal"),t.emit(me,!1)},this.enterPIPCallback=function(n){t.emit(me,!0),e.pipWindow=n.pictureInPictureWindow,e.setAttr("data-state","pip")},this.onWebkitpresentationmodechanged=function(n){var i=t.media.webkitPresentationMode;e.pMode===ni&&i!==ni&&t.onFullscreenChange(null,!1),e.pMode=i,i===ei?e.enterPIPCallback(n):i===ti&&e.leavePIPCallback(n)},t.media&&(t.media.addEventListener("enterpictureinpicture",this.enterPIPCallback),t.media.addEventListener("leavepictureinpicture",this.leavePIPCallback),n.checkWebkitSetPresentationMode(t.media)&&t.media.addEventListener("webkitpresentationmodechanged",this.onWebkitpresentationmodechanged))}},{key:"requestPIP",value:function(){var e=this.player,t=this.playerConfig;if(this.isPIPAvailable()&&!this.isPip)try{var i=t.poster;return i&&(e.media.poster="String"===S.typeOf(i)?i:i.poster),n.checkWebkitSetPresentationMode(e.media)?e.media.webkitSetPresentationMode("picture-in-picture"):e.media.requestPictureInPicture(),!0}catch(o){return console.error("requestPiP",o),!1}}},{key:"exitPIP",value:function(){var e=this.player;try{return this.isPIPAvailable()&&this.isPip&&(n.checkWebkitSetPresentationMode(e.media)?e.media.webkitSetPresentationMode("inline"):document.exitPictureInPicture()),!0}catch(t){return console.error("exitPIP",t),!1}}},{key:"isPip",get:function(){var e=this.player;return document.pictureInPictureElement&&document.pictureInPictureElement===e.media||e.media.webkitPresentationMode===ei}},{key:"isPIPAvailable",value:function(){var e=this.player.media;return("Boolean"!==S.typeOf(document.pictureInPictureEnabled)||document.pictureInPictureEnabled)&&("Boolean"===S.typeOf(e.disablePictureInPicture)&&!e.disablePictureInPicture||e.webkitSupportsPresentationMode&&"Function"===S.typeOf(e.webkitSetPresentationMode))}},{key:"destroy",value:function(){g(u(n.prototype),"destroy",this).call(this);var e=this.player;e.media.removeEventListener("enterpictureinpicture",this.enterPIPCallback),e.media.removeEventListener("leavepictureinpicture",this.leavePIPCallback),n.checkWebkitSetPresentationMode(e.media)&&e.media.removeEventListener("webkitpresentationmodechanged",this.onWebkitpresentationmodechanged),this.exitPIP(),this.unbind("click",this.btnClick)}},{key:"render",value:function(){if(this.config.showIcon&&this.isPIPAvailable())return'<xg-icon class="xgplayer-pip">\n      <div class="xgplayer-icon xg-icon-disable">\n      </div>\n      '.concat(Xt(this,"PIP",this.playerConfig.isHideTips),"\n    </xg-icon>")}}],[{key:"pluginName",get:function(){return"pip"}},{key:"defaultConfig",get:function(){return{position:it.CONTROLS_RIGHT,index:6,showIcon:!1}}},{key:"checkWebkitSetPresentationMode",value:function(e){return"function"==typeof e.webkitSetPresentationMode}}]),n}(Fn);function ri(){return(new DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="40" viewBox="10 0 24 40">\n  <path transform="scale(0.038 0.028)" d="M800 380v768h-128v-352l-320 320v-704l320 320v-352z"></path>\n</svg>\n',"image/svg+xml").firstChild}var oi=function(e){l(n,e);var t=p(n);function n(e){var i;return r(this,n),s(h(i=t.call(this,e)),"playNext",(function(e){var t=h(i).player;e.preventDefault(),e.stopPropagation(),i.idx+1<i.config.urlList.length?(i.idx++,i.nextHandler(i.config.urlList[i.idx],i.idx),t.emit(ke,i.idx+1)):(i.nextHandler(),t.emit(ke))})),i.idx=-1,i}return a(n,[{key:"afterCreate",value:function(){this.config.urlList&&0!==this.config.urlList.length&&(this.appendChild(".xgplayer-icon",this.icons.playNext),this.initEvents())}},{key:"registerIcons",value:function(){return{playNext:ri}}},{key:"initEvents",value:function(){this.nextHandler=this.hook("nextClick",this.changeSrc);var e="mobile"===R.device?"touchend":"click";this.bind(e,this.playNext),this.show()}},{key:"changeSrc",value:function(e){var t=this.player;e&&(t.pause(),t.currentTime=0,t.switchURL?t.switchURL(e):t.src=e,t.config.url=e,t.play())}},{key:"destroy",value:function(){this.unbind(["touchend","click"],this.playNext)}},{key:"render",value:function(){if(this.config.urlList&&0!==this.config.urlList.length)return'\n     <xg-icon class="xgplayer-playnext">\n      <div class="xgplayer-icon">\n      </div>\n      '.concat(Xt(this,"PLAYNEXT_TIPS",this.playerConfig.isHideTips),"\n     </xg-icon>\n    ")}}],[{key:"pluginName",get:function(){return"playNext"}},{key:"defaultConfig",get:function(){return{position:it.CONTROLS_LEFT,index:1,url:null,urlList:[]}}}]),n}(st),ai={exports:{}};ai.exports=function e(t,n,i){var r,o,a=window,s="application/octet-stream",l=i||s,u=t,c=!n&&!i&&u,h=document.createElement("a"),f=function(e){return String(e)},p=a.Blob||a.MozBlob||a.WebKitBlob||f,d=n||"download";if(p=p.call?p.bind(a):Blob,"true"===String(this)&&(l=(u=[u,l])[0],u=u[1]),c&&c.length<2048&&(d=c.split("/").pop().split("?")[0],h.href=c,-1!==h.href.indexOf(c))){var g=new XMLHttpRequest;return g.open("GET",c,!0),g.responseType="blob",g.onload=function(t){e(t.target.response,d,s)},setTimeout((function(){g.send()}),0),g}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(u)){if(!(u.length>2096103.424&&p!==f))return navigator.msSaveBlob?navigator.msSaveBlob(x(u),d):b(u);l=(u=x(u)).type||s}else if(/([\x80-\xff])/.test(u)){for(var y=0,v=new Uint8Array(u.length),m=v.length;y<m;++y)v[y]=u.charCodeAt(y);u=new p([v],{type:l})}function x(e){for(var t=e.split(/[:;,]/),n=t[1],i=("base64"==t[2]?atob:decodeURIComponent)(t.pop()),r=i.length,o=0,a=new Uint8Array(r);o<r;++o)a[o]=i.charCodeAt(o);return new p([a],{type:n})}function b(e,t){if("download"in h)return h.href=e,h.setAttribute("download",d),h.className="download-js-link",h.innerHTML="downloading...",h.style.display="none",document.body.appendChild(h),setTimeout((function(){h.click(),document.body.removeChild(h),!0===t&&setTimeout((function(){a.URL.revokeObjectURL(h.href)}),250)}),66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,s)),window.open(e)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=e),!0;var n=document.createElement("iframe");document.body.appendChild(n),!t&&/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,s)),n.src=e,setTimeout((function(){document.body.removeChild(n)}),333)}if(r=u instanceof p?u:new p([u],{type:l}),navigator.msSaveBlob)return navigator.msSaveBlob(r,d);if(a.URL)b(a.URL.createObjectURL(r),!0);else{if("string"==typeof r||r.constructor===f)try{return b("data:"+l+";base64,"+a.btoa(r))}catch(w){return b("data:"+l+","+encodeURIComponent(r))}(o=new FileReader).onload=function(e){b(this.result)},o.readAsDataURL(r)}return!0};var si=ai.exports;function li(){return(new DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" viewBox="0 0 24 24">\n  <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n    <g transform="translate(-488.000000, -340.000000)" fill="#FFFFFF">\n      <g id="Group-2">\n        <g id="volme_big-copy" transform="translate(488.000000, 340.000000)">\n          <rect id="Rectangle-18" x="11" y="4" width="2" height="12" rx="1"></rect>\n          <rect id="Rectangle-2" x="3" y="18" width="18" height="2" rx="1"></rect>\n          <rect id="Rectangle-2" transform="translate(4.000000, 17.500000) rotate(90.000000) translate(-4.000000, -17.500000) " x="1.5" y="16.5" width="5" height="2" rx="1"></rect><rect id="Rectangle-2-Copy-3" transform="translate(20.000000, 17.500000) rotate(90.000000) translate(-20.000000, -17.500000) " x="17.5" y="16.5" width="5" height="2" rx="1"></rect>\n          <path d="M9.48791171,8.26502656 L9.48791171,14.2650266 C9.48791171,14.8173113 9.04019646,15.2650266 8.48791171,15.2650266 C7.93562696,15.2650266 7.48791171,14.8173113 7.48791171,14.2650266 L7.48791171,7.26502656 C7.48791171,6.71274181 7.93562696,6.26502656 8.48791171,6.26502656 L15.4879117,6.26502656 C16.0401965,6.26502656 16.4879117,6.71274181 16.4879117,7.26502656 C16.4879117,7.81731131 16.0401965,8.26502656 15.4879117,8.26502656 L9.48791171,8.26502656 Z" id="Combined-Shape" transform="translate(11.987912, 10.765027) scale(1, -1) rotate(45.000000) translate(-11.987912, -10.765027) "></path>\n        </g>\n      </g>\n    </g>\n  </g>\n</svg>\n',"image/svg+xml").firstChild}var ui=function(e){l(n,e);var t=p(n);function n(e){var i;return r(this,n),s(h(i=t.call(this,e)),"download",(function(e){if(!i.isLock){i.emitUserAction(e,"download");var t=i.playerConfig.url,n="";"String"===S.typeOf(t)?n=t:"Array"===S.typeOf(t)&&t.length>0&&(n=t[0].src);var r=i.getAbsoluteURL(n);si(r),i.isLock=!0,i.timer=window.setTimeout((function(){i.isLock=!1,window.clearTimeout(i.timer),i.timer=null}),300)}})),i.timer=null,i.isLock=!1,i}return a(n,[{key:"afterCreate",value:function(){g(u(n.prototype),"afterCreate",this).call(this),this.config.disable||(this.appendChild(".xgplayer-icon",this.icons.download),this._handler=this.hook("click",this.download,{pre:function(e){e.preventDefault(),e.stopPropagation()}}),this.bind(["click","touchend"],this._handler))}},{key:"registerIcons",value:function(){return{download:li}}},{key:"getAbsoluteURL",value:function(e){if(!e.match(/^https?:\/\//)){var t=document.createElement("div");t.innerHTML='<a href="'.concat(e,'">x</a>'),e=t.firstChild.href}return e}},{key:"destroy",value:function(){g(u(n.prototype),"destroy",this).call(this),this.unbind(["click","touchend"],this.download),window.clearTimeout(this.timer),this.timer=null}},{key:"render",value:function(){if(!this.config.disable)return'<xg-icon class="xgplayer-download">\n   <div class="xgplayer-icon">\n   </div>\n   '.concat(Xt(this,"DOWNLOAD_TIPS",this.playerConfig.isHideTips),"\n    </xg-icon>")}}],[{key:"pluginName",get:function(){return"download"}},{key:"defaultConfig",get:function(){return{position:it.CONTROLS_RIGHT,index:3,disable:!0}}}]),n}(Fn),ci=function(e){l(n,e);var t=p(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"beforeCreate",value:function(e){"boolean"==typeof e.player.config.screenShot&&(e.config.disable=!e.player.config.screenShot)}},{key:"afterCreate",value:function(){g(u(n.prototype),"afterCreate",this).call(this),this.appendChild(".xgplayer-icon",this.icons.screenshotIcon);var e=this.config;this.initSize=function(t){e.fitVideo&&(e.width=t.vWidth,e.height=t.vHeight)},this.once(ve,this.initSize)}},{key:"onPluginsReady",value:function(){this.show(),this.onClickBtn=this.onClickBtn.bind(this),this.bind(["click","touchend"],this.onClickBtn)}},{key:"saveScreenShot",value:function(e,t){var n=document.createElement("a");n.href=e,n.download=t;var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),n.dispatchEvent(i)}},{key:"createCanvas",value:function(e,t){var n=document.createElement("canvas"),i=n.getContext("2d");this.canvasCtx=i,this.canvas=n,n.width=e||this.config.width,n.height=t||this.config.height,i.imageSmoothingEnabled=!0,i.imageSmoothingEnabled&&(i.imageSmoothingQuality="high")}},{key:"onClickBtn",value:function(e){var t=this;e.preventDefault(),e.stopPropagation(),this.emitUserAction(e,"shot"),this.shot().then((function(e){t.emit(be,e),t.saveScreenShot(e,t.config.name+t.config.format)}))}},{key:"shot",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{quality:.92,type:"image/png"},r=this.config,o=this.player,a=i.quality||r.quality,s=i.type||r.type;return new Promise((function(i,l){var u,c=null;if(o.media.canvas)c=o.media.canvas;else{n.canvas?(n.canvas.width=e||r.width,n.canvas.height=t||r.height):n.createCanvas(e,t),c=n.canvas,u=n.canvasCtx;var h,f,p,d,g=o.media.videoWidth/o.media.videoHeight,y=c.width/c.height,v=o.media.videoWidth,m=o.media.videoHeight;g>y?(p=c.width,d=c.width/g,h=0,f=Math.round((c.height-d)/2)):g===y?(p=c.width,d=c.height,h=0,f=0):g<y&&(p=c.height*g,d=c.height,h=Math.round((c.width-p)/2),f=0),u.drawImage(o.media,0,0,v,m,h,f,p,d)}var x=c.toDataURL(s,a).replace(s,"image/octet-stream");i(x=x.replace(/^data:image\/[^;]+/,"data:application/octet-stream"))}))}},{key:"registerIcons",value:function(){return{screenshotIcon:null}}},{key:"destroy",value:function(){g(u(n.prototype),"destroy",this).call(this),this.unbind(["click","touchend"],this.onClickBtn),this.off(ve,this.initSize)}},{key:"render",value:function(){if(!this.config.disable){var e=this.icons.screenshotIcon?"xgplayer-icon":"xgplayer-icon btn-text",t="SCREENSHOT";return'\n      <xg-icon class="xgplayer-shot">\n      <div class="'.concat(e,'">\n      ').concat(this.icons.screenshotIcon?"":'<span lang-key="'.concat(this.i18nKeys[t],'">').concat(this.i18n[t],"</span>"),"\n      </div>\n    </xg-icon>")}}}],[{key:"pluginName",get:function(){return"screenShot"}},{key:"defaultConfig",get:function(){return{position:it.CONTROLS_RIGHT,index:5,quality:.92,type:"image/png",format:".png",width:600,height:337,fitVideo:!0,disable:!1,name:"screenshot"}}}]),n}(Fn),hi=function(){function e(t){r(this,e),this.config=t.config,this.parent=t.root,this.root=S.createDom("ul","",{},"xg-options-list xg-list-slide-scroll ".concat(this.config.className)),t.root.appendChild(this.root);var n=this.config.maxHeight;n&&this.setStyle({maxHeight:n}),this.onItemClick=this.onItemClick.bind(this),this.renderItemList();var i="mobile"===R.device?"touchend":"click";this._delegates=st.delegate.call(this,this.root,"li",i,this.onItemClick)}return a(e,[{key:"renderItemList",value:function(e){var t=this,n=this.config,i=this.root;e?n.data=e:e=n.data,n.style&&Object.keys(n.style).map((function(e){i.style[e]=n[e]})),e.length>0&&(this.attrKeys=Object.keys(e[0])),this.root.innerHTML="",e.map((function(e,n){var i=e.selected?"option-item selected":"option-item";e["data-index"]=n,t.root.appendChild(S.createDom("li","<span>".concat(e.showText,"</span>"),e,i))}))}},{key:"onItemClick",value:function(e){e.delegateTarget||(e.delegateTarget=e.target);var t=e.delegateTarget;if(t&&S.hasClass(t,"selected"))return!1;var n="function"==typeof this.config.onItemClick?this.config.onItemClick:null,i=this.root.querySelector(".selected");S.addClass(t,"selected"),i&&S.removeClass(i,"selected"),n(e,{from:i?this.getAttrObj(i,this.attrKeys):null,to:this.getAttrObj(t,this.attrKeys)})}},{key:"getAttrObj",value:function(e,t){if(!e||!t)return{};var n={};t.map((function(t){n[t]=e.getAttribute(t)}));var i=e.getAttribute("data-index");return i&&(n.index=Number(i)),n}},{key:"show",value:function(){S.removeClass(this.root,"hide"),S.addClass(this.root,"active")}},{key:"hide",value:function(){S.removeClass(this.root,"active"),S.addClass(this.root,"hide")}},{key:"setStyle",value:function(e){var t=this;Object.keys(e).forEach((function(n){t.root.style[n]=e[n]}))}},{key:"destroy",value:function(){this._delegates&&(this._delegates.map((function(e){e.destroy&&e.destroy()})),this._delegates=null),this.root.innerHTML=null,this.parent.removeChild(this.root),this.root=null}}]),e}(),fi="side",pi="middle",di="click",gi="hover",yi="mobile"===R.device,vi=function(e){l(i,e);var t=p(i);function i(e){var n;return r(this,i),s(h(n=t.call(this,e)),"onEnter",(function(e){e.stopPropagation(),n.emit("icon_mouseenter",{pluginName:n.pluginName}),n.switchActiveState(e)})),s(h(n),"switchActiveState",(function(e){e.stopPropagation(),n.config.toggleMode===di?n.toggle(!n.isActive):n.toggle(!0)})),s(h(n),"onLeave",(function(e){e.stopPropagation(),n.emit("icon_mouseleave",{pluginName:n.pluginName}),n.config.listType!==fi&&n.isActive&&n.toggle(!1)})),s(h(n),"onListEnter",(function(e){n.enterType=2})),s(h(n),"onListLeave",(function(e){n.enterType=0,n.isActive&&n.toggle(!1)})),n.isIcons=!1,n.isActive=!1,n.curValue=null,n.curIndex=0,n}return a(i,[{key:"updateLang",value:function(e){this.renderItemList(this.config.list,this.curIndex)}},{key:"afterCreate",value:function(){var e=this,t=this.config;this.initIcons(),yi&&t.listType!==pi&&(t.listType=fi),t.hidePortrait&&S.addClass(this.root,"portrait"),this.on([ve,fe],(function(){e._resizeList()})),this.once(K,(function(){t.list&&t.list.length>0&&(e.renderItemList(t.list),e.show())})),yi&&this.on(te,(function(){e.isActive&&(e.optionsList&&e.optionsList.hide(),e.isActive=!1)})),yi?(t.toggleMode=di,this.activeEvent="touchend"):this.activeEvent=t.toggleMode===di?"click":"mouseenter",t.toggleMode===di?this.bind(this.activeEvent,this.switchActiveState):(this.bind(this.activeEvent,this.onEnter),this.bind("mouseleave",this.onLeave)),this.isIcons&&this.bind("click",this.onIconClick)}},{key:"initIcons",value:function(){var e=this,t=this.icons,n=Object.keys(t),i=!1;n.length>0&&(n.forEach((function(n){e.appendChild(".xgplayer-icon",t[n]),!i&&(i=t[n])})),this.isIcons=i),i||(this.appendChild(".xgplayer-icon",S.createDom("span","",{},"icon-text")),S.addClass(this.find(".xgplayer-icon"),"btn-text"))}},{key:"show",value:function(){!this.config.list||this.config.list.length<2||S.addClass(this.root,"show")}},{key:"hide",value:function(){S.removeClass(this.root,"show")}},{key:"getTextByLang",value:function(e,t,i){if(void 0===e)return"";var r=this.config.list;!i&&(i=this.player.lang),t=!t||S.isUndefined(e[t])?"text":t,"number"==typeof e&&(e=r[e]);try{return"object"===n(e[t])?e[t][i]||e[t].en:e[t]}catch(a){return console.warn(a),""}}},{key:"toggle",value:function(e){if(e!==this.isActive){var t=this.player.controls,n=this.config.listType;e?(n===fi?t.blur():t.focus(),this.optionsList&&this.optionsList.show()):(n===fi?t.focus():t.focusAwhile(),this.optionsList&&this.optionsList.hide()),this.isActive=e}}},{key:"onItemClick",value:function(e,t){e.stopPropagation();var n=this.config,i=n.listType,r=n.list;this.curIndex=t.to.index,this.curItem=r[this.curIndex],this.changeCurrentText(),(this.config.isItemClickHide||yi||i===fi)&&this.toggle(!1)}},{key:"onIconClick",value:function(e){}},{key:"changeCurrentText",value:function(){if(!this.isIcons){var e=this.config.list,t=e[this.curIndex<e.length?this.curIndex:0];t&&(this.find(".icon-text").innerHTML=this.getTextByLang(t,"iconText"))}}},{key:"renderItemList",value:function(e,t){var n=this,i=this.config,r=this.optionsList,o=this.player;if("number"==typeof t&&(this.curIndex=t,this.curItem=i.list[t]),r)return r.renderItemList(e),void this.changeCurrentText();var a,s,l={config:{data:e||[],className:(a=i.listType,s=i.position,a===fi?s===it.CONTROLS_LEFT?"xg-side-list xg-left-side":"xg-side-list xg-right-side":""),onItemClick:function(e,t){n.onItemClick(e,t)}},root:i.listType===fi?o.innerContainer||o.root:this.root};if(this.config.isShowIcon){var u=this.player.root.getBoundingClientRect().height,c=i.listType===pi?u-50:u;c&&(l.config.maxHeight="".concat(c,"px")),this.optionsList=new hi(l),this.changeCurrentText(),this.show()}this._resizeList()}},{key:"_resizeList",value:function(){var e=this.player.root.getBoundingClientRect().height,t=this.config.listType===pi?e-50:e;this.optionsList&&this.optionsList.setStyle({maxHeight:"".concat(t,"px")})}},{key:"destroy",value:function(){this.config.toggleMode===di?this.unbind(this.activeEvent,this.switchActiveState):(this.unbind(this.activeEvent,this.onEnter),this.unbind("mouseleave",this.onLeave)),this.isIcons&&this.unbind("click",this.onIconClick),this.optionsList&&(this.optionsList.destroy(),this.optionsList=null)}},{key:"render",value:function(){if(this.config.isShowIcon)return'<xg-icon class="xg-options-icon '.concat(this.config.className||"",'">\n    <div class="xgplayer-icon">\n    </div>\n   </xg-icon>')}}],[{key:"pluginName",get:function(){return"optionsIcon"}},{key:"defaultConfig",get:function(){return{position:it.CONTROLS_RIGHT,index:100,list:[],listType:"middle",listStyle:{},hidePortrait:!0,isShowIcon:!1,isItemClickHide:!0,toggleMode:gi}}}]),i}(st),mi=function(e){l(i,e);var n=p(i);function i(e){var t;return r(this,i),(t=n.call(this,e)).curTime=0,t.isPaused=!0,t}return a(i,[{key:"beforeCreate",value:function(e){var t=e.config.list;Array.isArray(t)&&t.length>0&&(e.config.list=t.map((function(e){return!e.text&&e.name&&(e.text=e.name),e.text||(e.text=e.definition),e})))}},{key:"afterCreate",value:function(){var e=this;g(u(i.prototype),"afterCreate",this).call(this),this.on("resourceReady",(function(t){e.changeDefinitionList(t)})),this.on(ge,(function(t){e.renderItemList(e.config.list,t.to)})),this.player.definitionList.length<2&&this.hide()}},{key:"show",value:function(){!this.config.list||this.config.list.length<2||S.addClass(this.root,"show")}},{key:"initDefinition",value:function(){var e=this.config,t=e.list,n=e.defaultDefinition;if(t.length>0){var i=null;t.map((function(e){e.definition===n&&(i=e)})),i||(i=t[0]),this.changeDefinition(i)}}},{key:"renderItemList",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.config.list||[],r=arguments.length>1?arguments[1]:void 0,o=r&&r.definition?r.definition:this.config.defaultDefinition;r&&n.forEach((function(e){e.selected=!1}));var a=0,s=n.map((function(n,i){var r=t(t({},n),{},{showText:e.getTextByLang(n)||n.definition,selected:!1});return(n.selected||n.definition&&n.definition==o)&&(r.selected=!0,a=i),r}));g(u(i.prototype),"renderItemList",this).call(this,s,a)}},{key:"changeDefinitionList",value:function(e){Array.isArray(e)&&(this.config.list=e.map((function(e){return!e.text&&e.name&&(e.text=e.name),e.text||(e.text=e.definition),e})),this.renderItemList(),this.config.list.length<2?this.hide():this.show())}},{key:"changeDefinition",value:function(e,t){this.player.changeDefinition(e,t)}},{key:"onItemClick",value:function(e,t){var n=this.player.definitionList;g(u(i.prototype),"onItemClick",this).apply(this,arguments),this.emitUserAction(e,"change_definition",{from:t.from,to:t.to});for(var r=0;r<n.length;r++)t.to&&n[r].definition===t.to.definition&&(t.to.url=n[r].url),t.from&&n[r].definition===t.from.definition&&(t.from.url=n[r].url);this.player.changeDefinition(t.to,t.from)}}],[{key:"pluginName",get:function(){return"definition"}},{key:"defaultConfig",get:function(){return t(t({},vi.defaultConfig),{},{position:it.CONTROLS_RIGHT,index:3,list:[],defaultDefinition:"",disable:!1,hidePortrait:!1,className:"xgplayer-definition",isShowIcon:!0})}}]),i}(vi),xi=function(e){l(i,e);var n=p(i);function i(e){var t;return r(this,i),(t=n.call(this,e)).curRate=1,t}return a(i,[{key:"beforeCreate",value:function(e){var t=e.player.config.playbackRate,n=t?Array.isArray(t)?t:e.config.list:[];Array.isArray(n)&&(e.config.list=n.map((function(e){return"number"==typeof e?e={rate:e,text:"".concat(e,"x")}:!e.text&&e.rate&&(e.text="".concat(e.rate,"x")),e})))}},{key:"afterCreate",value:function(){var e=this;g(u(i.prototype),"afterCreate",this).call(this),this.on(J,(function(){e.curValue!==e.player.playbackRate&&e.renderItemList()})),this.renderItemList()}},{key:"show",value:function(){this.config.list&&0!==this.config.list.length&&g(u(i.prototype),"show",this).call(this)}},{key:"onItemClick",value:function(e,t){g(u(i.prototype),"onItemClick",this).apply(this,arguments);var n=e.delegateTarget,r=Number(n.getAttribute("rate"));if(!r||r===this.curValue)return!1;var o={playbackRate:{from:this.player.playbackRate,to:r}};this.emitUserAction(e,"change_rate",{props:o}),this.curValue=r,this.player.playbackRate=r}},{key:"renderItemList",value:function(){var e=this,t=this.player.playbackRate||1;this.curValue=t;var n=-1,r=this.config.list.map((function(i,r){var o={rate:i.rate};return o.rate===t&&(o.selected=!0,n=r),o.showText=e.getTextByLang(i),o}));g(u(i.prototype),"renderItemList",this).call(this,r,n)}},{key:"changeCurrentText",value:function(){if(!this.isIcons){var e=this.config.list,t=e[this.curIndex<e.length?this.curIndex:0],n="";n=!t||this.curIndex<0?"".concat(this.player.playbackRate,"x"):this.getTextByLang(t,"iconText"),this.find(".icon-text").innerHTML=n}}},{key:"destroy",value:function(){g(u(i.prototype),"destroy",this).call(this)}}],[{key:"pluginName",get:function(){return"playbackRate"}},{key:"defaultConfig",get:function(){return t(t({},vi.defaultConfig),{},{position:it.CONTROLS_RIGHT,index:4,list:[2,1.5,1,.75,.5],className:"xgplayer-playbackrate",isShowIcon:!0,hidePortrait:!1})}}]),i}(vi);function bi(){return(new DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg" width="31" height="40" viewBox="0 -5 31 40">\n  <path fill="#fff" transform="scale(1.3, 1.3)" class=\'path_full\' d="M9,10v1a.9.9,0,0,1-1,1,.9.9,0,0,1-1-1V9A.9.9,0,0,1,8,8h2a.9.9,0,0,1,1,1,.9.9,0,0,1-1,1Zm6,4V13a1,1,0,0,1,2,0v2a.9.9,0,0,1-1,1H14a1,1,0,0,1,0-2Zm3-7H6V17H18Zm2,0V17a2,2,0,0,1-2,2H6a2,2,0,0,1-2-2V7A2,2,0,0,1,6,5H18A2,2,0,0,1,20,7Z"></path>\n</svg>\n',"image/svg+xml").firstChild}function ki(){return(new DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg" width="31" height="40" viewBox="0 -5 31 40">\n  <path fill="#fff" transform="scale(1.3, 1.3)" d="M9,10V9a.9.9,0,0,1,1-1,.9.9,0,0,1,1,1v2a.9.9,0,0,1-1,1H8a.9.9,0,0,1-1-1,.9.9,0,0,1,1-1Zm6,4v1a1,1,0,0,1-2,0V13a.9.9,0,0,1,1-1h2a1,1,0,0,1,0,2Zm3-7H6V17H18Zm2,0V17a2,2,0,0,1-2,2H6a2,2,0,0,1-2-2V7A2,2,0,0,1,6,5H18A2,2,0,0,1,20,7Z"></path>\n</svg>\n',"image/svg+xml").firstChild}var wi=function(e){l(n,e);var t=p(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"beforeCreate",value:function(e){"boolean"==typeof e.player.config.cssFullscreen&&(e.config.disable=!e.player.config.cssFullscreen)}},{key:"afterCreate",value:function(){var e=this;g(u(n.prototype),"afterCreate",this).call(this),this.config.disable||(this.config.target&&(this.playerConfig.fullscreenTarget=this.config.target),this.initIcons(),this.on(pe,(function(t){e.animate(t)})),this.btnClick=this.btnClick.bind(this),this.handleCssFullscreen=this.hook("cssFullscreen_change",this.btnClick,{pre:function(e){e.preventDefault(),e.stopPropagation()}}),this.bind(["click","touchend"],this.handleCssFullscreen))}},{key:"initIcons",value:function(){var e=this.icons,t=this.find(".xgplayer-icon");t.appendChild(e.cssFullscreen),t.appendChild(e.exitCssFullscreen)}},{key:"btnClick",value:function(e){e.preventDefault(),e.stopPropagation();var t=this.player.isCssfullScreen;this.emitUserAction(e,"switch_cssfullscreen",{cssfullscreen:t}),t?this.player.exitCssFullscreen():this.player.getCssFullscreen()}},{key:"animate",value:function(e){this.root&&(e?this.setAttr("data-state","full"):this.setAttr("data-state","normal"),this.switchTips(e))}},{key:"switchTips",value:function(e){var t=this.i18nKeys,n=this.find(".xg-tips");n&&this.changeLangTextKey(n,e?t.EXITCSSFULLSCREEN_TIPS:t.CSSFULLSCREEN_TIPS)}},{key:"registerIcons",value:function(){return{cssFullscreen:{icon:bi,class:"xg-get-cssfull"},exitCssFullscreen:{icon:ki,class:"xg-exit-cssfull"}}}},{key:"destroy",value:function(){g(u(n.prototype),"destroy",this).call(this),this.unbind(["click","touchend"],this.btnClick)}},{key:"render",value:function(){if(!this.config.disable)return"<xg-icon class='xgplayer-cssfullscreen'>\n    <div class=\"xgplayer-icon\">\n    </div>\n    ".concat(Xt(this,"CSSFULLSCREEN_TIPS",this.playerConfig.isHideTips),"\n    </xg-icon>")}}],[{key:"pluginName",get:function(){return"cssFullscreen"}},{key:"defaultConfig",get:function(){return{position:it.CONTROLS_RIGHT,index:1,disable:!1,target:null}}}]),n}(Fn),Ci=function(e){l(n,e);var t=p(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"afterCreate",value:function(){var e=this;this.clickHandler=this.hook("errorRetry",this.errorRetry,{pre:function(e){e.preventDefault(),e.stopPropagation()}}),this.onError=this.hook("showError",this.handleError),this.bind(".xgplayer-error-refresh","click",this.clickHandler),this.on(z,(function(t){e.onError(t)}))}},{key:"errorRetry",value:function(e){this.emitUserAction(e,"error_retry",{}),this.player.retry()}},{key:"handleError",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.player,n=e.errorType,i=t.errorNote?this.i18n[t.errorNote]:"";if(!i)switch(n){case"decoder":i=this.i18n.MEDIA_ERR_DECODE;break;case"network":i=this.i18n.MEDIA_ERR_NETWORK;break;default:i=this.i18n.MEDIA_ERR_SRC_NOT_SUPPORTED}this.find(".xgplayer-error-text").innerHTML=i,this.find(".xgplayer-error-tips").innerHTML="".concat(this.i18n.REFRESH_TIPS,'<span class="xgplayer-error-refresh">').concat(this.i18n.REFRESH,"</span>")}},{key:"destroy",value:function(){this.unbind(".xgplayer-error-refresh","click",this.clickHandler)}},{key:"render",value:function(){return'<xg-error class="xgplayer-error">\n      <div class="xgplayer-errornote">\n       <span class="xgplayer-error-text"></span>\n       <span class="xgplayer-error-tips"><em class="xgplayer-error-refresh"></em></span>\n      </div>\n    </xg-error>'}}],[{key:"pluginName",get:function(){return"error"}}]),n}(st),_i=function(e){l(n,e);var t=p(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"afterCreate",value:function(){var e=this;this.intervalId=0,this.customConfig=null,this.bind(".highlight",["click","touchend"],(function(t){(e.config.onClick||e.customOnClick)&&(t.preventDefault(),t.stopPropagation(),e.customOnClick?e.customOnClick(t):e.config.onClick(t))})),this.player.showPrompt=function(){e.show.apply(e,arguments)},this.player.hidePrompt=function(){e.hide()}}},{key:"setStyle",value:function(e){var t=this;Object.keys(e).map((function(n){t.root.style[n]=e[n]}))}},{key:"show",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};if(e){this.customOnClick=i;var r=this.config.interval;if(this.intervalId&&(clearTimeout(this.intervalId),this.intervalId=null),S.addClass(this.root,"show"),"arrow"===n.mode&&S.addClass(this.root,"arrow"),this.find(".xgplayer-prompt-detail").innerHTML="string"==typeof e?e:"".concat(e.text||"")+"".concat(e.highlight?'<i class="highlight">'.concat(e.highlight,"</i>"):""),n.style&&this.setStyle(n.style),"boolean"==typeof n.autoHide?n.autoHide:this.config.autoHide){var o=n.interval||r;this.intervalId=setTimeout((function(){t.hide()}),o)}}}},{key:"hide",value:function(){S.removeClass(this.root,"show"),S.removeClass(this.root,"arrow"),this.root.removeAttribute("style"),this.customOnClick=null}},{key:"render",value:function(){return'<xg-prompt class="xgplayer-prompt '.concat(ht.CONTROLS_FOLLOW,'">\n    <span class="xgplayer-prompt-detail"></span>\n    </xg-prompt>')}}],[{key:"pluginName",get:function(){return"prompt"}},{key:"defaultConfig",get:function(){return{interval:3e3,style:{},mode:"arrow",autoHide:!0,detail:{text:"",highlight:""},onClick:function(){}}}}]),n}(st),Ti={time:0,text:"",id:1,duration:1,color:"#fff",style:{},width:6,height:6};function Si(e){Object.keys(Ti).map((function(t){void 0===e[t]&&(e[t]=Ti[t])}))}var Ei={_updateDotDom:function(e,t){if(t){var n=this.calcuPosition(e.time,e.duration),i=e.style||{};i.left="".concat(n.left,"%"),i.width="".concat(n.width,"%"),t.setAttribute("data-text",e.text),t.setAttribute("data-time",e.time),n.isMini?S.addClass(t,"mini"):S.removeClass(t,"mini"),Object.keys(i).map((function(e){t.style[e]=i[e]}))}},initDots:function(){var e=this;this._ispots.map((function(t){e.createDot(t,!1)})),this.ispotsInit=!0},createDot:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.player.plugins.progress;if(n&&(t&&(Si(e),this._ispots.push(e)),this.ispotsInit||!t)){var i=this.calcuPosition(e.time,e.duration),r=e.style||{};r.left="".concat(i.left,"%"),r.width="".concat(i.width,"%");var o="xgspot_".concat(e.id," xgplayer-spot");i.isMini&&(o+=" mini");var a=e.template?'<div class="xgplayer-spot-pop">'.concat(e.template,"</div>"):"",s=S.createDom("xg-spot",a,{"data-text":e.text,"data-time":e.time,"data-id":e.id},o);Object.keys(r).map((function(e){s.style[e]=r[e]})),n.outer&&n.outer.appendChild(s),this.positionDot(s,e.id)}},findDot:function(e){if(this.player.plugins.progress){var t=this._ispots.filter((function(t,n){return t.id===e}));return t.length>0?t[0]:null}},updateDot:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.player.plugins.progress;if(n){var i=this.findDot(e.id);if(i&&Object.keys(e).map((function(t){i[t]=e[t]})),this.ispotsInit){var r=n.find('xg-spot[data-id="'.concat(e.id,'"]'));r&&(this._updateDotDom(e,r),t&&this.showDot(e.id))}}},deleteDot:function(e){var t=this._ispots,n=this.player.plugins.progress;if(n){for(var i=[],r=0;r<t.length;r++)t[r].id===e&&i.push(r);for(var o=i.length-1;o>=0;o--)if(t.splice(i[o],1),this.ispotsInit){var a=n.find('xg-spot[data-id="'.concat(e,'"]'));a&&a.parentElement.removeChild(a)}}},deleteAllDots:function(){var e=this.player.plugins.progress;if(e)if(this.ispotsInit){for(var t=e.root.getElementsByTagName("xg-spot"),n=t.length-1;n>=0;n--)e.outer.removeChild(t[n]);this._ispots=[]}else this._ispots=[]},updateAllDots:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=this.player.plugins.progress;if(n)if(this.ispotsInit){this._ispots=[];var i=n.root.getElementsByTagName("xg-spot"),r=i.length;if(r>t.length)for(var o=r-1;o>t.length-1;o--)n.outer.removeChild(i[o]);t.forEach((function(t,n){n<r?(i[n].setAttribute("data-id","".concat(t.id)),e._ispots.push(t),e.updateDot(t)):e.createDot(t)}))}else this._ispots=t},positionDots:function(){var e=this,t=this._ispots,n=this.playerSize,i=this.player.sizeInfo,r=this.player.plugins.progress;r&&i.width!==n.width&&(n.width=i.width,n.left=i.left,t.forEach((function(t){var n=r.find('xg-spot[data-id="'.concat(t.id,'"]'));n&&e.positionDot(n,t.id)})))},positionDot:function(e,t){var n=S.findDom(e,".xgplayer-spot-pop");if(n){var i=this.playerSize,r=e.getBoundingClientRect(),o=n.getBoundingClientRect(),a=r.left-i.left,s=i.width-a-r.width/2;if(a<o.width/2||i.width<o.width){var l=o.width/2-a;n.style.left="".concat(l,"px")}else if(s<o.width/2){var u=s-o.width/2+r.width/2;n.style.left="".concat(u,"px")}else n.style.left="50%"}},updateDuration:function(){var e=this,t=this.player.plugins.progress;t&&this._ispots.forEach((function(n){var i=t.find('xg-spot[data-id="'.concat(n.id,'"]'));e._updateDotDom(n,i)}))},getAllDotsDom:function(){var e=this.player.plugins.progress;return e?e.root.getElementsByTagName("xg-spot"):[]},getDotDom:function(e){var t=this.player.plugins.progress;if(t)return t.find('xg-spot[data-id="'.concat(e,'"]'))}},Pi={dragmove:"onProgressMove",dragstart:"onProgressDragStart",dragend:"onProgressDragEnd",click:"onProgressClick",mouseover:"onProgressMouseOver",mouseenter:"onProgressMouseOver"},Ai=function(e){l(n,e);var t=p(n);function n(e){var i;return r(this,n),s(h(i=t.call(this,e)),"onMousemove",(function(e){i.config.disable||(S.hasClass(e.target,"xg-spot-content")&&i.config.isHideThumbnailHover?i.player.plugins.progress.onMouseLeave(e):(i._state.f||S.hasClass(e.target,"xg-spot-content"))&&(S.event(e),e.stopPropagation()))})),s(h(i),"onMousedown",(function(e){i.config.disable||(i._state.f||S.hasClass(e.target,"xg-spot-content"))&&(S.event(e),e.stopPropagation())})),s(h(i),"onMouseup",(function(e){if(i.isDrag){var t=i.player.plugins.progress;t&&t.pos&&(t.onMouseUp(e),!t.pos.isEnter&&t.onMouseLeave(e))}})),s(h(i),"onDotMouseLeave",(function(e){if(!i.config.disable){i._curDot.removeEventListener("mouseleave",i.onDotMouseLeave),i.blurDot(e.target),i._curDot=null;var t=i.player.plugins.progress;t&&t.enableBlur(),i.show()}})),s(h(i),"onProgressMouseOver",(function(e,t){if(!i.config.disable&&S.hasClass(t.target,"xgplayer-spot")&&!i._curDot){i._curDot=t.target,i.focusDot(t.target),i._curDot.children.length>0&&i.hide();var n=i.player.plugins.progress;n&&n.disableBlur(),i._curDot.addEventListener("mouseleave",i.onDotMouseLeave)}})),i._ispots=[],i.videoPreview=null,i.videothumbnail=null,i.thumbnail=null,i.timeStr="",i._state={now:0,f:!1},i}return a(n,[{key:"beforeCreate",value:function(e){var t=e.player.plugins.progress;t&&(e.root=t.root)}},{key:"afterCreate",value:function(){var e=this;this._curDot=null,this.handlerSpotClick=this.hook("spotClick",(function(t,n){n.seekTime&&e.player.seek(n.seekTime)})),this.transformTimeHook=this.hook("transformTime",(function(t){e.setTimeContent(t)})),function(e){var t=e.config,n=e.player;Object.keys(Ei).map((function(t){e[t]=Ei[t].bind(e)}));var i=n.config.progressDot||t.ispots||[];e._ispots=i.map((function(e){return Si(e),e})),e.ispotsInit=!1,e.playerSize={left:n.sizeInfo.left,width:n.sizeInfo.width},e.on($,(function(){e.ispotsInit?e.updateDuration():e.initDots()})),e.on(ve,(function(){e.positionDots()}))}(this),this.on($,(function(){e.show()})),this.config.disable&&this.disable(),this.extTextRoot=this.find(".xg-spot-ext-text")}},{key:"setConfig",value:function(e){var t=this;e&&Object.keys(e).map((function(n){t.config[n]=e[n]}))}},{key:"onPluginsReady",value:function(){this.player.plugins.progress&&(this.previewLine=this.find(".xg-spot-line"),this.timePoint=this.find(".xgplayer-progress-point"),this.timeText=this.find(".xg-spot-time"),this.tipText=this.find(".spot-inner-text"),this._hasThumnail=!1,this.registerThumbnail(),this.bindEvents())}},{key:"bindEvents",value:function(){var e=this,t=this.player.plugins.progress;if(t&&(Object.keys(Pi).map((function(n){e[Pi[n]]=e[Pi[n]].bind(e),t.addCallBack(n,e[Pi[n]])})),"mobile"!==R.device)){this.bind(".xg-spot-info","mousemove",this.onMousemove),this.bind(".xg-spot-info","mousedown",this.onMousedown),this.bind(".xg-spot-info","mouseup",this.onMouseup);var n=this.hook("previewClick",(function(){}));this.handlerPreviewClick=function(t){t.stopPropagation(),n(parseInt(1e3*e._state.now,10)/1e3,t)},this.bind(".xg-spot-content","mouseup",this.handlerPreviewClick)}}},{key:"onProgressMove",value:function(e,t){!this.config.disable&&this.player.duration&&this.updatePosition(e.offset,e.width,e.currentTime,e.e)}},{key:"onProgressDragStart",value:function(e){!this.config.disable&&this.player.duration&&(this.isDrag=!0,this.videoPreview&&S.addClass(this.videoPreview,"show"))}},{key:"onProgressDragEnd",value:function(e){!this.config.disable&&this.player.duration&&(this.isDrag=!1,this.videoPreview&&S.removeClass(this.videoPreview,"show"))}},{key:"onProgressClick",value:function(e,t){this.config.disable||S.hasClass(t.target,"xgplayer-spot")&&(t.stopPropagation(),t.preventDefault(),["time","id","text"].map((function(n){e[n]=t.target.getAttribute("data-".concat(n))})),e.time&&(e.time=Number(e.time)),this.handlerSpotClick(t,e))}},{key:"updateLinePos",value:function(e,t){var n=this.root,i=this.previewLine,r=this.player,o=this.config,a="flex"===r.controls.mode,s=n.getBoundingClientRect().width;if(s||!this._hasThumnail){var l,u=e-(s=this._hasThumnail&&s<o.width?o.width:s)/2;u<0&&!a?(u=0,l=e-s/2):u>t-s&&!a?(l=u-(t-s),u=t-s):l=0,void 0!==l&&(i.style.transform="translateX(".concat(l.toFixed(2),"px)")),n.style.transform="translateX(".concat(u.toFixed(2),"px) translateZ(0)")}}},{key:"updateTimeText",value:function(e){var t=this.timeText,n=this.timePoint;t.innerHTML=e,!this.thumbnail&&(n.innerHTML=e)}},{key:"updatePosition",value:function(e,t,n,i){var r=this.root,o=this.config,a=this._state;if(r){a.now=n,this.transformTimeHook(n);var s=this.timeStr;i&&i.target&&S.hasClass(i.target,"xgplayer-spot")?(this.showTips(i.target.getAttribute("data-text"),!1,s),this.focusDot(i.target),a.f=!0,o.isFocusDots&&a.f&&(a.now=parseInt(i.target.getAttribute("data-time"),10))):o.defaultText?(a.f=!1,this.showTips(o.defaultText,!0,s)):(a.f=!1,this.hideTips("")),this.updateTimeText(s),this.updateThumbnails(a.now),this.updateLinePos(e,t)}}},{key:"setTimeContent",value:function(e){this.timeStr="".concat(S.format(e))}},{key:"updateThumbnails",value:function(e){var t=this.player,n=this.videoPreview,i=this.config,r=t.plugins.thumbnail;if(r&&r.usable){this.thumbnail&&r.update(this.thumbnail,e,i.width,i.height);var o=n&&n.getBoundingClientRect();this.videothumbnail&&r.update(this.videothumbnail,e,o.width,o.height)}}},{key:"registerThumbnail",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("mobile"!==R.device){var t=this.player,n=this.config,i=t.getPlugin("thumbnail");if(i&&i.setConfig(e),i&&i.usable&&n.isShowThumbnail){S.removeClass(this.root,"short-line no-thumbnail"),"short"===n.mode&&S.addClass(this.root,"short-line"),this._hasThumnail=!0;var r=this.find(".xg-spot-thumbnail");this.thumbnail=i.createThumbnail(r,"progress-thumbnail"),n.isShowCoverPreview&&(this.videoPreview=S.createDom("xg-video-preview","",{},"xgvideo-preview"),t.root.appendChild(this.videoPreview),this.videothumbnail=i.createThumbnail(this.videoPreview,"xgvideo-thumbnail")),this.updateThumbnails(0)}else S.addClass(this.root,"short-line no-thumbnail")}}},{key:"calcuPosition",value:function(e,t){var n=this.player.plugins.progress,i=this.player,r=n.root.getBoundingClientRect().width,o=i.duration/r*6;return e+t>i.duration&&(t=i.duration-e),i.duration,i.duration,{left:e/i.duration*100,width:t/i.duration*100,isMini:t<o}}},{key:"showDot",value:function(e){var t=this.findDot(e);if(t){var n=this.root.getBoundingClientRect().width,i=t.time/this.player.duration*n;this.updatePosition(i,n,t.time)}}},{key:"focusDot",value:function(e,t){e&&(t||(t=e.getAttribute("data-id")),S.addClass(e,"active"),this._activeDotId=t)}},{key:"blurDot",value:function(e){if(!e){var t=this._activeDotId;e=this.getDotDom(t)}e&&(S.removeClass(e,"active"),this._activeDotId=null)}},{key:"showTips",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";S.addClass(this.root,"no-timepoint"),e&&(S.addClass(this.find(".xg-spot-content"),"show-text"),t&&"production"===this.config.mode?(S.addClass(this.root,"product"),this.tipText.textContent=e):(S.removeClass(this.root,"product"),this.tipText.textContent=this._hasThumnail?e:"".concat(n," ").concat(e)))}},{key:"hideTips",value:function(){S.removeClass(this.root,"no-timepoint"),this.tipText.textContent="",S.removeClass(this.find(".xg-spot-content"),"show-text"),S.removeClass(this.root,"product")}},{key:"hide",value:function(){S.addClass(this.root,"hide")}},{key:"show",value:function(){S.removeClass(this.root,"hide")}},{key:"enable",value:function(){var e=this.config,t=this.playerConfig;this.config.disable=!1,this.show(),!this.thumbnail&&e.isShowThumbnail&&this.registerThumbnail(t.thumbnail||{})}},{key:"disable",value:function(){this.config.disable=!0,this.hide()}},{key:"destroy",value:function(){var e=this,t=this.player.plugins.progress;t&&Object.keys(Pi).map((function(n){t.removeCallBack(n,e[Pi[n]])})),this.videothumbnail=null,this.thumbnail=null,this.videoPreview&&this.player.root.removeChild(this.videoPreview),this.unbind(".xg-spot-info","mousemove",this.onMousemove),this.unbind(".xg-spot-info","mousedown",this.onMousedown),this.unbind(".xg-spot-info","mouseup",this.onMouseup),this.unbind(".xg-spot-content","mouseup",this.handlerPreviewClick)}},{key:"render",value:function(){return"mobile"===R.device||"mobile"===this.playerConfig.isMobileSimulateMode?"":'<div class="xg-spot-info hide '.concat("short"===this.config.mode?"short-line":"",'">\n      <div class="xg-spot-content">\n        <div class="xg-spot-thumbnail">\n          <span class="xg-spot-time"></span>\n        </div>\n        <div class="xg-spot-text"><span class="spot-inner-text"></span></div>\n      </div>\n      <div class="xgplayer-progress-point">00:00</div>\n      <div class="xg-spot-ext-text"></div>\n      <div class="xg-spot-line"></div>\n    </div>')}}],[{key:"pluginName",get:function(){return"progresspreview"}},{key:"defaultConfig",get:function(){return{index:1,miniWidth:6,ispots:[],defaultText:"",isFocusDots:!0,isHideThumbnailHover:!0,isShowThumbnail:!0,isShowCoverPreview:!1,mode:"",disable:!1,width:160,height:90}}}]),n}(st),Li=function(e){l(n,e);var t=p(n);function n(e){var i;return r(this,n),(i=t.call(this,e)).ratio=1,i.interval=null,i._preloadMark={},i}return a(n,[{key:"afterCreate",value:function(){var e=this;this.usable&&this.initThumbnail(),this.on([$],(function(){var t=e.config,n=t.pic_num,i=t.interval;e.usable&&(e.interval=i>0?i:Math.round(1e3*e.player.duration/n)/1e3)}))}},{key:"setConfig",value:function(e){var t=this;if(e){var n=Object.keys(e);n.length<1||(n.forEach((function(n){t.config[n]=e[n]})),this.usable&&this.initThumbnail())}}},{key:"usable",get:function(){var e=this.config,t=e.urls,n=e.pic_num;return t&&t.length>0&&n>0}},{key:"initThumbnail",value:function(){var e=this.config,t=e.width,n=e.height,i=e.pic_num,r=e.interval;this.ratio=t/n*100,this.interval=r||Math.round(this.player.duration/i),this._preloadMark={}}},{key:"getUrlByIndex",value:function(e){return e>=0&&e<this.config.urls.length?this.config.urls[e]:""}},{key:"preload",value:function(e){var t=this;if(!this._preloadMark[e]){var n=this.config.urls,i=n.length,r=[];e>0&&r.push(e-1),r.push(e),e>0&&e<i-1&&r.push(e+1),r.map((function(e){!t._preloadMark[e]&&e>=0&&e<i&&(t._preloadMark[e]=1,S.preloadImg(n[e],(function(){t._preloadMark[e]=2})))}))}}},{key:"getPosition",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=this.config,r=i.pic_num,o=i.row,a=i.col,s=i.width,l=i.height;this.interval=Math.round(this.player.duration/r);var u=Math.ceil(e/this.interval),c=(u=u>r?r:u)<o*a?0:Math.ceil(u/(o*a))-1,h=u-c*(a*o),f=h>0?Math.ceil(h/a)-1:0,p=h>0?h-f*a-1:0,d=0,g=0;t&&n?t/n<s/l?d=(g=n)*(s/l):g=(d=t)/(s/l):n?t||(d=(g=n||l)*(s/l)):g=(d=t||s)/(s/l);var y=this.getUrlByIndex(c);return{urlIndex:c,rowIndex:f,colIndex:p,url:y,height:g,width:d,style:{backgroundImage:"url(".concat(y,")"),backgroundSize:"".concat(d*a,"px auto"),backgroundPosition:"-".concat(p*d,"px -").concat(f*g,"px"),width:"".concat(d,"px"),height:"".concat(g,"px")}}}},{key:"update",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=this.config,a=o.pic_num,s=o.urls;if(!(a<=0)&&s&&0!==s.length){var l=this.getPosition(t,n,i);this.preload(l.urlIndex),Object.keys(l.style).map((function(t){e.style[t]=l.style[t]})),Object.keys(r).map((function(t){e.style[t]=r[t]}))}}},{key:"changeConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setConfig(e)}},{key:"createThumbnail",value:function(e,t){var n=S.createDom("xg-thumbnail","",{},"thumbnail ".concat(t));return e&&e.appendChild(n),n}}],[{key:"pluginName",get:function(){return"thumbnail"}},{key:"defaultConfig",get:function(){return{isShow:!1,urls:[],pic_num:0,col:0,row:0,height:90,width:160,scale:1,className:"",hidePortrait:!1}}}]),n}(st),Ii=function(e){l(n,e);var t=p(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"afterCreate",value:function(){}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cached:0,played:0},t=arguments.length>1?arguments[1]:void 0;t&&this.root&&(e.cached&&(this.find("xg-mini-progress-cache").style.width="".concat(e.cached/t*100,"%")),e.played&&(this.find("xg-mini-progress-played").style.width="".concat(e.played/t*100,"%")))}},{key:"render",value:function(){if(this.playerConfig.progress&&this.playerConfig.miniprogress)return'<xg-mini-progress class="xg-mini-progress">\n    <xg-mini-progress-cache class="xg-mini-progress-cache"></xg-mini-progress-cache>\n    <xg-mini-progress-played class="xg-mini-progress-played"></xg-mini-progress-played>\n    </xg-mini-progress>'}}],[{key:"pluginName",get:function(){return"MiniProgress"}},{key:"defaultConfig",get:function(){return{}}}]),n}(st),Oi="realtime",Ri="firstframe",Di="poster";function Mi(){try{return parseInt(window.performance.now(),10)}catch(e){return(new Date).getTime()}}var Ni=null,Fi=function(e){l(n,e);var t=p(n);function n(){var e;r(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return s(h(e=t.call.apply(t,[this].concat(o))),"onLoadedData",(function(t){e.player&&(e._frameCount=e.config.startFrameCount,e.renderOnTimeupdate(t),e.off(W,e.renderOnTimeupdate),e.on(W,e.renderOnTimeupdate))})),s(h(e),"renderOnTimeupdate",(function(t){e._frameCount>0?(e.renderOnce(),e._frameCount--):(e._isLoaded=!0,e.off(W,e.renderOnTimeupdate),!e.player.paused&&e._checkIfCanStart()&&e.start())})),s(h(e),"start",(function(){var t=e.player.media,n=Mi(),i=e.checkVideoIsSupport(t);i&&e.canvasCtx&&(e.stop(),t.videoWidth&&t.videoHeight&&(e.videoPI=t.videoHeight>0?parseInt(t.videoWidth/t.videoHeight*100,10):0,(e.config.mode===Oi||n-e.preTime>=e.interval)&&(t&&t.videoWidth&&e.update(i,e.videoPI),e.preTime=n)),e.frameId=S.requestAnimationFrame(e.start))})),s(h(e),"stop",(function(){e.frameId&&(S.cancelAnimationFrame(e.frameId),e.frameId=null)})),e}return a(n,[{key:"afterCreate",value:function(){var e=this;!0===this.playerConfig.dynamicBg&&(this.config.disable=!1),n.isSupport||(this.config.disable=!0);var t=this.config,i=t.disable,r=t.mode,o=t.frameRate;i||(this._pos={width:0,height:0,rwidth:0,rheight:0,x:0,y:0,pi:0},this.isStart=!1,this._isLoaded=!1,this.videoPI=0,this.preTime=0,this.interval=parseInt(1e3/o,10),this.canvas=null,this.canvasCtx=null,this._frameCount=0,this.once(se,(function(){e.player&&(e.init(),e.player.paused||e.start())})),r!==Di&&(r!==Ri&&(this.on(ee,(function(){e.stop()})),this.on(j,(function(){e._checkIfCanStart()&&e.start()})),this.on(B,(function(){e.stop()}))),this.on(q,this.onLoadedData),this.on(Q,(function(){e._isLoaded=!1,e.stop()}))))}},{key:"init",value:function(){var e=this.player,t=this.config;this.canvasFilter=n.supportCanvasFilter();try{var i=this.config.isInnerRender&&e.innerContainer||e.root;i.insertAdjacentHTML("afterbegin",'<div class="xgplayer-dynamic-bg" data-index="'.concat(t.index,'"><canvas>\n        </canvas><xgmask></xgmask></div>')),this.root=i.children[0],this.canvas=this.find("canvas"),this.canvasFilter||(this.canvas.style.filter=t.filter,this.canvas.style.webkitFilter=t.filter),this.mask=this.find("xgmask"),t.addMask&&(this.mask.style.background=t.maskBg),this.canvasCtx=this.canvas.getContext("2d"),this.renderByPoster()}catch(o){_.logError("plugin:DynamicBg",o)}}},{key:"checkVideoIsSupport",value:function(e){if(!e)return null;var t=e&&e instanceof window.HTMLVideoElement?e:e.canvas?e.canvas:e.flyVideo?e.flyVideo:null;if(t&&("safari"!==R.browser||!S.isMSE(t)))return t;var n=t?t.tagName.toLowerCase():"";return"canvas"===n||"img"===n?t:null}},{key:"renderByPoster",value:function(){var e=this.playerConfig.poster;if(e){var t="String"===S.typeOf(e)?e:"String"===S.typeOf(e.poster)?e.poster:null;this.updateImg(t)}}},{key:"_checkIfCanStart",value:function(){var e=this.config.mode;return this._isLoaded&&e!==Ri&&e!==Di}},{key:"renderOnce",value:function(){var e=this.player.media;if(e.videoWidth&&e.videoHeight){this.videoPI=parseInt(e.videoWidth/e.videoHeight*100,10);var t=this.checkVideoIsSupport(e);t&&e.videoWidth&&this.update(t,this.videoPI)}}},{key:"updateImg",value:function(e){var t=this;if(e){var n=this.canvas.getBoundingClientRect(),i=n.width,r=n.height,o=new window.Image;o.onload=function(){if(t.canvas&&!t.frameId&&!t.isStart){t.canvas.height=r,t.canvas.width=i;var e=parseInt(i/r*100,10);t.update(o,e),o=null}},o.src=e}}},{key:"update",value:function(e,t){if(this.canvas&&this.canvasCtx&&t)try{var n=this._pos,i=this.config,r=this.canvas.getBoundingClientRect(),o=r.width,a=r.height;if(o!==n.width||a!==n.height||n.pi!==t){var s=parseInt(o/a*100,10);n.pi=t,n.width=this.canvas.width=o,n.height=this.canvas.height=a;var l=a,u=o;s<t?u=parseInt(a*t/100,10):s>t&&(l=parseInt(100*o/t,10)),n.rwidth=u*i.multiple,n.rheight=l*i.multiple,n.x=(o-n.rwidth)/2,n.y=(a-n.rheight)/2}this.canvasFilter&&(this.canvasCtx.filter=i.filter),this.canvasCtx.drawImage(e,n.x,n.y,n.rwidth,n.rheight)}catch(h){_.logError("plugin:DynamicBg",h)}}},{key:"destroy",value:function(){this.stop(),this.canvasCtx=null,this.canvas=null}},{key:"render",value:function(){return""}}],[{key:"pluginName",get:function(){return"dynamicBg"}},{key:"defaultConfig",get:function(){return{isInnerRender:!1,disable:!0,index:-1,mode:"framerate",frameRate:10,filter:"blur(50px)",startFrameCount:2,addMask:!0,multiple:1.2,maskBg:"rgba(0,0,0,0.7)"}}},{key:"isSupport",get:function(){return"boolean"==typeof Ni?Ni:Ni=function(){try{return!!document.createElement("canvas").getContext}catch(e){return!1}}()}},{key:"supportCanvasFilter",value:function(){return!("safari"===R.browser||"firefox"===R.browser)}}]),n}(st),ji="info",Hi=Ae,Ui=function(e){l(i,e);var n=p(i);function i(){var e;r(this,i);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return s(h(e=n.call.apply(n,[this].concat(a))),"_recordUserActions",(function(n){var i=e._getTime(),r=Object.assign({},n,{msg:n.msg||n.action});e._stats.info.push(t(t({type:"userAction"},i),{},{payload:r}))})),s(h(e),"_onReset",(function(){e.reset()})),s(h(e),"_recordInfo",(function(t){e.info(t)})),s(h(e),"_downloadStats",(function(){var t=e.getStats(),n=new Blob([JSON.stringify(t)],{type:"application/json"}),i=window.URL.createObjectURL(n),r=document.createElement("a");r.style.display="none",r.href=i,r.download="player.txt",r.disabled=!1,r.click()})),e}return a(i,[{key:"_getTime",value:function(){return{timestamp:Date.now(),timeFormat:(new Date).toISOString()}}},{key:"afterCreate",value:function(){this.reset(),this.on(_e,this._recordUserActions),this.on(Hi.STATS_INFO,this._recordInfo),this.on(Hi.STATS_DOWNLOAD,this._downloadStats),this.on(Hi.STATS_RESET,this._onReset)}},{key:"destroy",value:function(){this.offAll()}},{key:"downloadStats",value:function(){this._downloadStats()}},{key:"info",value:function(e){e.profile?this._infoProfile(e):this._info(e)}},{key:"_info",value:function(e){var n=this._getTime();this._stats.info.push(t(t({},n),{},{payload:e}))}},{key:"_infoProfile",value:function(e){if(e&&e.startMs){var n=t({cat:"function",dur:Date.now()-e.startMs,name:e.name||e.msg,ph:"X",pid:0,tid:0,ts:e.startMs,profile:!0},e);this._info(n)}else console.warn("infoProfile need object data, include startMs")}},{key:"reset",value:function(){var e;this._stats=(s(e={},ji,[]),s(e,"media",{}),e)}},{key:"getStats",value:function(){for(var e=this.player.media,t=[],n=0;n<e.buffered.length;n++)t.push({start:e.buffered.start(n),end:e.buffered.end(n)});var i={currentTime:e.currentTime,readyState:e.readyState,buffered:t,paused:e.paused,ended:e.ended};return this._stats.media=i,{raw:this._stats,timestat:this._getTimeStats(),profile:this._getProfile()}}},{key:"_getTimeStats",value:function(){return this._stats.info.map((function(e){var t=e.payload.data,n="";try{t instanceof Error?n=t.msg:void 0!==t&&(n=JSON.stringify(t))}catch(r){console.log("err",r)}return"[".concat(e.timeFormat,"] : ").concat(e.payload.msg," ").concat(n," ")}))}},{key:"_getProfile",value:function(){var e={traceEvents:[]};return this._stats.info.forEach((function(t){t.payload.profile&&e.traceEvents.push(t.payload)})),e}}],[{key:"pluginName",get:function(){return"stats"}},{key:"defaultConfig",get:function(){return{}}}]),i}(qe),Bi=function(e){l(n,e);var t=p(n);function n(){var e;r(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return s(h(e=t.call.apply(t,[this].concat(o))),"onGapJump",(function(){var t=h(e),i=t.player,r=t.config;if(i.media.readyState!==HTMLMediaElement.HAVE_NOTHING){if(i.media.seeking){if(!e.seekingEventReceived)return}else e.seekingEventReceived=!1;if(!i.media.paused||0===i.media.currentTime||!e.hasPlayed){var o=i.media.buffered,a=r.smallGapLimit||.5,s=r.gapDetectionThreshold||.3,l=i.media.currentTime,u=e._getIndex(o,l,s);if(null!==u&&0!==u){console.log("GapJump  bufferRange ",o.start(u),o.end(u));var c=o.start(u)+.1;if(!(c>i.media.duration)){var f=c-l,p=f<=a;f<n.BROWSER_GAP_TOLERANCE||p&&(!1!==r.useGapJump&&(i.media.currentTime=e.isSafari?c+.1:c),e.player&&e.player.emit("detectGap"),console.log("gapJump gapIndex",u," isGapSamll:",p," currentTime:",i.media.currentTime," jumpSize:",l-i.media.currentTime),.08!==c&&i&&i.emit("log",{type:"oneevent",end_type:"gap",vid:i.config.vid,ext:{video_postion:Math.floor(1e3*c)}}))}}}}})),e}return a(n,[{key:"afterCreate",value:function(){var e=this;!1!==this.config.useGapJump&&(this.hasPlayed=!1,this.seekingEventReceived=!1,this.isSafari=/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),this.on(Y,this.onGapJump),this.on(j,(function(){e.hasPlayed=!0})),this.on(V,(function(){e.seekingEventReceived=!0})))}},{key:"_getIndex",value:function(e,t,n){if(!e||!e.length)return null;if(1===e.length&&e.end(0)-e.start(0)<1e-6)return null;for(var i=this._getBuffered(e),r=null,o=0;o<i.length;o++)if(i[o].start>t&&(0===o||i[o-1].end-t<=n)){r=o;break}return r}},{key:"_getBuffered",value:function(e){if(!e)return[];for(var t=[],n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});return t}}],[{key:"pluginName",get:function(){return"gapJump"}},{key:"defaultConfig",get:function(){return{useGapJump:!1,smallGapLimit:.5,gapDetectionThreshold:.3}}}]),n}(st);Bi.BROWSER_GAP_TOLERANCE=.001;var zi=function(e){l(n,e);var t=p(n);function n(){var e;r(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return s(h(e=t.call.apply(t,[this].concat(o))),"onWaiting",(function(){var t=h(e).config;e.jumpCnt>t.jumpCntMax||e.timer||!1===t.useWaitingTimeoutJump||(e.timer=setTimeout(e.onJump,1e3*t.waitingTime))})),s(h(e),"onJump",(function(){var t=h(e),n=t.player,i=t.config;if(clearTimeout(e.timer),e.timer=null,!(e.jumpCnt>i.jumpCntMax||!1===i.useWaitingTimeoutJump||n.media.paused&&0!==n.media.currentTime&&e.hasPlayed)){e.jumpSize=i.jumpSize*(e.jumpCnt+1),e.jumpCnt===i.jumpSize&&e.jumpSize<6&&(e.jumpSize=6);var r=n.currentTime+e.jumpSize;r>n.media.duration||(console.log("waitintTimeout, currentTime:",n.currentTime,", jumpTo:",r),e.jumpCnt++,n.currentTime=r)}})),e}return a(n,[{key:"afterCreate",value:function(){var e=this,t=this.config,n=t.useWaitingTimeoutJump,i=t.jumpSize;!1!==n&&(this.hasPlayed=!1,this.jumpCnt=0,this.timer=null,this.jumpSize=i,this.on(Y,this.onWaiting),this.on([H,K],(function(){clearTimeout(e.timer),e.timer=null,e.jumpSize=e.config.jumpSize})),this.on(j,(function(){e.hasPlayed=!0})))}}],[{key:"pluginName",get:function(){return"waitingTimeoutJump"}},{key:"defaultConfig",get:function(){return{useWaitingTimeoutJump:!1,waitingTime:15,jumpSize:2,jumpCntMax:4}}}]),n}(st),Vi="cdn",Gi=["cdn"],Wi=function(e){l(n,e);var t=p(n);function n(){var e;r(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return s(h(e=t.call.apply(t,[this].concat(o))),"getSpeed",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vi;if(!e.speedListCache||!e.speedListCache[t])return 0;if(e.speedListCache[t].length<=0)return 0;var n=0;return e.speedListCache[t].map((function(e){n+=e})),Math.floor(n/e.speedListCache[t].length)})),s(h(e),"startTimer",(function(){S.isMSE(e.player.video)||(e.initSpeedList(),e.cnt=0,e.timer=setTimeout(e.testSpeed,e.config.testTimeStep))})),s(h(e),"initSpeedList",(function(){e.speedListCache={},Gi.forEach((function(t){e.speedListCache[t]=[]}))})),s(h(e),"_onRealSpeedChange",(function(t){t.speed&&e.appendList(t.speed,t.type||Vi)})),s(h(e),"testSpeed",(function(){if(clearTimeout(e.timer),e.timer=null,e.player&&e.config.openSpeed){var t=e.config,n=t.url,i=t.loadSize,r=t.testCnt,o=t.testTimeStep,a=n+(n.indexOf("?")<0?"?testst=":"&testst=")+Date.now();if(!(e.cnt>=r)){e.cnt++;try{var s=(new Date).getTime(),l=null,u=new XMLHttpRequest;e.xhr=u,u.open("GET",a);var c={},h=Math.floor(10*Math.random());c.Range="bytes="+h+"-"+(i+h),c&&Object.keys(c).forEach((function(e){u.setRequestHeader(e,c[e])})),u.onreadystatechange=function(){if(4===u.readyState){e.xhr=null,l=(new Date).getTime();var t=u.getResponseHeader("Content-Length")/1024*8,n=Math.round(1e3*t/(l-s));e.appendList(n),e.timer=setTimeout(e.testSpeed,o)}},u.send()}catch(p){console.error(p)}}}})),s(h(e),"appendList",(function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vi;if(e.speedListCache&&e.speedListCache[n]){var i=e.config.saveSpeedMax;e.speedListCache[n].length>=i&&e.speedListCache[n].shift(),e.speedListCache[n].push(t);var r=h(e).player;r&&(n===Vi?r.realTimeSpeed=t:r[e.getSpeedName("realTime",n)]=t),e.updateSpeed(n)}})),s(h(e),"updateSpeed",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vi,n=e.getSpeed(t),i=h(e).player;if(i)if(t===Vi)i.avgSpeed&&n===i.avgSpeed||(i.avgSpeed=n,i.emit(he,{speed:n,realTimeSpeed:i.realTimeSpeed}));else{var r=e.getSpeedName("avg",t);i[r]&&n===i[r]||(i[r]=n,i.emit(he,{speed:n,realTimeSpeed:i.realTimeSpeed}))}})),e}return a(n,[{key:"afterCreate",value:function(){var e=this.config,t=e.openSpeed,n=e.addSpeedTypeList;(null==n?void 0:n.length)>0&&Gi.push.apply(Gi,y(n)),this.initSpeedList(),this.on("real_time_speed",this._onRealSpeedChange),this.timer=null,this.cnt=0,this.xhr=null,t&&this.on([q,le],this.startTimer)}},{key:"getSpeedName",value:function(e,t){return e+"Speed"+t.toUpperCase()}},{key:"openSpeed",get:function(){return this.config.openSpeed},set:function(e){if(this.config.openSpeed=e,!e&&this.timer)return clearTimeout(this.timer),void(this.timer=null);if(this.config.openSpeed){if(this.timer)return;this.timer=setTimeout(this.testSpeed,this.config.testTimeStep)}}},{key:"destroy",value:function(){var e=this;this.off("real_time_speed",this._onRealSpeedChange),this.off([q,le],this.startTimer),Gi.forEach((function(t){e.speedListCache&&e.speedListCache[t]&&(e.speedListCache[t]=[])})),this.speedListCache&&(this.speedListCache={}),clearTimeout(this.timer),this.timer=null,this.xhr&&4!==this.xhr.readyState&&(this.xhr.cancel&&this.xhr.cancel(),this.xhr=null)}}],[{key:"pluginName",get:function(){return"testspeed"}},{key:"defaultConfig",get:function(){return{openSpeed:!1,testCnt:3,loadSize:204800,testTimeStep:3e3,url:"",saveSpeedMax:5,addSpeedTypeList:[]}}}]),n}(st),Yi=function(e){l(n,e);var t=p(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"afterCreate",value:function(){var e=this,t=this.player,n=this.config;this.timer=null,this._lastDecodedFrames=0,this._currentStuckCount=0,this._lastCheckPoint=null,this._payload=[],n.disabled||t.media.getVideoPlaybackQuality&&(this.on(j,(function(){e._startTick()})),this.on(B,(function(){e._stopTick()})),this.on(U,(function(){e._stopTick()})),this.on(ee,(function(){e._stopTick()})))}},{key:"_startTick",value:function(){var e=this;this._stopTick(),this._timer=setTimeout((function(){e._checkDecodeFPS(),e._startTick()}),this.config.tick)}},{key:"_stopTick",value:function(){clearTimeout(this._timer),this._timer=null}},{key:"_checkStuck",value:function(e,t,n,i){var r=this.player.media,o=document.hidden,a=r.paused;if("boolean"==typeof o&&!o&&!a){for(var s=r.currentTime,l=r.buffered,u=!1,c=[],h=0;h<l.length;h++){var f=l.start(h),p=l.end(h);if(c.push({start:f,end:p}),f<=s&&s<=p-1){u=!0;break}}4===r.readyState&&u&&(this._currentStuckCount>this.config.stuckCount?(this.emit(Le,this._payload),this._reset()):e<=this.config.reportFrame?(this._currentStuckCount++,this._payload.push({bufs:c,currentTime:r.currentTime,curDecodedFrames:e,totalVideoFrames:t,droppedVideoFrames:n,checkInterval:i})):this._reset())}}},{key:"_reset",value:function(){this._payload=[],this._currentStuckCount=0}},{key:"_checkDecodeFPS",value:function(){if(this.player.media){var e=this.player.media.getVideoPlaybackQuality(),t=e.totalVideoFrames,n=e.droppedVideoFrames,i=performance.now();if(t&&this._lastCheckPoint){var r=t-this._lastDecodedFrames,o=i-this._lastCheckPoint;this._checkStuck(r,t,n,o)}this._lastDecodedFrames=t,this._lastCheckPoint=i}}},{key:"destroy",value:function(){this._stopTick()}}],[{key:"pluginName",get:function(){return"FpsDetect"}},{key:"defaultConfig",get:function(){return{disabled:!1,tick:1e3,stuckCount:3,reportFrame:0}}}]),n}(st);St.use({LANG:"zh-cn",TEXT:{ERROR_TYPES:{network:{code:1,msg:"视频下载错误"},mse:{code:2,msg:"流追加错误"},parse:{code:3,msg:"解析错误"},format:{code:4,msg:"格式错误"},decoder:{code:5,msg:"解码错误"},runtime:{code:6,msg:"语法错误"},timeout:{code:7,msg:"播放超时"},other:{code:8,msg:"其他错误"}},HAVE_NOTHING:"没有关于音频/视频是否就绪的信息",HAVE_METADATA:"音频/视频的元数据已就绪",HAVE_CURRENT_DATA:"关于当前播放位置的数据是可用的，但没有足够的数据来播放下一帧/毫秒",HAVE_FUTURE_DATA:"当前及至少下一帧的数据是可用的",HAVE_ENOUGH_DATA:"可用数据足以开始播放",NETWORK_EMPTY:"音频/视频尚未初始化",NETWORK_IDLE:"音频/视频是活动的且已选取资源，但并未使用网络",NETWORK_LOADING:"浏览器正在下载数据",NETWORK_NO_SOURCE:"未找到音频/视频来源",MEDIA_ERR_ABORTED:"取回过程被用户中止",MEDIA_ERR_NETWORK:"网络错误",MEDIA_ERR_DECODE:"解码错误",MEDIA_ERR_SRC_NOT_SUPPORTED:"不支持的音频/视频格式",REPLAY:"重播",ERROR:"网络连接似乎出现了问题",PLAY_TIPS:"播放",PAUSE_TIPS:"暂停",PLAYNEXT_TIPS:"下一集",DOWNLOAD_TIPS:"下载",ROTATE_TIPS:"旋转",RELOAD_TIPS:"重新载入",FULLSCREEN_TIPS:"进入全屏",EXITFULLSCREEN_TIPS:"退出全屏",CSSFULLSCREEN_TIPS:"进入样式全屏",EXITCSSFULLSCREEN_TIPS:"退出样式全屏",TEXTTRACK:"字幕",PIP:"画中画",SCREENSHOT:"截图",LIVE:"正在直播",OFF:"关闭",OPEN:"开启",MINI_DRAG:"点击按住可拖动视频",MINISCREEN:"小屏幕",REFRESH_TIPS:"请试试",REFRESH:"刷新",FORWARD:"快进中",LIVE_TIP:"直播"}});var Ki=a((function e(t,n){var i,o,a;r(this,e);var s=n&&"mobile"===n.isMobileSimulateMode,l=n.isLive,u=[].concat(l?[]:[Wn,Nn,Ii,Ai,Gn],[jn,Vn,Jn,oi,mi,xi,ui,ci,Xn,ii]),c=[Bt,zt,Kt,On,$t,Ci,_i,Li,ln];this.plugins=[Ui,Ht].concat(y(u),c,[Bi,zi]);var h=s?"mobile":R.device;switch(h){case"pc":(i=this.plugins).push.apply(i,[Ln,hn,wi,Wi,Yi]);break;case"mobile":(o=this.plugins).push.apply(o,[Pn]);break;default:(a=this.plugins).push.apply(a,[Ln,hn,wi])}(R.os.isIpad||"pc"===h)&&this.plugins.push(Fi),R.os.isIpad&&this.plugins.push(hn),this.ignores=[],this.i18n=[]})),$i=function(e){l(n,e);var t=p(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n)}(Lt);return s($i,"defaultPreset",Ki),s($i,"Util",S),s($i,"Sniffer",R),s($i,"Errors",F),s($i,"Events",Ie),s($i,"Plugin",st),s($i,"BasePlugin",qe),s($i,"I18N",St),s($i,"STATE_CLASS",ht),$i}(function(){if(Fr)return ke;Fr=1;var e=mr(),t=Er().find,n=Vr(),i="find",r=!0;i in[]&&Array(1)[i]((function(){r=!1})),e({target:"Array",proto:!0,forced:r},{find:function(e){return t(this,e,arguments.length>1?arguments[1]:void 0)}}),n(i)}(),$r(),function(){if(to)return no;to=1;var e=mr(),t=Oe(),n=kr(),i=Nt(),r=_n(),o=Mi(),a=io(),s=ro(),l=Sr(),u=oo(),c=En(),h=Ut(),f=c("isConcatSpreadable"),p=h>=51||!t((function(){var e=[];return e[f]=!1,e.concat()[0]!==e})),d=function(e){if(!i(e))return!1;var t=e[f];return void 0!==t?!!t:n(e)};e({target:"Array",proto:!0,arity:1,forced:!p||!u("concat")},{concat:function(e){var t,n,i,u,c,h=r(this),f=l(h,0),p=0;for(t=-1,i=arguments.length;t<i;t++)if(d(c=-1===t?h:arguments[t]))for(u=o(c),a(p+u),n=0;n<u;n++,p++)n in c&&s(f,p,c[n]);else a(p+1),s(f,p++,c);return f.length=p,f}})}(),bo(),function(){if(ko)return wo;ko=1;var e=mr(),t=_n(),n=Hr();e({target:"Object",stat:!0,forced:Oe()((function(){n(1)}))},{keys:function(e){return n(t(e))}})}(),function(){if(To)return So;To=1;var e=mr(),t=kr(),n=_r(),i=Nt(),r=Ri(),o=Mi(),a=Rt(),s=ro(),l=En(),u=oo(),c=Eo(),h=u("slice"),f=l("species"),p=Array,d=Math.max;e({target:"Array",proto:!0,forced:!h},{slice:function(e,l){var u,h,g,y=a(this),v=o(y),m=r(e,v),x=r(void 0===l?v:l,v);if(t(y)&&(u=y.constructor,(n(u)&&(u===p||t(u.prototype))||i(u)&&null===(u=u[f]))&&(u=void 0),u===p||void 0===u))return c(y,m,x);for(h=new(void 0===u?p:u)(d(x-m,0)),g=0;m<x;m++,g++)m in y&&s(h,g,y[m]);return h.length=g,h}})}(),function(){if(Po)return Ao;Po=1;var e=mr(),t=Pt(),n=Lt(),i=Rt(),r=xo(),o=t([].join);e({target:"Array",proto:!0,forced:n!==Object||!r("join",",")},{join:function(e){return o(i(this),void 0===e?",":e)}})}(),Fo(),zs(),function(){if(Vs)return Gs;Vs=1;var e=Re(),t=si().EXISTS,n=Pt(),i=ja(),r=Function.prototype,o=n(r.toString),a=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,s=n(a.exec);e&&!t&&i(r,"name",{configurable:!0,get:function(){try{return s(a,o(this))[1]}catch(e){return""}}})}(),Ws||(Ws=1,mr()({target:"Number",stat:!0},{isNaN:function(e){return e!=e}})),fl(),function(){if(pl)return Pl;pl=1;var e=mr(),t=Er().map;e({target:"Array",proto:!0,forced:!oo()("map")},{map:function(e){return t(this,e,arguments.length>1?arguments[1]:void 0)}})}(),Dl(),function(){if(Ml)return Nl;Ml=1;var e=we(),t=vo(),n=mo(),i=Dl(),r=Gn(),o=Fa(),a=En()("iterator"),s=i.values,l=function(e,n){if(e){if(e[a]!==s)try{r(e,a,s)}catch(u){e[a]=s}if(o(e,n,!0),t[n])for(var l in i)if(e[l]!==i[l])try{r(e,l,i[l])}catch(u){e[l]=i[l]}}};for(var u in t)l(e[u]&&e[u].prototype,u);l(n,"DOMTokenList")}(),function(){if(Fl)return jl;Fl=1;var e=mr(),t=Er().filter;e({target:"Array",proto:!0,forced:!oo()("filter")},{filter:function(e){return t(this,e,arguments.length>1?arguments[1]:void 0)}})}(),function(){if(Bl)return zl;Bl=1;var e=mr(),t=Vl();e({target:"Object",stat:!0,arity:2,forced:Object.assign!==t},{assign:t})}(),wu(),Uu(),function(){if(Xu)return qu;Xu=1;var e=Me(),t=Ju(),n=zn(),i=It(),r=Di(),o=ul(),a=Ot(),s=Yt(),l=Qu(),u=ec();t("match",(function(t,c,h){return[function(n){var r=a(this),l=i(n)?void 0:s(n,t);return l?e(l,n,r):new RegExp(n)[t](o(r))},function(e){var t=n(this),i=o(e),a=h(c,t,i);if(a.done)return a.value;if(!t.global)return u(t,i);var s=t.unicode;t.lastIndex=0;for(var f,p=[],d=0;null!==(f=u(t,i));){var g=o(f[0]);p[d]=g,""===g&&(t.lastIndex=l(i,r(t.lastIndex),s)),d++}return 0===d?null:p}]}))}(),fc(),function(){if(pc)return dc;pc=1;var e=Re(),t=Nu().MISSED_STICKY,n=At(),i=ja(),r=hi().get,o=RegExp.prototype,a=TypeError;e&&t&&i(o,"sticky",{configurable:!0,get:function(){if(this!==o){if("RegExp"===n(this))return!!r(this).sticky;throw new a("Incompatible receiver, RegExp required")}}})}(),function(){if(gc)return yc;gc=1;var e=si().PROPER,t=pi(),n=zn(),i=ul(),r=Oe(),o=cc(),a="toString",s=RegExp.prototype[a],l=r((function(){return"/a/b"!==s.call({source:"a",flags:"b"})})),u=e&&s.name!==a;(l||u)&&t(RegExp.prototype,a,(function(){var e=n(this);return"/"+i(e.source)+"/"+i(o(e))}),{unsafe:!0})}(),function(){if(vc)return mc;vc=1;var e=Va(),t=Me(),n=Pt(),i=Ju(),r=zn(),o=It(),a=uc(),s=Ot(),l=za(),u=Qu(),c=Di(),h=ul(),f=Yt(),p=ql(),d=ec(),g=Hu(),y=Nu(),v=Oe(),m=y.UNSUPPORTED_Y,x=4294967295,b=Math.min,k=[].push,w=n(/./.exec),C=n(k),_=n("".slice),T=!v((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));i("split",(function(n,i,y){var v;return v="c"==="abbc".split(/(b)*/)[1]||4!=="test".split(/(?:)/,-1).length||2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(n,r){var o=h(s(this)),l=void 0===r?x:r>>>0;if(0===l)return[];if(void 0===n)return[o];if(!a(n))return t(i,o,n,l);for(var u,c,f,d=[],y=(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.unicode?"u":"")+(n.sticky?"y":""),v=0,m=new RegExp(n.source,y+"g");(u=t(g,m,o))&&!((c=m.lastIndex)>v&&(C(d,_(o,v,u.index)),u.length>1&&u.index<o.length&&e(k,d,p(u,1)),f=u[0].length,v=c,d.length>=l));)m.lastIndex===u.index&&m.lastIndex++;return v===o.length?!f&&w(m,"")||C(d,""):C(d,_(o,v)),d.length>l?p(d,0,l):d}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t(i,this,e,n)}:i,[function(e,i){var r=s(this),a=o(e)?void 0:f(e,n);return a?t(a,e,r,i):t(v,h(r),e,i)},function(e,t){var n=r(this),o=h(e),a=y(v,n,o,t,v!==i);if(a.done)return a.value;var s=l(n,RegExp),f=n.unicode,p=(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.unicode?"u":"")+(m?"g":"y"),g=new s(m?"^(?:"+n.source+")":n,p),k=void 0===t?x:t>>>0;if(0===k)return[];if(0===o.length)return null===d(g,o)?[o]:[];for(var w=0,T=0,S=[];T<o.length;){g.lastIndex=m?0:T;var E,P=d(g,m?_(o,T):o);if(null===P||(E=b(c(g.lastIndex+(m?T:0)),o.length))===w)T=u(o,T,f);else{if(C(S,_(o,w,T)),S.length===k)return S;for(var A=1;A<=P.length-1;A++)if(C(S,P[A]),S.length===k)return S;T=w=E}}return C(S,_(o,w)),S}]}),!T,m)}(),function(){if(kc)return wc;kc=1;var e=Va(),t=Me(),n=Pt(),i=Ju(),r=Oe(),o=zn(),a=Mt(),s=It(),l=Oi(),u=Di(),c=ul(),h=Ot(),f=Qu(),p=Yt(),d=Cc(),g=ec(),y=En()("replace"),v=Math.max,m=Math.min,x=n([].concat),b=n([].push),k=n("".indexOf),w=n("".slice),C="$0"==="a".replace(/./,"$0"),_=!!/./[y]&&""===/./[y]("a","$0");i("replace",(function(n,i,r){var C=_?"$":"$0";return[function(e,n){var r=h(this),o=s(e)?void 0:p(e,y);return o?t(o,e,r,n):t(i,c(r),e,n)},function(t,n){var s=o(this),h=c(t);if("string"==typeof n&&-1===k(n,C)&&-1===k(n,"$<")){var p=r(i,s,h,n);if(p.done)return p.value}var y=a(n);y||(n=c(n));var _,T=s.global;T&&(_=s.unicode,s.lastIndex=0);for(var S,E=[];null!==(S=g(s,h))&&(b(E,S),T);)""===c(S[0])&&(s.lastIndex=f(h,u(s.lastIndex),_));for(var P,A="",L=0,I=0;I<E.length;I++){for(var O,R=c((S=E[I])[0]),D=v(m(l(S.index),h.length),0),M=[],N=1;N<S.length;N++)b(M,void 0===(P=S[N])?P:String(P));var F=S.groups;if(y){var j=x([R],M,D,h);void 0!==F&&b(j,F),O=c(e(n,void 0,j))}else O=d(R,h,D,M,F,n);D>=L&&(A+=w(h,L,D)+O,L=D+R.length)}return A+w(h,L)}]}),!!r((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!C||_)}(),Pc(),function(){if(Ac)return Lc;Ac=1,Uu();var e,t,n=mr(),i=Me(),r=Mt(),o=zn(),a=ul(),s=(e=!1,(t=/[ac]/).exec=function(){return e=!0,/./.exec.apply(this,arguments)},!0===t.test("abc")&&e),l=/./.test;n({target:"RegExp",proto:!0,forced:!s},{test:function(e){var t=o(this),n=a(e),s=t.exec;if(!r(s))return i(l,t,n);var u=i(s,t,n);return null!==u&&(o(u),!0)}})}(),Wc(),$c(),function(){if(Jc)return Zc;Jc=1;var e=mr(),t=Pt(),n=Oi(),i=ll(),r=Qc(),o=Oe(),a=RangeError,s=String,l=Math.floor,u=t(r),c=t("".slice),h=t(1..toFixed),f=function e(t,n,i){return 0===n?i:n%2==1?e(t,n-1,i*t):e(t*t,n/2,i)},p=function(e,t,n){for(var i=-1,r=n;++i<6;)r+=t*e[i],e[i]=r%1e7,r=l(r/1e7)},d=function(e,t){for(var n=6,i=0;--n>=0;)i+=e[n],e[n]=l(i/t),i=i%t*1e7},g=function(e){for(var t=6,n="";--t>=0;)if(""!==n||0===t||0!==e[t]){var i=s(e[t]);n=""===n?i:n+u("0",7-i.length)+i}return n};e({target:"Number",proto:!0,forced:o((function(){return"0.000"!==h(8e-5,3)||"1"!==h(.9,0)||"1.25"!==h(1.255,2)||"1000000000000000128"!==h(0xde0b6b3a7640080,0)}))||!o((function(){h({})}))},{toFixed:function(e){var t,r,o,l,h=i(this),y=n(e),v=[0,0,0,0,0,0],m="",x="0";if(y<0||y>20)throw new a("Incorrect fraction digits");if(h!=h)return"NaN";if(h<=-1e21||h>=1e21)return s(h);if(h<0&&(m="-",h=-h),h>1e-21)if(r=(t=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}(h*f(2,69,1))-69)<0?h*f(2,-t,1):h/f(2,t,1),r*=4503599627370496,(t=52-t)>0){for(p(v,0,r),o=y;o>=7;)p(v,1e7,0),o-=7;for(p(v,f(10,o,1),0),o=t-1;o>=23;)d(v,1<<23),o-=23;d(v,1<<o),p(v,1,1),d(v,2),x=g(v)}else p(v,0,r),p(v,1<<-t,0),x=g(v)+u("0",y);return y>0?m+((l=x.length)<=y?"0."+u("0",y-l)+x:c(x,0,l-y)+"."+c(x,l-y)):m+x}})}(),eh||(eh=1,mr()({target:"String",proto:!0},{repeat:Qc()})),function(){if(th)return nh;th=1;var e=mr(),t=Er().findIndex,n=Vr(),i="findIndex",r=!0;i in[]&&Array(1)[i]((function(){r=!1})),e({target:"Array",proto:!0,forced:r},{findIndex:function(e){return t(this,e,arguments.length>1?arguments[1]:void 0)}}),n(i)}(),Uh||(Uh=1,rf()("Uint8",(function(e){return function(t,n,i){return e(this,t,n,i)}}))),uf(),df(),function(){if(gf)return yf;gf=1;var e=Vh(),t=Er().every,n=e.aTypedArray;(0,e.exportTypedArrayMethod)("every",(function(e){return t(n(this),e,arguments.length>1?arguments[1]:void 0)}))}(),function(){if(vf)return mf;vf=1;var e=Vh(),t=$h(),n=tf(),i=Cr(),r=Me(),o=Pt(),a=Oe(),s=e.aTypedArray,l=e.exportTypedArrayMethod,u=o("".slice);l("fill",(function(e){var o=arguments.length;s(this);var a="Big"===u(i(this),0,3)?n(e):+e;return r(t,this,a,o>1?arguments[1]:void 0,o>2?arguments[2]:void 0)}),a((function(){var e=0;return new Int8Array(2).fill({valueOf:function(){return e++}}),1!==e})))}(),Af(),function(){if(Lf)return If;Lf=1;var e=Vh(),t=Er().find,n=e.aTypedArray;(0,e.exportTypedArrayMethod)("find",(function(e){return t(n(this),e,arguments.length>1?arguments[1]:void 0)}))}(),function(){if(Of)return Rf;Of=1;var e=Vh(),t=Er().findIndex,n=e.aTypedArray;(0,e.exportTypedArrayMethod)("findIndex",(function(e){return t(n(this),e,arguments.length>1?arguments[1]:void 0)}))}(),Bf(),Yf(),function(){if(Kf)return $f;Kf=1;var e=Vh(),t=Er().forEach,n=e.aTypedArray;(0,e.exportTypedArrayMethod)("forEach",(function(e){t(n(this),e,arguments.length>1?arguments[1]:void 0)}))}(),function(){if(Xf)return qf;Xf=1;var e=Vh(),t=Ni().includes,n=e.aTypedArray;(0,e.exportTypedArrayMethod)("includes",(function(e){return t(n(this),e,arguments.length>1?arguments[1]:void 0)}))}(),function(){if(Jf)return Zf;Jf=1;var e=Vh(),t=Ni().indexOf,n=e.aTypedArray;(0,e.exportTypedArrayMethod)("indexOf",(function(e){return t(n(this),e,arguments.length>1?arguments[1]:void 0)}))}(),function(){if(Qf)return ep;Qf=1;var e=we(),t=Oe(),n=Pt(),i=Vh(),r=Dl(),o=En()("iterator"),a=e.Uint8Array,s=n(r.values),l=n(r.keys),u=n(r.entries),c=i.aTypedArray,h=i.exportTypedArrayMethod,f=a&&a.prototype,p=!t((function(){f[o].call([1])})),d=!!f&&f.values&&f[o]===f.values&&"values"===f.values.name,g=function(){return s(c(this))};h("entries",(function(){return u(c(this))}),p),h("keys",(function(){return l(c(this))}),p),h("values",g,p||!d,{name:"values"}),h(o,g,p||!d,{name:"values"})}(),function(){if(tp)return np;tp=1;var e=Vh(),t=Pt(),n=e.aTypedArray,i=e.exportTypedArrayMethod,r=t([].join);i("join",(function(e){return r(n(this),e)}))}(),sp(),function(){if(lp)return up;lp=1;var e=Vh(),t=Er().map,n=Pf(),i=e.aTypedArray;(0,e.exportTypedArrayMethod)("map",(function(e){return t(i(this),e,arguments.length>1?arguments[1]:void 0,(function(e,t){return new(n(e))(t)}))}))}(),function(){if(fp)return pp;fp=1;var e=Vh(),t=dp().left,n=e.aTypedArray;(0,e.exportTypedArrayMethod)("reduce",(function(e){var i=arguments.length;return t(n(this),e,i,i>1?arguments[1]:void 0)}))}(),function(){if(gp)return yp;gp=1;var e=Vh(),t=dp().right,n=e.aTypedArray;(0,e.exportTypedArrayMethod)("reduceRight",(function(e){var i=arguments.length;return t(n(this),e,i,i>1?arguments[1]:void 0)}))}(),function(){if(vp)return mp;vp=1;var e=Vh(),t=e.aTypedArray,n=e.exportTypedArrayMethod,i=Math.floor;n("reverse",(function(){for(var e,n=this,r=t(n).length,o=i(r/2),a=0;a<o;)e=n[a],n[a++]=n[--r],n[r]=e;return n}))}(),function(){if(xp)return bp;xp=1;var e=we(),t=Me(),n=Vh(),i=Mi(),r=Zh(),o=_n(),a=Oe(),s=e.RangeError,l=e.Int8Array,u=l&&l.prototype,c=u&&u.set,h=n.aTypedArray,f=n.exportTypedArrayMethod,p=!a((function(){var e=new Uint8ClampedArray(2);return t(c,e,{length:1,0:3},1),3!==e[1]})),d=p&&n.NATIVE_ARRAY_BUFFER_VIEWS&&a((function(){var e=new l(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));f("set",(function(e){h(this);var n=r(arguments.length>1?arguments[1]:void 0,1),a=o(e);if(p)return t(c,this,a,n);var l=this.length,u=i(a),f=0;if(u+n>l)throw new s("Wrong length");for(;f<u;)this[n+f]=a[f++]}),!p||d)}(),function(){if(kp)return wp;kp=1;var e=Vh(),t=Pf(),n=Oe(),i=Eo(),r=e.aTypedArray;(0,e.exportTypedArrayMethod)("slice",(function(e,n){for(var o=i(r(this),e,n),a=t(this),s=0,l=o.length,u=new a(l);l>s;)u[s]=o[s++];return u}),n((function(){new Int8Array(1).slice()})))}(),function(){if(Cp)return _p;Cp=1;var e=Vh(),t=Er().some,n=e.aTypedArray;(0,e.exportTypedArrayMethod)("some",(function(e){return t(n(this),e,arguments.length>1?arguments[1]:void 0)}))}(),function(){if(Tp)return Sp;Tp=1;var e=we(),t=xr(),n=Oe(),i=Wt(),r=Bc(),o=Vh(),a=zc(),s=Vc(),l=Ut(),u=Gc(),c=o.aTypedArray,h=o.exportTypedArrayMethod,f=e.Uint16Array,p=f&&t(f.prototype.sort),d=!(!p||n((function(){p(new f(2),null)}))&&n((function(){p(new f(2),{})}))),g=!!p&&!n((function(){if(l)return l<74;if(a)return a<67;if(s)return!0;if(u)return u<602;var e,t,n=new f(516),i=Array(516);for(e=0;e<516;e++)t=e%4,n[e]=515-e,i[e]=e-2*t+3;for(p(n,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(n[e]!==i[e])return!0}));h("sort",(function(e){return void 0!==e&&i(e),g?p(this,e):r(c(this),function(e){return function(t,n){return void 0!==e?+e(t,n)||0:n!=n?-1:t!=t?1:0===t&&0===n?1/t>0&&1/n<0?1:-1:t>n}}(e))}),!g||d)}(),function(){if(Ep)return Pp;Ep=1;var e=Vh(),t=Di(),n=Ri(),i=Pf(),r=e.aTypedArray;(0,e.exportTypedArrayMethod)("subarray",(function(e,o){var a=r(this),s=a.length,l=n(e,s);return new(i(a))(a.buffer,a.byteOffset+l*a.BYTES_PER_ELEMENT,t((void 0===o?s:n(o,s))-l))}))}(),function(){if(Ap)return Lp;Ap=1;var e=we(),t=Va(),n=Vh(),i=Oe(),r=Eo(),o=e.Int8Array,a=n.aTypedArray,s=n.exportTypedArrayMethod,l=[].toLocaleString,u=!!o&&i((function(){l.call(new o(1))}));s("toLocaleString",(function(){return t(l,u?r(a(this)):a(this),r(arguments))}),i((function(){return[1,2].toLocaleString()!==new o([1,2]).toLocaleString()}))||!i((function(){o.prototype.toLocaleString.call([1,2])})))}(),function(){if(Ip)return Op;Ip=1;var e=Vh().exportTypedArrayMethod,t=Oe(),n=we(),i=Pt(),r=n.Uint8Array,o=r&&r.prototype||{},a=[].toString,s=i([].join);t((function(){a.call({})}))&&(a=function(){return s(this)});var l=o.toString!==a;e("toString",a,l)}(),Gp||(Gp=1,Jp()),Zp||(Zp=1,qp()),mu())}(be);var Qp=a(be.exports);function ed(){return td.apply(this,arguments)}function td(){return(td=n(e().mark((function t(){var n;return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Array.from({length:1e4},(function(e,t){return{key:t,author:p.person.firstName(),content:p.lorem.paragraph(1)}})),e.abrupt("return",new Promise((function(e){setTimeout((function(){e(n)}),200)})));case 2:case"end":return e.stop()}}),t)})))).apply(this,arguments)}var nd=function(e){return P("data-v-a04d8a29"),e=e(),A(),e},id={class:"container"},rd=nd((function(){return S("div",{class:"video"},[S("div",{id:"player"})],-1)})),od=nd((function(){return S("h2",{style:{transform:"translateX(-30vw)"}},"评论",-1)})),ad=132;t("default",b(v({__name:"video",setup:function(t){L((function(){new Qp({id:"player",url:"//lf9-cdn-tos.bytecdntp.com/cdn/expire-1-M/byted-player-videos/1.0.0/xgplayer-demo.mp4",fluid:!0,poster:"/2.avif"})}));var i=x(void 0),r=x(void 0),o=x(0);L(n(e().mark((function t(){var n;return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.scrollTo({top:0}),e.next=3,ed();case 3:n=e.sent,i.value=n,r.value=n.filter((function(e){return e.key<=9})),o.value=n.length*ad;case 7:case"end":return e.stop()}}),t)}))));var a=x(0),s=x(0),l=function(e){var t,n,o=e.target.scrollTop;(console.log(Math.ceil(o/ad)),o>528)?(s.value=o%ad+ad,a.value=o,r.value=null===(t=i.value)||void 0===t?void 0:t.filter((function(e){return e.key>=Math.ceil(o/ad)-2&&e.key<=Math.ceil(o/ad)+9}))):(a.value=0,s.value=0,r.value=null===(n=i.value)||void 0===n?void 0:n.filter((function(e){return e.key<=9})))};return function(e,t){var n=d;return w(),C(y,null,{default:_((function(){return[S("div",id,[rd,od,S("div",{class:"outer",onScroll:l},[S("div",{style:I({height:"".concat(o.value,"px")}),class:"placeholder"},null,4),S("div",{class:"viewWindow",style:I({transform:"translateY(".concat(a.value,"px)"),top:"-".concat(s.value,"px")})},[(w(!0),O(D,null,R(r.value,(function(e){return w(),C(xe,{key:e.key,class:"comment"},{author:_((function(){return[S("a",null,T(e.author),1)]})),content:_((function(){return[S("p",null,T(e.content),1)]})),default:_((function(){return[N(T(e.key)+" ",1)]})),_:2},1024)})),128))],4),0===o.value?(w(),C(n,{key:0})):M("",!0)],32)])]})),_:1})}}}),[["__scopeId","data-v-a04d8a29"]]))}}}))}();
