import{aF as kr,at as qs,x as rm,u as nm,j as im,b as am,P as Tn,H as Cn,I as $u,aG as om}from"./index-aQsJLpmb.js";import{_ as sm,L as um}from"./default-ZvOJw13o.js";/* empty css              */import{d as Bs,a as Tt,r as ur,_ as Sp,G as kn,x as er,H as lr,I as Gt,B as Ur,z as It,n as ni,C as Tp,D as kp,j as Wu,O as Ku,y as lm,A as cm,F as fm,P as hm,s as dm}from"./index-vDKxrbeP.js";var Ep={exports:{}};(function(s,l){(function(c,f){s.exports=f()})(kr,function(){var c=1e3,f=6e4,p=36e5,d="millisecond",m="second",_="minute",g="hour",S="day",T="week",C="month",b="quarter",I="year",E="date",L="Invalid Date",P=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,B=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,w={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(M){var q=["th","st","nd","rd"],O=M%100;return"["+M+(q[(O-20)%10]||q[O]||q[0])+"]"}},x=function(M,q,O){var U=String(M);return!U||U.length>=q?M:""+Array(q+1-U.length).join(O)+M},A={s:x,z:function(M){var q=-M.utcOffset(),O=Math.abs(q),U=Math.floor(O/60),D=O%60;return(q<=0?"+":"-")+x(U,2,"0")+":"+x(D,2,"0")},m:function M(q,O){if(q.date()<O.date())return-M(O,q);var U=12*(O.year()-q.year())+(O.month()-q.month()),D=q.clone().add(U,C),Y=O-D<0,ae=q.clone().add(U+(Y?-1:1),C);return+(-(U+(O-D)/(Y?D-ae:ae-D))||0)},a:function(M){return M<0?Math.ceil(M)||0:Math.floor(M)},p:function(M){return{M:C,y:I,w:T,d:S,D:E,h:g,m:_,s:m,ms:d,Q:b}[M]||String(M||"").toLowerCase().replace(/s$/,"")},u:function(M){return M===void 0}},N="en",V={};V[N]=w;var W="$isDayjsObject",F=function(M){return M instanceof ie||!(!M||!M[W])},j=function M(q,O,U){var D;if(!q)return N;if(typeof q=="string"){var Y=q.toLowerCase();V[Y]&&(D=Y),O&&(V[Y]=O,D=Y);var ae=q.split("-");if(!D&&ae.length>1)return M(ae[0])}else{var se=q.name;V[se]=q,D=se}return!U&&D&&(N=D),D||!U&&N},Q=function(M,q){if(F(M))return M.clone();var O=typeof q=="object"?q:{};return O.date=M,O.args=arguments,new ie(O)},v=A;v.l=j,v.i=F,v.w=function(M,q){return Q(M,{locale:q.$L,utc:q.$u,x:q.$x,$offset:q.$offset})};var ie=function(){function M(O){this.$L=j(O.locale,null,!0),this.parse(O),this.$x=this.$x||O.x||{},this[W]=!0}var q=M.prototype;return q.parse=function(O){this.$d=function(U){var D=U.date,Y=U.utc;if(D===null)return new Date(NaN);if(v.u(D))return new Date;if(D instanceof Date)return new Date(D);if(typeof D=="string"&&!/Z$/i.test(D)){var ae=D.match(P);if(ae){var se=ae[2]-1||0,he=(ae[7]||"0").substring(0,3);return Y?new Date(Date.UTC(ae[1],se,ae[3]||1,ae[4]||0,ae[5]||0,ae[6]||0,he)):new Date(ae[1],se,ae[3]||1,ae[4]||0,ae[5]||0,ae[6]||0,he)}}return new Date(D)}(O),this.init()},q.init=function(){var O=this.$d;this.$y=O.getFullYear(),this.$M=O.getMonth(),this.$D=O.getDate(),this.$W=O.getDay(),this.$H=O.getHours(),this.$m=O.getMinutes(),this.$s=O.getSeconds(),this.$ms=O.getMilliseconds()},q.$utils=function(){return v},q.isValid=function(){return this.$d.toString()!==L},q.isSame=function(O,U){var D=Q(O);return this.startOf(U)<=D&&D<=this.endOf(U)},q.isAfter=function(O,U){return Q(O)<this.startOf(U)},q.isBefore=function(O,U){return this.endOf(U)<Q(O)},q.$g=function(O,U,D){return v.u(O)?this[U]:this.set(D,O)},q.unix=function(){return Math.floor(this.valueOf()/1e3)},q.valueOf=function(){return this.$d.getTime()},q.startOf=function(O,U){var D=this,Y=!!v.u(U)||U,ae=v.p(O),se=function(pe,_e){var Ie=v.w(D.$u?Date.UTC(D.$y,_e,pe):new Date(D.$y,_e,pe),D);return Y?Ie:Ie.endOf(S)},he=function(pe,_e){return v.w(D.toDate()[pe].apply(D.toDate("s"),(Y?[0,0,0,0]:[23,59,59,999]).slice(_e)),D)},de=this.$W,be=this.$M,ke=this.$D,Re="set"+(this.$u?"UTC":"");switch(ae){case I:return Y?se(1,0):se(31,11);case C:return Y?se(1,be):se(0,be+1);case T:var we=this.$locale().weekStart||0,ce=(de<we?de+7:de)-we;return se(Y?ke-ce:ke+(6-ce),be);case S:case E:return he(Re+"Hours",0);case g:return he(Re+"Minutes",1);case _:return he(Re+"Seconds",2);case m:return he(Re+"Milliseconds",3);default:return this.clone()}},q.endOf=function(O){return this.startOf(O,!1)},q.$set=function(O,U){var D,Y=v.p(O),ae="set"+(this.$u?"UTC":""),se=(D={},D[S]=ae+"Date",D[E]=ae+"Date",D[C]=ae+"Month",D[I]=ae+"FullYear",D[g]=ae+"Hours",D[_]=ae+"Minutes",D[m]=ae+"Seconds",D[d]=ae+"Milliseconds",D)[Y],he=Y===S?this.$D+(U-this.$W):U;if(Y===C||Y===I){var de=this.clone().set(E,1);de.$d[se](he),de.init(),this.$d=de.set(E,Math.min(this.$D,de.daysInMonth())).$d}else se&&this.$d[se](he);return this.init(),this},q.set=function(O,U){return this.clone().$set(O,U)},q.get=function(O){return this[v.p(O)]()},q.add=function(O,U){var D,Y=this;O=Number(O);var ae=v.p(U),se=function(be){var ke=Q(Y);return v.w(ke.date(ke.date()+Math.round(be*O)),Y)};if(ae===C)return this.set(C,this.$M+O);if(ae===I)return this.set(I,this.$y+O);if(ae===S)return se(1);if(ae===T)return se(7);var he=(D={},D[_]=f,D[g]=p,D[m]=c,D)[ae]||1,de=this.$d.getTime()+O*he;return v.w(de,this)},q.subtract=function(O,U){return this.add(-1*O,U)},q.format=function(O){var U=this,D=this.$locale();if(!this.isValid())return D.invalidDate||L;var Y=O||"YYYY-MM-DDTHH:mm:ssZ",ae=v.z(this),se=this.$H,he=this.$m,de=this.$M,be=D.weekdays,ke=D.months,Re=D.meridiem,we=function(_e,Ie,Ae,Me){return _e&&(_e[Ie]||_e(U,Y))||Ae[Ie].slice(0,Me)},ce=function(_e){return v.s(se%12||12,_e,"0")},pe=Re||function(_e,Ie,Ae){var Me=_e<12?"AM":"PM";return Ae?Me.toLowerCase():Me};return Y.replace(B,function(_e,Ie){return Ie||function(Ae){switch(Ae){case"YY":return String(U.$y).slice(-2);case"YYYY":return v.s(U.$y,4,"0");case"M":return de+1;case"MM":return v.s(de+1,2,"0");case"MMM":return we(D.monthsShort,de,ke,3);case"MMMM":return we(ke,de);case"D":return U.$D;case"DD":return v.s(U.$D,2,"0");case"d":return String(U.$W);case"dd":return we(D.weekdaysMin,U.$W,be,2);case"ddd":return we(D.weekdaysShort,U.$W,be,3);case"dddd":return be[U.$W];case"H":return String(se);case"HH":return v.s(se,2,"0");case"h":return ce(1);case"hh":return ce(2);case"a":return pe(se,he,!0);case"A":return pe(se,he,!1);case"m":return String(he);case"mm":return v.s(he,2,"0");case"s":return String(U.$s);case"ss":return v.s(U.$s,2,"0");case"SSS":return v.s(U.$ms,3,"0");case"Z":return ae}return null}(_e)||ae.replace(":","")})},q.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},q.diff=function(O,U,D){var Y,ae=this,se=v.p(U),he=Q(O),de=(he.utcOffset()-this.utcOffset())*f,be=this-he,ke=function(){return v.m(ae,he)};switch(se){case I:Y=ke()/12;break;case C:Y=ke();break;case b:Y=ke()/3;break;case T:Y=(be-de)/6048e5;break;case S:Y=(be-de)/864e5;break;case g:Y=be/p;break;case _:Y=be/f;break;case m:Y=be/c;break;default:Y=be}return D?Y:v.a(Y)},q.daysInMonth=function(){return this.endOf(C).$D},q.$locale=function(){return V[this.$L]},q.locale=function(O,U){if(!O)return this.$L;var D=this.clone(),Y=j(O,U,!0);return Y&&(D.$L=Y),D},q.clone=function(){return v.w(this.$d,this)},q.toDate=function(){return new Date(this.valueOf())},q.toJSON=function(){return this.isValid()?this.toISOString():null},q.toISOString=function(){return this.$d.toISOString()},q.toString=function(){return this.$d.toUTCString()},M}(),ee=ie.prototype;return Q.prototype=ee,[["$ms",d],["$s",m],["$m",_],["$H",g],["$W",S],["$M",C],["$y",I],["$D",E]].forEach(function(M){ee[M[1]]=function(q){return this.$g(q,M[0],M[1])}}),Q.extend=function(M,q){return M.$i||(M(q,ie,Q),M.$i=!0),Q},Q.locale=j,Q.isDayjs=F,Q.unix=function(M){return Q(1e3*M)},Q.en=V[N],Q.Ls=V,Q.p={},Q})})(Ep);var vm=Ep.exports;const Cp=qs(vm);var pm=function(){return{actions:Array,author:Tn.any,avatar:Tn.any,content:Tn.any,prefixCls:String,datetime:Tn.any}},gm=Bs({compatConfig:{MODE:3},name:"AComment",props:pm(),slots:["actions","author","avatar","content","datetime"],setup:function(l,c){var f=c.slots,p=nm("comment",l),d=p.prefixCls,m=p.direction,_=function(T,C){return Tt("div",{class:"".concat(T,"-nested")},[C])},g=function(T){if(!T||!T.length)return null;var C=T.map(function(b,I){return Tt("li",{key:"action-".concat(I)},[b])});return C};return function(){var S,T,C,b,I,E,L,P,B,w,x,A=d.value,N=(S=l.actions)!==null&&S!==void 0?S:(T=f.actions)===null||T===void 0?void 0:T.call(f),V=(C=l.author)!==null&&C!==void 0?C:(b=f.author)===null||b===void 0?void 0:b.call(f),W=(I=l.avatar)!==null&&I!==void 0?I:(E=f.avatar)===null||E===void 0?void 0:E.call(f),F=(L=l.content)!==null&&L!==void 0?L:(P=f.content)===null||P===void 0?void 0:P.call(f),j=(B=l.datetime)!==null&&B!==void 0?B:(w=f.datetime)===null||w===void 0?void 0:w.call(f),Q=Tt("div",{class:"".concat(A,"-avatar")},[typeof W=="string"?Tt("img",{src:W,alt:"comment-avatar"},null):W]),v=N?Tt("ul",{class:"".concat(A,"-actions")},[g(Array.isArray(N)?N:[N])]):null,ie=Tt("div",{class:"".concat(A,"-content-author")},[V&&Tt("span",{class:"".concat(A,"-content-author-name")},[V]),j&&Tt("span",{class:"".concat(A,"-content-author-time")},[j])]),ee=Tt("div",{class:"".concat(A,"-content")},[ie,Tt("div",{class:"".concat(A,"-content-detail")},[F]),v]),M=Tt("div",{class:"".concat(A,"-inner")},[Q,ee]),q=im((x=f.default)===null||x===void 0?void 0:x.call(f));return Tt("div",{class:[A,am({},"".concat(A,"-rtl"),m.value==="rtl")]},[M,q&&q.length?_(A,q):null])}}});const ym=rm(gm);var mm={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.9 490.3c3.6-12 5.4-24.4 5.4-37 0-28.3-9.3-55.5-26.1-77.7 3.6-12 5.4-24.4 5.4-37 0-28.3-9.3-55.5-26.1-77.7 3.6-12 5.4-24.4 5.4-37 0-51.6-30.7-98.1-78.3-118.4a66.1 66.1 0 00-26.5-5.4H273v428h.3l85.8 310.8C372.9 889 418.9 924 470.9 924c29.7 0 57.4-11.8 77.9-33.4 20.5-21.5 31-49.7 29.5-79.4l-6-122.9h239.9c12.1 0 23.9-3.2 34.3-9.3 40.4-23.5 65.5-66.1 65.5-111 0-28.3-9.3-55.5-26.1-77.7zM112 132v364c0 17.7 14.3 32 32 32h65V100h-65c-17.7 0-32 14.3-32 32z"}}]},name:"dislike",theme:"filled"};const _m=mm;function Yu(s){for(var l=1;l<arguments.length;l++){var c=arguments[l]!=null?Object(arguments[l]):{},f=Object.keys(c);typeof Object.getOwnPropertySymbols=="function"&&(f=f.concat(Object.getOwnPropertySymbols(c).filter(function(p){return Object.getOwnPropertyDescriptor(c,p).enumerable}))),f.forEach(function(p){bm(s,p,c[p])})}return s}function bm(s,l,c){return l in s?Object.defineProperty(s,l,{value:c,enumerable:!0,configurable:!0,writable:!0}):s[l]=c,s}var Us=function(l,c){var f=Yu({},l,c.attrs);return Tt(Cn,Yu({},f,{icon:_m}),null)};Us.displayName="DislikeFilled";Us.inheritAttrs=!1;const Sm=Us;var Tm={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.9 490.3c3.6-12 5.4-24.4 5.4-37 0-28.3-9.3-55.5-26.1-77.7 3.6-12 5.4-24.4 5.4-37 0-28.3-9.3-55.5-26.1-77.7 3.6-12 5.4-24.4 5.4-37 0-51.6-30.7-98.1-78.3-118.4a66.1 66.1 0 00-26.5-5.4H144c-17.7 0-32 14.3-32 32v364c0 17.7 14.3 32 32 32h129.3l85.8 310.8C372.9 889 418.9 924 470.9 924c29.7 0 57.4-11.8 77.9-33.4 20.5-21.5 31-49.7 29.5-79.4l-6-122.9h239.9c12.1 0 23.9-3.2 34.3-9.3 40.4-23.5 65.5-66.1 65.5-111 0-28.3-9.3-55.5-26.1-77.7zM184 456V172h81v284h-81zm627.2 160.4H496.8l9.6 198.4c.6 11.9-4.7 23.1-14.6 30.5-6.1 4.5-13.6 6.8-21.1 6.7a44.28 44.28 0 01-42.2-32.3L329 459.2V172h415.4a56.85 56.85 0 0133.6 51.8c0 9.7-2.3 18.9-6.9 27.3l-13.9 25.4 21.9 19a56.76 56.76 0 0119.6 43c0 9.7-2.3 18.9-6.9 27.3l-13.9 25.4 21.9 19a56.76 56.76 0 0119.6 43c0 9.7-2.3 18.9-6.9 27.3l-14 25.5 21.9 19a56.76 56.76 0 0119.6 43c0 19.1-11 37.5-28.8 48.4z"}}]},name:"dislike",theme:"outlined"};const km=Tm;function zu(s){for(var l=1;l<arguments.length;l++){var c=arguments[l]!=null?Object(arguments[l]):{},f=Object.keys(c);typeof Object.getOwnPropertySymbols=="function"&&(f=f.concat(Object.getOwnPropertySymbols(c).filter(function(p){return Object.getOwnPropertyDescriptor(c,p).enumerable}))),f.forEach(function(p){Em(s,p,c[p])})}return s}function Em(s,l,c){return l in s?Object.defineProperty(s,l,{value:c,enumerable:!0,configurable:!0,writable:!0}):s[l]=c,s}var js=function(l,c){var f=zu({},l,c.attrs);return Tt(Cn,zu({},f,{icon:km}),null)};js.displayName="DislikeOutlined";js.inheritAttrs=!1;const Cm=js;var wm={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.9 533.7c16.8-22.2 26.1-49.4 26.1-77.7 0-44.9-25.1-87.4-65.5-111.1a67.67 67.67 0 00-34.3-9.3H572.4l6-122.9c1.4-29.7-9.1-57.9-29.5-79.4A106.62 106.62 0 00471 99.9c-52 0-98 35-111.8 85.1l-85.9 311h-.3v428h472.3c9.2 0 18.2-1.8 26.5-5.4 47.6-20.3 78.3-66.8 78.3-118.4 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7-.2-12.6-2-25.1-5.6-37.1zM112 528v364c0 17.7 14.3 32 32 32h65V496h-65c-17.7 0-32 14.3-32 32z"}}]},name:"like",theme:"filled"};const Im=wm;function Xu(s){for(var l=1;l<arguments.length;l++){var c=arguments[l]!=null?Object(arguments[l]):{},f=Object.keys(c);typeof Object.getOwnPropertySymbols=="function"&&(f=f.concat(Object.getOwnPropertySymbols(c).filter(function(p){return Object.getOwnPropertyDescriptor(c,p).enumerable}))),f.forEach(function(p){xm(s,p,c[p])})}return s}function xm(s,l,c){return l in s?Object.defineProperty(s,l,{value:c,enumerable:!0,configurable:!0,writable:!0}):s[l]=c,s}var Hs=function(l,c){var f=Xu({},l,c.attrs);return Tt(Cn,Xu({},f,{icon:Im}),null)};Hs.displayName="LikeFilled";Hs.inheritAttrs=!1;const Am=Hs;var Rm={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.9 533.7c16.8-22.2 26.1-49.4 26.1-77.7 0-44.9-25.1-87.4-65.5-111.1a67.67 67.67 0 00-34.3-9.3H572.4l6-122.9c1.4-29.7-9.1-57.9-29.5-79.4A106.62 106.62 0 00471 99.9c-52 0-98 35-111.8 85.1l-85.9 311H144c-17.7 0-32 14.3-32 32v364c0 17.7 14.3 32 32 32h601.3c9.2 0 18.2-1.8 26.5-5.4 47.6-20.3 78.3-66.8 78.3-118.4 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7-.2-12.6-2-25.1-5.6-37.1zM184 852V568h81v284h-81zm636.4-353l-21.9 19 13.9 25.4a56.2 56.2 0 016.9 27.3c0 16.5-7.2 32.2-19.6 43l-21.9 19 13.9 25.4a56.2 56.2 0 016.9 27.3c0 16.5-7.2 32.2-19.6 43l-21.9 19 13.9 25.4a56.2 56.2 0 016.9 27.3c0 22.4-13.2 42.6-33.6 51.8H329V564.8l99.5-360.5a44.1 44.1 0 0142.2-32.3c7.6 0 15.1 2.2 21.1 6.7 9.9 7.4 15.2 18.6 14.6 30.5l-9.6 198.4h314.4C829 418.5 840 436.9 840 456c0 16.5-7.2 32.1-19.6 43z"}}]},name:"like",theme:"outlined"};const Om=Rm;function Ju(s){for(var l=1;l<arguments.length;l++){var c=arguments[l]!=null?Object(arguments[l]):{},f=Object.keys(c);typeof Object.getOwnPropertySymbols=="function"&&(f=f.concat(Object.getOwnPropertySymbols(c).filter(function(p){return Object.getOwnPropertyDescriptor(c,p).enumerable}))),f.forEach(function(p){Pm(s,p,c[p])})}return s}function Pm(s,l,c){return l in s?Object.defineProperty(s,l,{value:c,enumerable:!0,configurable:!0,writable:!0}):s[l]=c,s}var Gs=function(l,c){var f=Ju({},l,c.attrs);return Tt(Cn,Ju({},f,{icon:Om}),null)};Gs.displayName="LikeOutlined";Gs.inheritAttrs=!1;const Lm=Gs;var wp={exports:{}};(function(s,l){(function(c,f){s.exports=f()})(kr,function(){return function(c,f,p){c=c||{};var d=f.prototype,m={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function _(S,T,C,b){return d.fromToBase(S,T,C,b)}p.en.relativeTime=m,d.fromToBase=function(S,T,C,b,I){for(var E,L,P,B=C.$locale().relativeTime||m,w=c.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],x=w.length,A=0;A<x;A+=1){var N=w[A];N.d&&(E=b?p(S).diff(C,N.d,!0):C.diff(S,N.d,!0));var V=(c.rounding||Math.round)(Math.abs(E));if(P=E>0,V<=N.r||!N.r){V<=1&&A>0&&(N=w[A-1]);var W=B[N.l];I&&(V=I(""+V)),L=typeof W=="string"?W.replace("%d",V):W(V,T,N.l,P);break}}if(T)return L;var F=P?B.future:B.past;return typeof F=="function"?F(L):F.replace("%s",L)},d.to=function(S,T){return _(S,T,this,!0)},d.from=function(S,T){return _(S,T,this)};var g=function(S){return S.$u?p.utc():p()};d.toNow=function(S){return this.to(g(this),S)},d.fromNow=function(S){return this.from(g(this),S)}}})})(wp);var Dm=wp.exports;const Mm=qs(Dm);Cp.extend(Mm);const Nm=Bs({components:{LikeFilled:Am,LikeOutlined:Lm,DislikeFilled:Sm,DislikeOutlined:Cm},setup(){const s=ur(0),l=ur(0),c=ur();return{likes:s,dislikes:l,action:c,like:()=>{s.value=1,l.value=0,c.value="liked"},dislike:()=>{s.value=0,l.value=1,c.value="disliked"},dayjs:Cp}}}),Fm="/imitate-bili/bilibili.png",Ip=s=>(Tp("data-v-5cdac874"),s=s(),kp(),s),qm={key:"comment-basic-like"},Bm={style:{"padding-left":"8px",cursor:"auto"}},Um={key:"comment-basic-dislike"},jm={style:{"padding-left":"8px",cursor:"auto"}},Hm=Ip(()=>It("span",{key:"comment-basic-reply-to"},"Reply to",-1)),Gm=Ip(()=>It("div",{class:"avatar"},[It("img",{class:"avatar-img",src:Fm})],-1));function Vm(s,l,c,f,p,d){const m=kn("LikeFilled"),_=kn("LikeOutlined"),g=sm,S=kn("DislikeFilled"),T=kn("DislikeOutlined"),C=ym;return er(),lr(C,null,{actions:Gt(()=>[It("span",qm,[Tt(g,{title:"Like"},{default:Gt(()=>[s.action==="liked"?(er(),lr(m,{key:0,onClick:s.like},null,8,["onClick"])):(er(),lr(_,{key:1,onClick:s.like},null,8,["onClick"]))]),_:1}),It("span",Bm,Ur(s.likes),1)]),It("span",Um,[Tt(g,{title:"Dislike"},{default:Gt(()=>[s.action==="disliked"?(er(),lr(S,{key:0,onClick:s.dislike},null,8,["onClick"])):(er(),lr(T,{key:1,onClick:s.dislike},null,8,["onClick"]))]),_:1}),It("span",jm,Ur(s.dislikes),1)]),Hm]),author:Gt(()=>[ni(s.$slots,"author",{},void 0,!0)]),avatar:Gt(()=>[Gm]),content:Gt(()=>[ni(s.$slots,"default",{},void 0,!0),ni(s.$slots,"content",{},void 0,!0)]),datetime:Gt(()=>[Tt(g,{title:s.dayjs().format("YYYY-MM-DD HH:mm:ss")},{default:Gt(()=>[It("span",null,Ur(s.dayjs().fromNow()),1)]),_:1},8,["title"])]),_:3})}const $m=Sp(Nm,[["render",Vm],["__scopeId","data-v-5cdac874"]]);var xp={exports:{}},Zu={},ii,Qu;function et(){if(Qu)return ii;Qu=1;var s=function(l){return l&&l.Math===Math&&l};return ii=s(typeof globalThis=="object"&&globalThis)||s(typeof window=="object"&&window)||s(typeof self=="object"&&self)||s(typeof kr=="object"&&kr)||s(typeof kr=="object"&&kr)||function(){return this}()||Function("return this")(),ii}var ai={},oi,el;function Ge(){return el||(el=1,oi=function(s){try{return!!s()}catch(l){return!0}}),oi}var si,tl;function vt(){if(tl)return si;tl=1;var s=Ge();return si=!s(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),si}var ui,rl;function wn(){if(rl)return ui;rl=1;var s=Ge();return ui=!s(function(){var l=(function(){}).bind();return typeof l!="function"||l.hasOwnProperty("prototype")}),ui}var li,nl;function lt(){if(nl)return li;nl=1;var s=wn(),l=Function.prototype.call;return li=s?l.bind(l):function(){return l.apply(l,arguments)},li}var ci={},il;function Vs(){if(il)return ci;il=1;var s={}.propertyIsEnumerable,l=Object.getOwnPropertyDescriptor,c=l&&!s.call({1:2},1);return ci.f=c?function(p){var d=l(this,p);return!!d&&d.enumerable}:s,ci}var fi,al;function Er(){return al||(al=1,fi=function(s,l){return{enumerable:!(s&1),configurable:!(s&2),writable:!(s&4),value:l}}),fi}var hi,ol;function Ke(){if(ol)return hi;ol=1;var s=wn(),l=Function.prototype,c=l.call,f=s&&l.bind.bind(c,c);return hi=s?f:function(p){return function(){return c.apply(p,arguments)}},hi}var di,sl;function Xt(){if(sl)return di;sl=1;var s=Ke(),l=s({}.toString),c=s("".slice);return di=function(f){return c(l(f),8,-1)},di}var vi,ul;function jr(){if(ul)return vi;ul=1;var s=Ke(),l=Ge(),c=Xt(),f=Object,p=s("".split);return vi=l(function(){return!f("z").propertyIsEnumerable(0)})?function(d){return c(d)==="String"?p(d,""):f(d)}:f,vi}var pi,ll;function Cr(){return ll||(ll=1,pi=function(s){return s==null}),pi}var gi,cl;function cr(){if(cl)return gi;cl=1;var s=Cr(),l=TypeError;return gi=function(c){if(s(c))throw new l("Can't call method on "+c);return c},gi}var yi,fl;function Jt(){if(fl)return yi;fl=1;var s=jr(),l=cr();return yi=function(c){return s(l(c))},yi}var mi,hl;function Ap(){if(hl)return mi;hl=1;var s=typeof document=="object"&&document.all,l=typeof s>"u"&&s!==void 0;return mi={all:s,IS_HTMLDDA:l},mi}var _i,dl;function ct(){if(dl)return _i;dl=1;var s=Ap(),l=s.all;return _i=s.IS_HTMLDDA?function(c){return typeof c=="function"||c===l}:function(c){return typeof c=="function"},_i}var bi,vl;function xt(){if(vl)return bi;vl=1;var s=ct(),l=Ap(),c=l.all;return bi=l.IS_HTMLDDA?function(f){return typeof f=="object"?f!==null:s(f)||f===c}:function(f){return typeof f=="object"?f!==null:s(f)},bi}var Si,pl;function Zt(){if(pl)return Si;pl=1;var s=et(),l=ct(),c=function(f){return l(f)?f:void 0};return Si=function(f,p){return arguments.length<2?c(s[f]):s[f]&&s[f][p]},Si}var Ti,gl;function tr(){if(gl)return Ti;gl=1;var s=Ke();return Ti=s({}.isPrototypeOf),Ti}var ki,yl;function wr(){return yl||(yl=1,ki=typeof navigator<"u"&&String(navigator.userAgent)||""),ki}var Ei,ml;function Hr(){if(ml)return Ei;ml=1;var s=et(),l=wr(),c=s.process,f=s.Deno,p=c&&c.versions||f&&f.version,d=p&&p.v8,m,_;return d&&(m=d.split("."),_=m[0]>0&&m[0]<4?1:+(m[0]+m[1])),!_&&l&&(m=l.match(/Edge\/(\d+)/),(!m||m[1]>=74)&&(m=l.match(/Chrome\/(\d+)/),m&&(_=+m[1]))),Ei=_,Ei}var Ci,_l;function Gr(){if(_l)return Ci;_l=1;var s=Hr(),l=Ge(),c=et(),f=c.String;return Ci=!!Object.getOwnPropertySymbols&&!l(function(){var p=Symbol("symbol detection");return!f(p)||!(Object(p)instanceof Symbol)||!Symbol.sham&&s&&s<41}),Ci}var wi,bl;function Rp(){if(bl)return wi;bl=1;var s=Gr();return wi=s&&!Symbol.sham&&typeof Symbol.iterator=="symbol",wi}var Ii,Sl;function Vr(){if(Sl)return Ii;Sl=1;var s=Zt(),l=ct(),c=tr(),f=Rp(),p=Object;return Ii=f?function(d){return typeof d=="symbol"}:function(d){var m=s("Symbol");return l(m)&&c(m.prototype,p(d))},Ii}var xi,Tl;function Ir(){if(Tl)return xi;Tl=1;var s=String;return xi=function(l){try{return s(l)}catch(c){return"Object"}},xi}var Ai,kl;function $t(){if(kl)return Ai;kl=1;var s=ct(),l=Ir(),c=TypeError;return Ai=function(f){if(s(f))return f;throw new c(l(f)+" is not a function")},Ai}var Ri,El;function $r(){if(El)return Ri;El=1;var s=$t(),l=Cr();return Ri=function(c,f){var p=c[f];return l(p)?void 0:s(p)},Ri}var Oi,Cl;function Wm(){if(Cl)return Oi;Cl=1;var s=lt(),l=ct(),c=xt(),f=TypeError;return Oi=function(p,d){var m,_;if(d==="string"&&l(m=p.toString)&&!c(_=s(m,p))||l(m=p.valueOf)&&!c(_=s(m,p))||d!=="string"&&l(m=p.toString)&&!c(_=s(m,p)))return _;throw new f("Can't convert object to primitive value")},Oi}var Pi={exports:{}},Li,wl;function Wt(){return wl||(wl=1,Li=!1),Li}var Di,Il;function $s(){if(Il)return Di;Il=1;var s=et(),l=Object.defineProperty;return Di=function(c,f){try{l(s,c,{value:f,configurable:!0,writable:!0})}catch(p){s[c]=f}return f},Di}var Mi,xl;function Ws(){if(xl)return Mi;xl=1;var s=et(),l=$s(),c="__core-js_shared__",f=s[c]||l(c,{});return Mi=f,Mi}var Al;function Wr(){if(Al)return Pi.exports;Al=1;var s=Wt(),l=Ws();return(Pi.exports=function(c,f){return l[c]||(l[c]=f!==void 0?f:{})})("versions",[]).push({version:"3.34.0",mode:s?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.34.0/LICENSE",source:"https://github.com/zloirock/core-js"}),Pi.exports}var Ni,Rl;function At(){if(Rl)return Ni;Rl=1;var s=cr(),l=Object;return Ni=function(c){return l(s(c))},Ni}var Fi,Ol;function yt(){if(Ol)return Fi;Ol=1;var s=Ke(),l=At(),c=s({}.hasOwnProperty);return Fi=Object.hasOwn||function(p,d){return c(l(p),d)},Fi}var qi,Pl;function In(){if(Pl)return qi;Pl=1;var s=Ke(),l=0,c=Math.random(),f=s(1 .toString);return qi=function(p){return"Symbol("+(p===void 0?"":p)+")_"+f(++l+c,36)},qi}var Bi,Ll;function ot(){if(Ll)return Bi;Ll=1;var s=et(),l=Wr(),c=yt(),f=In(),p=Gr(),d=Rp(),m=s.Symbol,_=l("wks"),g=d?m.for||m:m&&m.withoutSetter||f;return Bi=function(S){return c(_,S)||(_[S]=p&&c(m,S)?m[S]:g("Symbol."+S)),_[S]},Bi}var Ui,Dl;function Ks(){if(Dl)return Ui;Dl=1;var s=lt(),l=xt(),c=Vr(),f=$r(),p=Wm(),d=ot(),m=TypeError,_=d("toPrimitive");return Ui=function(g,S){if(!l(g)||c(g))return g;var T=f(g,_),C;if(T){if(S===void 0&&(S="default"),C=s(T,g,S),!l(C)||c(C))return C;throw new m("Can't convert object to primitive value")}return S===void 0&&(S="number"),p(g,S)},Ui}var ji,Ml;function Qr(){if(Ml)return ji;Ml=1;var s=Ks(),l=Vr();return ji=function(c){var f=s(c,"string");return l(f)?f:f+""},ji}var Hi,Nl;function xn(){if(Nl)return Hi;Nl=1;var s=et(),l=xt(),c=s.document,f=l(c)&&l(c.createElement);return Hi=function(p){return f?c.createElement(p):{}},Hi}var Gi,Fl;function Op(){if(Fl)return Gi;Fl=1;var s=vt(),l=Ge(),c=xn();return Gi=!s&&!l(function(){return Object.defineProperty(c("div"),"a",{get:function(){return 7}}).a!==7}),Gi}var ql;function Kr(){if(ql)return ai;ql=1;var s=vt(),l=lt(),c=Vs(),f=Er(),p=Jt(),d=Qr(),m=yt(),_=Op(),g=Object.getOwnPropertyDescriptor;return ai.f=s?g:function(T,C){if(T=p(T),C=d(C),_)try{return g(T,C)}catch(b){}if(m(T,C))return f(!l(c.f,T,C),T[C])},ai}var Vi={},$i,Bl;function Pp(){if(Bl)return $i;Bl=1;var s=vt(),l=Ge();return $i=s&&l(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),$i}var Wi,Ul;function St(){if(Ul)return Wi;Ul=1;var s=xt(),l=String,c=TypeError;return Wi=function(f){if(s(f))return f;throw new c(l(f)+" is not an object")},Wi}var jl;function Nt(){if(jl)return Vi;jl=1;var s=vt(),l=Op(),c=Pp(),f=St(),p=Qr(),d=TypeError,m=Object.defineProperty,_=Object.getOwnPropertyDescriptor,g="enumerable",S="configurable",T="writable";return Vi.f=s?c?function(b,I,E){if(f(b),I=p(I),f(E),typeof b=="function"&&I==="prototype"&&"value"in E&&T in E&&!E[T]){var L=_(b,I);L&&L[T]&&(b[I]=E.value,E={configurable:S in E?E[S]:L[S],enumerable:g in E?E[g]:L[g],writable:!1})}return m(b,I,E)}:m:function(b,I,E){if(f(b),I=p(I),f(E),l)try{return m(b,I,E)}catch(L){}if("get"in E||"set"in E)throw new d("Accessors not supported");return"value"in E&&(b[I]=E.value),b},Vi}var Ki,Hl;function Qt(){if(Hl)return Ki;Hl=1;var s=vt(),l=Nt(),c=Er();return Ki=s?function(f,p,d){return l.f(f,p,c(1,d))}:function(f,p,d){return f[p]=d,f},Ki}var Yi={exports:{}},zi,Gl;function Yr(){if(Gl)return zi;Gl=1;var s=vt(),l=yt(),c=Function.prototype,f=s&&Object.getOwnPropertyDescriptor,p=l(c,"name"),d=p&&(function(){}).name==="something",m=p&&(!s||s&&f(c,"name").configurable);return zi={EXISTS:p,PROPER:d,CONFIGURABLE:m},zi}var Xi,Vl;function Ys(){if(Vl)return Xi;Vl=1;var s=Ke(),l=ct(),c=Ws(),f=s(Function.toString);return l(c.inspectSource)||(c.inspectSource=function(p){return f(p)}),Xi=c.inspectSource,Xi}var Ji,$l;function Km(){if($l)return Ji;$l=1;var s=et(),l=ct(),c=s.WeakMap;return Ji=l(c)&&/native code/.test(String(c)),Ji}var Zi,Wl;function An(){if(Wl)return Zi;Wl=1;var s=Wr(),l=In(),c=s("keys");return Zi=function(f){return c[f]||(c[f]=l(f))},Zi}var Qi,Kl;function Rn(){return Kl||(Kl=1,Qi={}),Qi}var ea,Yl;function Ut(){if(Yl)return ea;Yl=1;var s=Km(),l=et(),c=xt(),f=Qt(),p=yt(),d=Ws(),m=An(),_=Rn(),g="Object already initialized",S=l.TypeError,T=l.WeakMap,C,b,I,E=function(w){return I(w)?b(w):C(w,{})},L=function(w){return function(x){var A;if(!c(x)||(A=b(x)).type!==w)throw new S("Incompatible receiver, "+w+" required");return A}};if(s||d.state){var P=d.state||(d.state=new T);P.get=P.get,P.has=P.has,P.set=P.set,C=function(w,x){if(P.has(w))throw new S(g);return x.facade=w,P.set(w,x),x},b=function(w){return P.get(w)||{}},I=function(w){return P.has(w)}}else{var B=m("state");_[B]=!0,C=function(w,x){if(p(w,B))throw new S(g);return x.facade=w,f(w,B,x),x},b=function(w){return p(w,B)?w[B]:{}},I=function(w){return p(w,B)}}return ea={set:C,get:b,has:I,enforce:E,getterFor:L},ea}var zl;function Lp(){if(zl)return Yi.exports;zl=1;var s=Ke(),l=Ge(),c=ct(),f=yt(),p=vt(),d=Yr().CONFIGURABLE,m=Ys(),_=Ut(),g=_.enforce,S=_.get,T=String,C=Object.defineProperty,b=s("".slice),I=s("".replace),E=s([].join),L=p&&!l(function(){return C(function(){},"length",{value:8}).length!==8}),P=String(String).split("String"),B=Yi.exports=function(w,x,A){b(T(x),0,7)==="Symbol("&&(x="["+I(T(x),/^Symbol\(([^)]*)\)/,"$1")+"]"),A&&A.getter&&(x="get "+x),A&&A.setter&&(x="set "+x),(!f(w,"name")||d&&w.name!==x)&&(p?C(w,"name",{value:x,configurable:!0}):w.name=x),L&&A&&f(A,"arity")&&w.length!==A.arity&&C(w,"length",{value:A.arity});try{A&&f(A,"constructor")&&A.constructor?p&&C(w,"prototype",{writable:!1}):w.prototype&&(w.prototype=void 0)}catch(V){}var N=g(w);return f(N,"source")||(N.source=E(P,typeof x=="string"?x:"")),w};return Function.prototype.toString=B(function(){return c(this)&&S(this).source||m(this)},"toString"),Yi.exports}var ta,Xl;function Lt(){if(Xl)return ta;Xl=1;var s=ct(),l=Nt(),c=Lp(),f=$s();return ta=function(p,d,m,_){_||(_={});var g=_.enumerable,S=_.name!==void 0?_.name:d;if(s(m)&&c(m,S,_),_.global)g?p[d]=m:f(d,m);else{try{_.unsafe?p[d]&&(g=!0):delete p[d]}catch(T){}g?p[d]=m:l.f(p,d,{value:m,enumerable:!1,configurable:!_.nonConfigurable,writable:!_.nonWritable})}return p},ta}var ra={},na,Jl;function Ym(){if(Jl)return na;Jl=1;var s=Math.ceil,l=Math.floor;return na=Math.trunc||function(f){var p=+f;return(p>0?l:s)(p)},na}var ia,Zl;function Vt(){if(Zl)return ia;Zl=1;var s=Ym();return ia=function(l){var c=+l;return c!==c||c===0?0:s(c)},ia}var aa,Ql;function xr(){if(Ql)return aa;Ql=1;var s=Vt(),l=Math.max,c=Math.min;return aa=function(f,p){var d=s(f);return d<0?l(d+p,0):c(d,p)},aa}var oa,ec;function fr(){if(ec)return oa;ec=1;var s=Vt(),l=Math.min;return oa=function(c){return c>0?l(s(c),9007199254740991):0},oa}var sa,tc;function Ct(){if(tc)return sa;tc=1;var s=fr();return sa=function(l){return s(l.length)},sa}var ua,rc;function zs(){if(rc)return ua;rc=1;var s=Jt(),l=xr(),c=Ct(),f=function(p){return function(d,m,_){var g=s(d),S=c(g),T=l(_,S),C;if(p&&m!==m){for(;S>T;)if(C=g[T++],C!==C)return!0}else for(;S>T;T++)if((p||T in g)&&g[T]===m)return p||T||0;return!p&&-1}};return ua={includes:f(!0),indexOf:f(!1)},ua}var la,nc;function Dp(){if(nc)return la;nc=1;var s=Ke(),l=yt(),c=Jt(),f=zs().indexOf,p=Rn(),d=s([].push);return la=function(m,_){var g=c(m),S=0,T=[],C;for(C in g)!l(p,C)&&l(g,C)&&d(T,C);for(;_.length>S;)l(g,C=_[S++])&&(~f(T,C)||d(T,C));return T},la}var ca,ic;function Xs(){return ic||(ic=1,ca=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),ca}var ac;function Ar(){if(ac)return ra;ac=1;var s=Dp(),l=Xs(),c=l.concat("length","prototype");return ra.f=Object.getOwnPropertyNames||function(p){return s(p,c)},ra}var fa={},oc;function On(){return oc||(oc=1,fa.f=Object.getOwnPropertySymbols),fa}var ha,sc;function zm(){if(sc)return ha;sc=1;var s=Zt(),l=Ke(),c=Ar(),f=On(),p=St(),d=l([].concat);return ha=s("Reflect","ownKeys")||function(_){var g=c.f(p(_)),S=f.f;return S?d(g,S(_)):g},ha}var da,uc;function Xm(){if(uc)return da;uc=1;var s=yt(),l=zm(),c=Kr(),f=Nt();return da=function(p,d,m){for(var _=l(d),g=f.f,S=c.f,T=0;T<_.length;T++){var C=_[T];!s(p,C)&&!(m&&s(m,C))&&g(p,C,S(d,C))}},da}var va,lc;function Pn(){if(lc)return va;lc=1;var s=Ge(),l=ct(),c=/#|\.prototype\./,f=function(g,S){var T=d[p(g)];return T===_?!0:T===m?!1:l(S)?s(S):!!S},p=f.normalize=function(g){return String(g).replace(c,".").toLowerCase()},d=f.data={},m=f.NATIVE="N",_=f.POLYFILL="P";return va=f,va}var pa,cc;function rt(){if(cc)return pa;cc=1;var s=et(),l=Kr().f,c=Qt(),f=Lt(),p=$s(),d=Xm(),m=Pn();return pa=function(_,g){var S=_.target,T=_.global,C=_.stat,b,I,E,L,P,B;if(T?I=s:C?I=s[S]||p(S,{}):I=(s[S]||{}).prototype,I)for(E in g){if(P=g[E],_.dontCallGetSet?(B=l(I,E),L=B&&B.value):L=I[E],b=m(T?E:S+(C?".":"#")+E,_.forced),!b&&L!==void 0){if(typeof P==typeof L)continue;d(P,L)}(_.sham||L&&L.sham)&&c(P,"sham",!0),f(I,E,P,_)}},pa}var ga,fc;function Js(){if(fc)return ga;fc=1;var s=Xt(),l=Ke();return ga=function(c){if(s(c)==="Function")return l(c)},ga}var ya,hc;function rr(){if(hc)return ya;hc=1;var s=Js(),l=$t(),c=wn(),f=s(s.bind);return ya=function(p,d){return l(p),d===void 0?p:c?f(p,d):function(){return p.apply(d,arguments)}},ya}var ma,dc;function en(){if(dc)return ma;dc=1;var s=Xt();return ma=Array.isArray||function(c){return s(c)==="Array"},ma}var _a,vc;function Zs(){if(vc)return _a;vc=1;var s=ot(),l=s("toStringTag"),c={};return c[l]="z",_a=String(c)==="[object z]",_a}var ba,pc;function nr(){if(pc)return ba;pc=1;var s=Zs(),l=ct(),c=Xt(),f=ot(),p=f("toStringTag"),d=Object,m=c(function(){return arguments}())==="Arguments",_=function(g,S){try{return g[S]}catch(T){}};return ba=s?c:function(g){var S,T,C;return g===void 0?"Undefined":g===null?"Null":typeof(T=_(S=d(g),p))=="string"?T:m?c(S):(C=c(S))==="Object"&&l(S.callee)?"Arguments":C},ba}var Sa,gc;function Ln(){if(gc)return Sa;gc=1;var s=Ke(),l=Ge(),c=ct(),f=nr(),p=Zt(),d=Ys(),m=function(){},_=[],g=p("Reflect","construct"),S=/^\s*(?:class|function)\b/,T=s(S.exec),C=!S.test(m),b=function(L){if(!c(L))return!1;try{return g(m,_,L),!0}catch(P){return!1}},I=function(L){if(!c(L))return!1;switch(f(L)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return C||!!T(S,d(L))}catch(P){return!0}};return I.sham=!0,Sa=!g||l(function(){var E;return b(b.call)||!b(Object)||!b(function(){E=!0})||E})?I:b,Sa}var Ta,yc;function Jm(){if(yc)return Ta;yc=1;var s=en(),l=Ln(),c=xt(),f=ot(),p=f("species"),d=Array;return Ta=function(m){var _;return s(m)&&(_=m.constructor,l(_)&&(_===d||s(_.prototype))?_=void 0:c(_)&&(_=_[p],_===null&&(_=void 0))),_===void 0?d:_},Ta}var ka,mc;function Qs(){if(mc)return ka;mc=1;var s=Jm();return ka=function(l,c){return new(s(l))(c===0?0:c)},ka}var Ea,_c;function Ft(){if(_c)return Ea;_c=1;var s=rr(),l=Ke(),c=jr(),f=At(),p=Ct(),d=Qs(),m=l([].push),_=function(g){var S=g===1,T=g===2,C=g===3,b=g===4,I=g===6,E=g===7,L=g===5||I;return function(P,B,w,x){for(var A=f(P),N=c(A),V=p(N),W=s(B,w),F=0,j=x||d,Q=S?j(P,V):T||E?j(P,0):void 0,v,ie;V>F;F++)if((L||F in N)&&(v=N[F],ie=W(v,F,A),g))if(S)Q[F]=ie;else if(ie)switch(g){case 3:return!0;case 5:return v;case 6:return F;case 2:m(Q,v)}else switch(g){case 4:return!1;case 7:m(Q,v)}return I?-1:C||b?b:Q}};return Ea={forEach:_(0),map:_(1),filter:_(2),some:_(3),every:_(4),find:_(5),findIndex:_(6),filterReject:_(7)},Ea}var Ca={},wa,bc;function Dn(){if(bc)return wa;bc=1;var s=Dp(),l=Xs();return wa=Object.keys||function(f){return s(f,l)},wa}var Sc;function Mp(){if(Sc)return Ca;Sc=1;var s=vt(),l=Pp(),c=Nt(),f=St(),p=Jt(),d=Dn();return Ca.f=s&&!l?Object.defineProperties:function(_,g){f(_);for(var S=p(g),T=d(g),C=T.length,b=0,I;C>b;)c.f(_,I=T[b++],S[I]);return _},Ca}var Ia,Tc;function Np(){if(Tc)return Ia;Tc=1;var s=Zt();return Ia=s("document","documentElement"),Ia}var xa,kc;function hr(){if(kc)return xa;kc=1;var s=St(),l=Mp(),c=Xs(),f=Rn(),p=Np(),d=xn(),m=An(),_=">",g="<",S="prototype",T="script",C=m("IE_PROTO"),b=function(){},I=function(w){return g+T+_+w+g+"/"+T+_},E=function(w){w.write(I("")),w.close();var x=w.parentWindow.Object;return w=null,x},L=function(){var w=d("iframe"),x="java"+T+":",A;return w.style.display="none",p.appendChild(w),w.src=String(x),A=w.contentWindow.document,A.open(),A.write(I("document.F=Object")),A.close(),A.F},P,B=function(){try{P=new ActiveXObject("htmlfile")}catch(x){}B=typeof document<"u"?document.domain&&P?E(P):L():E(P);for(var w=c.length;w--;)delete B[S][c[w]];return B()};return f[C]=!0,xa=Object.create||function(x,A){var N;return x!==null?(b[S]=s(x),N=new b,b[S]=null,N[C]=x):N=B(),A===void 0?N:l.f(N,A)},xa}var Aa,Ec;function eu(){if(Ec)return Aa;Ec=1;var s=ot(),l=hr(),c=Nt().f,f=s("unscopables"),p=Array.prototype;return p[f]===void 0&&c(p,f,{configurable:!0,value:l(null)}),Aa=function(d){p[f][d]=!0},Aa}var Cc;function Zm(){if(Cc)return Zu;Cc=1;var s=rt(),l=Ft().find,c=eu(),f="find",p=!0;return f in[]&&Array(1)[f](function(){p=!1}),s({target:"Array",proto:!0,forced:p},{find:function(m){return l(this,m,arguments.length>1?arguments[1]:void 0)}}),c(f),Zu}var wc={},Ra,Ic;function Qm(){if(Ic)return Ra;Ic=1;var s=Zs(),l=nr();return Ra=s?{}.toString:function(){return"[object "+l(this)+"]"},Ra}var xc;function e0(){if(xc)return wc;xc=1;var s=Zs(),l=Lt(),c=Qm();return s||l(Object.prototype,"toString",c,{unsafe:!0}),wc}var Ac={},Oa,Rc;function Fp(){if(Rc)return Oa;Rc=1;var s=TypeError,l=9007199254740991;return Oa=function(c){if(c>l)throw s("Maximum allowed index exceeded");return c},Oa}var Pa,Oc;function tn(){if(Oc)return Pa;Oc=1;var s=Qr(),l=Nt(),c=Er();return Pa=function(f,p,d){var m=s(p);m in f?l.f(f,m,c(0,d)):f[m]=d},Pa}var La,Pc;function rn(){if(Pc)return La;Pc=1;var s=Ge(),l=ot(),c=Hr(),f=l("species");return La=function(p){return c>=51||!s(function(){var d=[],m=d.constructor={};return m[f]=function(){return{foo:1}},d[p](Boolean).foo!==1})},La}var Lc;function t0(){if(Lc)return Ac;Lc=1;var s=rt(),l=Ge(),c=en(),f=xt(),p=At(),d=Ct(),m=Fp(),_=tn(),g=Qs(),S=rn(),T=ot(),C=Hr(),b=T("isConcatSpreadable"),I=C>=51||!l(function(){var P=[];return P[b]=!1,P.concat()[0]!==P}),E=function(P){if(!f(P))return!1;var B=P[b];return B!==void 0?!!B:c(P)},L=!I||!S("concat");return s({target:"Array",proto:!0,arity:1,forced:L},{concat:function(B){var w=p(this),x=g(w,0),A=0,N,V,W,F,j;for(N=-1,W=arguments.length;N<W;N++)if(j=N===-1?w:arguments[N],E(j))for(F=d(j),m(A+F),V=0;V<F;V++,A++)V in j&&_(x,A,j[V]);else m(A+1),_(x,A++,j);return x.length=A,x}}),Ac}var Dc={},Da,Mc;function qp(){return Mc||(Mc=1,Da={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),Da}var Ma,Nc;function Bp(){if(Nc)return Ma;Nc=1;var s=xn(),l=s("span").classList,c=l&&l.constructor&&l.constructor.prototype;return Ma=c===Object.prototype?void 0:c,Ma}var Na,Fc;function Mn(){if(Fc)return Na;Fc=1;var s=Ge();return Na=function(l,c){var f=[][l];return!!f&&s(function(){f.call(null,c||function(){return 1},1)})},Na}var Fa,qc;function r0(){if(qc)return Fa;qc=1;var s=Ft().forEach,l=Mn(),c=l("forEach");return Fa=c?[].forEach:function(p){return s(this,p,arguments.length>1?arguments[1]:void 0)},Fa}var Bc;function n0(){if(Bc)return Dc;Bc=1;var s=et(),l=qp(),c=Bp(),f=r0(),p=Qt(),d=function(_){if(_&&_.forEach!==f)try{p(_,"forEach",f)}catch(g){_.forEach=f}};for(var m in l)l[m]&&d(s[m]&&s[m].prototype);return d(c),Dc}var Uc={},jc;function i0(){if(jc)return Uc;jc=1;var s=rt(),l=At(),c=Dn(),f=Ge(),p=f(function(){c(1)});return s({target:"Object",stat:!0,forced:p},{keys:function(m){return c(l(m))}}),Uc}var Hc={},qa,Gc;function nn(){if(Gc)return qa;Gc=1;var s=Ke();return qa=s([].slice),qa}var Vc;function a0(){if(Vc)return Hc;Vc=1;var s=rt(),l=en(),c=Ln(),f=xt(),p=xr(),d=Ct(),m=Jt(),_=tn(),g=ot(),S=rn(),T=nn(),C=S("slice"),b=g("species"),I=Array,E=Math.max;return s({target:"Array",proto:!0,forced:!C},{slice:function(P,B){var w=m(this),x=d(w),A=p(P,x),N=p(B===void 0?x:B,x),V,W,F;if(l(w)&&(V=w.constructor,c(V)&&(V===I||l(V.prototype))?V=void 0:f(V)&&(V=V[b],V===null&&(V=void 0)),V===I||V===void 0))return T(w,A,N);for(W=new(V===void 0?I:V)(E(N-A,0)),F=0;A<N;A++,F++)A in w&&_(W,F,w[A]);return W.length=F,W}}),Hc}var $c={},Wc;function o0(){if(Wc)return $c;Wc=1;var s=rt(),l=Ke(),c=jr(),f=Jt(),p=Mn(),d=l([].join),m=c!==Object,_=m||!p("join",",");return s({target:"Array",proto:!0,forced:_},{join:function(S){return d(f(this),S===void 0?",":S)}}),$c}var Kc={},Ba,Yc;function s0(){if(Yc)return Ba;Yc=1;var s=vt(),l=en(),c=TypeError,f=Object.getOwnPropertyDescriptor,p=s&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(d){return d instanceof TypeError}}();return Ba=p?function(d,m){if(l(d)&&!f(d,"length").writable)throw new c("Cannot set read only .length");return d.length=m}:function(d,m){return d.length=m},Ba}var Ua,zc;function tu(){if(zc)return Ua;zc=1;var s=Ir(),l=TypeError;return Ua=function(c,f){if(!delete c[f])throw new l("Cannot delete property "+s(f)+" of "+s(c))},Ua}var Xc;function u0(){if(Xc)return Kc;Xc=1;var s=rt(),l=At(),c=xr(),f=Vt(),p=Ct(),d=s0(),m=Fp(),_=Qs(),g=tn(),S=tu(),T=rn(),C=T("splice"),b=Math.max,I=Math.min;return s({target:"Array",proto:!0,forced:!C},{splice:function(L,P){var B=l(this),w=p(B),x=c(L,w),A=arguments.length,N,V,W,F,j,Q;for(A===0?N=V=0:A===1?(N=0,V=w-x):(N=A-2,V=I(b(f(P),0),w-x)),m(w+N-V),W=_(B,V),F=0;F<V;F++)j=x+F,j in B&&g(W,F,B[j]);if(W.length=V,N<V){for(F=x;F<w-V;F++)j=F+V,Q=F+N,j in B?B[Q]=B[j]:S(B,Q);for(F=w;F>w-V+N;F--)S(B,F-1)}else if(N>V)for(F=w-V;F>x;F--)j=F+V-1,Q=F+N-1,j in B?B[Q]=B[j]:S(B,Q);for(F=0;F<N;F++)B[F+x]=arguments[F+2];return d(B,w-V+N),W}}),Kc}var Jc={},Zc={},ja,Qc;function Nn(){if(Qc)return ja;Qc=1;var s=et(),l=Xt();return ja=l(s.process)==="process",ja}var Ha,ef;function l0(){if(ef)return Ha;ef=1;var s=Ke(),l=$t();return Ha=function(c,f,p){try{return s(l(Object.getOwnPropertyDescriptor(c,f)[p]))}catch(d){}},Ha}var Ga,tf;function c0(){if(tf)return Ga;tf=1;var s=ct(),l=String,c=TypeError;return Ga=function(f){if(typeof f=="object"||s(f))return f;throw new c("Can't set "+l(f)+" as a prototype")},Ga}var Va,rf;function zr(){if(rf)return Va;rf=1;var s=l0(),l=St(),c=c0();return Va=Object.setPrototypeOf||("__proto__"in{}?function(){var f=!1,p={},d;try{d=s(Object.prototype,"__proto__","set"),d(p,[]),f=p instanceof Array}catch(m){}return function(_,g){return l(_),c(g),f?d(_,g):_.__proto__=g,_}}():void 0),Va}var $a,nf;function dr(){if(nf)return $a;nf=1;var s=Nt().f,l=yt(),c=ot(),f=c("toStringTag");return $a=function(p,d,m){p&&!m&&(p=p.prototype),p&&!l(p,f)&&s(p,f,{configurable:!0,value:d})},$a}var Wa,af;function ir(){if(af)return Wa;af=1;var s=Lp(),l=Nt();return Wa=function(c,f,p){return p.get&&s(p.get,f,{getter:!0}),p.set&&s(p.set,f,{setter:!0}),l.f(c,f,p)},Wa}var Ka,of;function ru(){if(of)return Ka;of=1;var s=Zt(),l=ir(),c=ot(),f=vt(),p=c("species");return Ka=function(d){var m=s(d);f&&m&&!m[p]&&l(m,p,{configurable:!0,get:function(){return this}})},Ka}var Ya,sf;function an(){if(sf)return Ya;sf=1;var s=tr(),l=TypeError;return Ya=function(c,f){if(s(f,c))return c;throw new l("Incorrect invocation")},Ya}var za,uf;function Up(){if(uf)return za;uf=1;var s=Ln(),l=Ir(),c=TypeError;return za=function(f){if(s(f))return f;throw new c(l(f)+" is not a constructor")},za}var Xa,lf;function nu(){if(lf)return Xa;lf=1;var s=St(),l=Up(),c=Cr(),f=ot(),p=f("species");return Xa=function(d,m){var _=s(d).constructor,g;return _===void 0||c(g=s(_)[p])?m:l(g)},Xa}var Ja,cf;function Rr(){if(cf)return Ja;cf=1;var s=wn(),l=Function.prototype,c=l.apply,f=l.call;return Ja=typeof Reflect=="object"&&Reflect.apply||(s?f.bind(c):function(){return f.apply(c,arguments)}),Ja}var Za,ff;function iu(){if(ff)return Za;ff=1;var s=TypeError;return Za=function(l,c){if(l<c)throw new s("Not enough arguments");return l},Za}var Qa,hf;function jp(){if(hf)return Qa;hf=1;var s=wr();return Qa=/(?:ipad|iphone|ipod).*applewebkit/i.test(s),Qa}var eo,df;function Hp(){if(df)return eo;df=1;var s=et(),l=Rr(),c=rr(),f=ct(),p=yt(),d=Ge(),m=Np(),_=nn(),g=xn(),S=iu(),T=jp(),C=Nn(),b=s.setImmediate,I=s.clearImmediate,E=s.process,L=s.Dispatch,P=s.Function,B=s.MessageChannel,w=s.String,x=0,A={},N="onreadystatechange",V,W,F,j;d(function(){V=s.location});var Q=function(M){if(p(A,M)){var q=A[M];delete A[M],q()}},v=function(M){return function(){Q(M)}},ie=function(M){Q(M.data)},ee=function(M){s.postMessage(w(M),V.protocol+"//"+V.host)};return(!b||!I)&&(b=function(q){S(arguments.length,1);var O=f(q)?q:P(q),U=_(arguments,1);return A[++x]=function(){l(O,void 0,U)},W(x),x},I=function(q){delete A[q]},C?W=function(M){E.nextTick(v(M))}:L&&L.now?W=function(M){L.now(v(M))}:B&&!T?(F=new B,j=F.port2,F.port1.onmessage=ie,W=c(j.postMessage,j)):s.addEventListener&&f(s.postMessage)&&!s.importScripts&&V&&V.protocol!=="file:"&&!d(ee)?(W=ee,s.addEventListener("message",ie,!1)):N in g("script")?W=function(M){m.appendChild(g("script"))[N]=function(){m.removeChild(this),Q(M)}}:W=function(M){setTimeout(v(M),0)}),eo={set:b,clear:I},eo}var to,vf;function Gp(){if(vf)return to;vf=1;var s=function(){this.head=null,this.tail=null};return s.prototype={add:function(l){var c={item:l,next:null},f=this.tail;f?f.next=c:this.head=c,this.tail=c},get:function(){var l=this.head;if(l){var c=this.head=l.next;return c===null&&(this.tail=null),l.item}}},to=s,to}var ro,pf;function f0(){if(pf)return ro;pf=1;var s=wr();return ro=/ipad|iphone|ipod/i.test(s)&&typeof Pebble<"u",ro}var no,gf;function h0(){if(gf)return no;gf=1;var s=wr();return no=/web0s(?!.*chrome)/i.test(s),no}var io,yf;function d0(){if(yf)return io;yf=1;var s=et(),l=rr(),c=Kr().f,f=Hp().set,p=Gp(),d=jp(),m=f0(),_=h0(),g=Nn(),S=s.MutationObserver||s.WebKitMutationObserver,T=s.document,C=s.process,b=s.Promise,I=c(s,"queueMicrotask"),E=I&&I.value,L,P,B,w,x;if(!E){var A=new p,N=function(){var V,W;for(g&&(V=C.domain)&&V.exit();W=A.get();)try{W()}catch(F){throw A.head&&L(),F}V&&V.enter()};!d&&!g&&!_&&S&&T?(P=!0,B=T.createTextNode(""),new S(N).observe(B,{characterData:!0}),L=function(){B.data=P=!P}):!m&&b&&b.resolve?(w=b.resolve(void 0),w.constructor=b,x=l(w.then,w),L=function(){x(N)}):g?L=function(){C.nextTick(N)}:(f=l(f,s),L=function(){f(N)}),E=function(V){A.head||L(),A.add(V)}}return io=E,io}var ao,mf;function v0(){return mf||(mf=1,ao=function(s,l){try{arguments.length===1?console.error(s):console.error(s,l)}catch(c){}}),ao}var oo,_f;function au(){return _f||(_f=1,oo=function(s){try{return{error:!1,value:s()}}catch(l){return{error:!0,value:l}}}),oo}var so,bf;function on(){if(bf)return so;bf=1;var s=et();return so=s.Promise,so}var uo,Sf;function Vp(){return Sf||(Sf=1,uo=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"),uo}var lo,Tf;function p0(){if(Tf)return lo;Tf=1;var s=Vp(),l=Nn();return lo=!s&&!l&&typeof window=="object"&&typeof document=="object",lo}var co,kf;function sn(){if(kf)return co;kf=1;var s=et(),l=on(),c=ct(),f=Pn(),p=Ys(),d=ot(),m=p0(),_=Vp(),g=Wt(),S=Hr(),T=l&&l.prototype,C=d("species"),b=!1,I=c(s.PromiseRejectionEvent),E=f("Promise",function(){var L=p(l),P=L!==String(l);if(!P&&S===66||g&&!(T.catch&&T.finally))return!0;if(!S||S<51||!/native code/.test(L)){var B=new l(function(A){A(1)}),w=function(A){A(function(){},function(){})},x=B.constructor={};if(x[C]=w,b=B.then(function(){})instanceof w,!b)return!0}return!P&&(m||_)&&!I});return co={CONSTRUCTOR:E,REJECTION_EVENT:I,SUBCLASSING:b},co}var fo={},Ef;function un(){if(Ef)return fo;Ef=1;var s=$t(),l=TypeError,c=function(f){var p,d;this.promise=new f(function(m,_){if(p!==void 0||d!==void 0)throw new l("Bad Promise constructor");p=m,d=_}),this.resolve=s(p),this.reject=s(d)};return fo.f=function(f){return new c(f)},fo}var Cf;function g0(){if(Cf)return Zc;Cf=1;var s=rt(),l=Wt(),c=Nn(),f=et(),p=lt(),d=Lt(),m=zr(),_=dr(),g=ru(),S=$t(),T=ct(),C=xt(),b=an(),I=nu(),E=Hp().set,L=d0(),P=v0(),B=au(),w=Gp(),x=Ut(),A=on(),N=sn(),V=un(),W="Promise",F=N.CONSTRUCTOR,j=N.REJECTION_EVENT,Q=N.SUBCLASSING,v=x.getterFor(W),ie=x.set,ee=A&&A.prototype,M=A,q=ee,O=f.TypeError,U=f.document,D=f.process,Y=V.f,ae=Y,se=!!(U&&U.createEvent&&f.dispatchEvent),he="unhandledrejection",de="rejectionhandled",be=0,ke=1,Re=2,we=1,ce=2,pe,_e,Ie,Ae,Me=function(z){var re;return C(z)&&T(re=z.then)?re:!1},Ye=function(z,re){var me=re.value,Ee=re.state===ke,Se=Ee?z.ok:z.fail,Ve=z.resolve,Xe=z.reject,nt=z.domain,Pe,Oe,Fe;try{Se?(Ee||(re.rejection===ce&&We(re),re.rejection=we),Se===!0?Pe=me:(nt&&nt.enter(),Pe=Se(me),nt&&(nt.exit(),Fe=!0)),Pe===z.promise?Xe(new O("Promise-chain cycle")):(Oe=Me(Pe))?p(Oe,Pe,Ve,Xe):Ve(Pe)):Xe(me)}catch(Z){nt&&!Fe&&nt.exit(),Xe(Z)}},He=function(z,re){z.notified||(z.notified=!0,L(function(){for(var me=z.reactions,Ee;Ee=me.get();)Ye(Ee,z);z.notified=!1,re&&!z.rejection&&$e(z)}))},ze=function(z,re,me){var Ee,Se;se?(Ee=U.createEvent("Event"),Ee.promise=re,Ee.reason=me,Ee.initEvent(z,!1,!0),f.dispatchEvent(Ee)):Ee={promise:re,reason:me},!j&&(Se=f["on"+z])?Se(Ee):z===he&&P("Unhandled promise rejection",me)},$e=function(z){p(E,f,function(){var re=z.facade,me=z.value,Ee=ft(z),Se;if(Ee&&(Se=B(function(){c?D.emit("unhandledRejection",me,re):ze(he,re,me)}),z.rejection=c||ft(z)?ce:we,Se.error))throw Se.value})},ft=function(z){return z.rejection!==we&&!z.parent},We=function(z){p(E,f,function(){var re=z.facade;c?D.emit("rejectionHandled",re):ze(de,re,z.value)})},Le=function(z,re,me){return function(Ee){z(re,Ee,me)}},Ne=function(z,re,me){z.done||(z.done=!0,me&&(z=me),z.value=re,z.state=Re,He(z,!0))},Ue=function(z,re,me){if(!z.done){z.done=!0,me&&(z=me);try{if(z.facade===re)throw new O("Promise can't be resolved itself");var Ee=Me(re);Ee?L(function(){var Se={done:!1};try{p(Ee,re,Le(Ue,Se,z),Le(Ne,Se,z))}catch(Ve){Ne(Se,Ve,z)}}):(z.value=re,z.state=ke,He(z,!1))}catch(Se){Ne({done:!1},Se,z)}}};if(F&&(M=function(re){b(this,q),S(re),p(pe,this);var me=v(this);try{re(Le(Ue,me),Le(Ne,me))}catch(Ee){Ne(me,Ee)}},q=M.prototype,pe=function(re){ie(this,{type:W,done:!1,notified:!1,parent:!1,reactions:new w,rejection:!1,state:be,value:void 0})},pe.prototype=d(q,"then",function(re,me){var Ee=v(this),Se=Y(I(this,M));return Ee.parent=!0,Se.ok=T(re)?re:!0,Se.fail=T(me)&&me,Se.domain=c?D.domain:void 0,Ee.state===be?Ee.reactions.add(Se):L(function(){Ye(Se,Ee)}),Se.promise}),_e=function(){var z=new pe,re=v(z);this.promise=z,this.resolve=Le(Ue,re),this.reject=Le(Ne,re)},V.f=Y=function(z){return z===M||z===Ie?new _e(z):ae(z)},!l&&T(A)&&ee!==Object.prototype)){Ae=ee.then,Q||d(ee,"then",function(re,me){var Ee=this;return new M(function(Se,Ve){p(Ae,Ee,Se,Ve)}).then(re,me)},{unsafe:!0});try{delete ee.constructor}catch(z){}m&&m(ee,q)}return s({global:!0,constructor:!0,wrap:!0,forced:F},{Promise:M}),_(M,W,!1,!0),g(W),Zc}var wf={},ho,If;function ln(){return If||(If=1,ho={}),ho}var vo,xf;function ou(){if(xf)return vo;xf=1;var s=ot(),l=ln(),c=s("iterator"),f=Array.prototype;return vo=function(p){return p!==void 0&&(l.Array===p||f[c]===p)},vo}var po,Af;function cn(){if(Af)return po;Af=1;var s=nr(),l=$r(),c=Cr(),f=ln(),p=ot(),d=p("iterator");return po=function(m){if(!c(m))return l(m,d)||l(m,"@@iterator")||f[s(m)]},po}var go,Rf;function Fn(){if(Rf)return go;Rf=1;var s=lt(),l=$t(),c=St(),f=Ir(),p=cn(),d=TypeError;return go=function(m,_){var g=arguments.length<2?p(m):_;if(l(g))return c(s(g,m));throw new d(f(m)+" is not iterable")},go}var yo,Of;function $p(){if(Of)return yo;Of=1;var s=lt(),l=St(),c=$r();return yo=function(f,p,d){var m,_;l(f);try{if(m=c(f,"return"),!m){if(p==="throw")throw d;return d}m=s(m,f)}catch(g){_=!0,m=g}if(p==="throw")throw d;if(_)throw m;return l(m),d},yo}var mo,Pf;function Wp(){if(Pf)return mo;Pf=1;var s=rr(),l=lt(),c=St(),f=Ir(),p=ou(),d=Ct(),m=tr(),_=Fn(),g=cn(),S=$p(),T=TypeError,C=function(I,E){this.stopped=I,this.result=E},b=C.prototype;return mo=function(I,E,L){var P=L&&L.that,B=!!(L&&L.AS_ENTRIES),w=!!(L&&L.IS_RECORD),x=!!(L&&L.IS_ITERATOR),A=!!(L&&L.INTERRUPTED),N=s(E,P),V,W,F,j,Q,v,ie,ee=function(q){return V&&S(V,"normal",q),new C(!0,q)},M=function(q){return B?(c(q),A?N(q[0],q[1],ee):N(q[0],q[1])):A?N(q,ee):N(q)};if(w)V=I.iterator;else if(x)V=I;else{if(W=g(I),!W)throw new T(f(I)+" is not iterable");if(p(W)){for(F=0,j=d(I);j>F;F++)if(Q=M(I[F]),Q&&m(b,Q))return Q;return new C(!1)}V=_(I,W)}for(v=w?I.next:V.next;!(ie=l(v,V)).done;){try{Q=M(ie.value)}catch(q){S(V,"throw",q)}if(typeof Q=="object"&&Q&&m(b,Q))return Q}return new C(!1)},mo}var _o,Lf;function Kp(){if(Lf)return _o;Lf=1;var s=ot(),l=s("iterator"),c=!1;try{var f=0,p={next:function(){return{done:!!f++}},return:function(){c=!0}};p[l]=function(){return this},Array.from(p,function(){throw 2})}catch(d){}return _o=function(d,m){try{if(!m&&!c)return!1}catch(S){return!1}var _=!1;try{var g={};g[l]=function(){return{next:function(){return{done:_=!0}}}},d(g)}catch(S){}return _},_o}var bo,Df;function Yp(){if(Df)return bo;Df=1;var s=on(),l=Kp(),c=sn().CONSTRUCTOR;return bo=c||!l(function(f){s.all(f).then(void 0,function(){})}),bo}var Mf;function y0(){if(Mf)return wf;Mf=1;var s=rt(),l=lt(),c=$t(),f=un(),p=au(),d=Wp(),m=Yp();return s({target:"Promise",stat:!0,forced:m},{all:function(g){var S=this,T=f.f(S),C=T.resolve,b=T.reject,I=p(function(){var E=c(S.resolve),L=[],P=0,B=1;d(g,function(w){var x=P++,A=!1;B++,l(E,S,w).then(function(N){A||(A=!0,L[x]=N,--B||C(L))},b)}),--B||C(L)});return I.error&&b(I.value),T.promise}}),wf}var Nf={},Ff;function m0(){if(Ff)return Nf;Ff=1;var s=rt(),l=Wt(),c=sn().CONSTRUCTOR,f=on(),p=Zt(),d=ct(),m=Lt(),_=f&&f.prototype;if(s({target:"Promise",proto:!0,forced:c,real:!0},{catch:function(S){return this.then(void 0,S)}}),!l&&d(f)){var g=p("Promise").prototype.catch;_.catch!==g&&m(_,"catch",g,{unsafe:!0})}return Nf}var qf={},Bf;function _0(){if(Bf)return qf;Bf=1;var s=rt(),l=lt(),c=$t(),f=un(),p=au(),d=Wp(),m=Yp();return s({target:"Promise",stat:!0,forced:m},{race:function(g){var S=this,T=f.f(S),C=T.reject,b=p(function(){var I=c(S.resolve);d(g,function(E){l(I,S,E).then(T.resolve,C)})});return b.error&&C(b.value),T.promise}}),qf}var Uf={},jf;function b0(){if(jf)return Uf;jf=1;var s=rt(),l=lt(),c=un(),f=sn().CONSTRUCTOR;return s({target:"Promise",stat:!0,forced:f},{reject:function(d){var m=c.f(this);return l(m.reject,void 0,d),m.promise}}),Uf}var Hf={},So,Gf;function S0(){if(Gf)return So;Gf=1;var s=St(),l=xt(),c=un();return So=function(f,p){if(s(f),l(p)&&p.constructor===f)return p;var d=c.f(f),m=d.resolve;return m(p),d.promise},So}var Vf;function T0(){if(Vf)return Hf;Vf=1;var s=rt(),l=Zt(),c=Wt(),f=on(),p=sn().CONSTRUCTOR,d=S0(),m=l("Promise"),_=c&&!p;return s({target:"Promise",stat:!0,forced:c||p},{resolve:function(S){return d(_&&this===m?f:this,S)}}),Hf}var $f;function k0(){return $f||($f=1,g0(),y0(),m0(),_0(),b0(),T0()),Jc}var Wf={},Kf;function E0(){if(Kf)return Wf;Kf=1;var s=vt(),l=Yr().EXISTS,c=Ke(),f=ir(),p=Function.prototype,d=c(p.toString),m=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,_=c(m.exec),g="name";return s&&!l&&f(p,g,{configurable:!0,get:function(){try{return _(m,d(this))[1]}catch(S){return""}}}),Wf}var Yf={},zf;function C0(){if(zf)return Yf;zf=1;var s=rt();return s({target:"Number",stat:!0},{isNaN:function(c){return c!==c}}),Yf}var Xf={},To,Jf;function zp(){if(Jf)return To;Jf=1;var s=et();return To=s,To}var ko,Zf;function su(){if(Zf)return ko;Zf=1;var s=ct(),l=xt(),c=zr();return ko=function(f,p,d){var m,_;return c&&s(m=p.constructor)&&m!==d&&l(_=m.prototype)&&_!==d.prototype&&c(f,_),f},ko}var Eo,Qf;function Xp(){if(Qf)return Eo;Qf=1;var s=Ke();return Eo=s(1 .valueOf),Eo}var Co,eh;function Rt(){if(eh)return Co;eh=1;var s=nr(),l=String;return Co=function(c){if(s(c)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return l(c)},Co}var wo,th;function Jp(){return th||(th=1,wo="	\n\v\f\r                　\u2028\u2029\uFEFF"),wo}var Io,rh;function Zp(){if(rh)return Io;rh=1;var s=Ke(),l=cr(),c=Rt(),f=Jp(),p=s("".replace),d=RegExp("^["+f+"]+"),m=RegExp("(^|[^"+f+"])["+f+"]+$"),_=function(g){return function(S){var T=c(l(S));return g&1&&(T=p(T,d,"")),g&2&&(T=p(T,m,"$1")),T}};return Io={start:_(1),end:_(2),trim:_(3)},Io}var nh;function w0(){if(nh)return Xf;nh=1;var s=rt(),l=Wt(),c=vt(),f=et(),p=zp(),d=Ke(),m=Pn(),_=yt(),g=su(),S=tr(),T=Vr(),C=Ks(),b=Ge(),I=Ar().f,E=Kr().f,L=Nt().f,P=Xp(),B=Zp().trim,w="Number",x=f[w],A=p[w],N=x.prototype,V=f.TypeError,W=d("".slice),F=d("".charCodeAt),j=function(q){var O=C(q,"number");return typeof O=="bigint"?O:Q(O)},Q=function(q){var O=C(q,"number"),U,D,Y,ae,se,he,de,be;if(T(O))throw new V("Cannot convert a Symbol value to a number");if(typeof O=="string"&&O.length>2){if(O=B(O),U=F(O,0),U===43||U===45){if(D=F(O,2),D===88||D===120)return NaN}else if(U===48){switch(F(O,1)){case 66:case 98:Y=2,ae=49;break;case 79:case 111:Y=8,ae=55;break;default:return+O}for(se=W(O,2),he=se.length,de=0;de<he;de++)if(be=F(se,de),be<48||be>ae)return NaN;return parseInt(se,Y)}}return+O},v=m(w,!x(" 0o1")||!x("0b1")||x("+0x1")),ie=function(q){return S(N,q)&&b(function(){P(q)})},ee=function(O){var U=arguments.length<1?0:x(j(O));return ie(this)?g(Object(U),this,ee):U};ee.prototype=N,v&&!l&&(N.constructor=ee),s({global:!0,constructor:!0,wrap:!0,forced:v},{Number:ee});var M=function(q,O){for(var U=c?I(O):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),D=0,Y;U.length>D;D++)_(O,Y=U[D])&&!_(q,Y)&&L(q,Y,E(O,Y))};return l&&A&&M(p[w],A),(v||l)&&M(p[w],x),Xf}var ih={},ah;function I0(){if(ah)return ih;ah=1;var s=rt(),l=Ft().map,c=rn(),f=c("map");return s({target:"Array",proto:!0,forced:!f},{map:function(d){return l(this,d,arguments.length>1?arguments[1]:void 0)}}),ih}var xo,oh;function x0(){if(oh)return xo;oh=1;var s=Ge();return xo=!s(function(){function l(){}return l.prototype.constructor=null,Object.getPrototypeOf(new l)!==l.prototype}),xo}var Ao,sh;function qn(){if(sh)return Ao;sh=1;var s=yt(),l=ct(),c=At(),f=An(),p=x0(),d=f("IE_PROTO"),m=Object,_=m.prototype;return Ao=p?m.getPrototypeOf:function(g){var S=c(g);if(s(S,d))return S[d];var T=S.constructor;return l(T)&&S instanceof T?T.prototype:S instanceof m?_:null},Ao}var Ro,uh;function Qp(){if(uh)return Ro;uh=1;var s=Ge(),l=ct(),c=xt(),f=hr(),p=qn(),d=Lt(),m=ot(),_=Wt(),g=m("iterator"),S=!1,T,C,b;[].keys&&(b=[].keys(),"next"in b?(C=p(p(b)),C!==Object.prototype&&(T=C)):S=!0);var I=!c(T)||s(function(){var E={};return T[g].call(E)!==E});return I?T={}:_&&(T=f(T)),l(T[g])||d(T,g,function(){return this}),Ro={IteratorPrototype:T,BUGGY_SAFARI_ITERATORS:S},Ro}var Oo,lh;function eg(){if(lh)return Oo;lh=1;var s=Qp().IteratorPrototype,l=hr(),c=Er(),f=dr(),p=ln(),d=function(){return this};return Oo=function(m,_,g,S){var T=_+" Iterator";return m.prototype=l(s,{next:c(+!S,g)}),f(m,T,!1,!0),p[T]=d,m},Oo}var Po,ch;function tg(){if(ch)return Po;ch=1;var s=rt(),l=lt(),c=Wt(),f=Yr(),p=ct(),d=eg(),m=qn(),_=zr(),g=dr(),S=Qt(),T=Lt(),C=ot(),b=ln(),I=Qp(),E=f.PROPER,L=f.CONFIGURABLE,P=I.IteratorPrototype,B=I.BUGGY_SAFARI_ITERATORS,w=C("iterator"),x="keys",A="values",N="entries",V=function(){return this};return Po=function(W,F,j,Q,v,ie,ee){d(j,F,Q);var M=function(be){if(be===v&&Y)return Y;if(!B&&be&&be in U)return U[be];switch(be){case x:return function(){return new j(this,be)};case A:return function(){return new j(this,be)};case N:return function(){return new j(this,be)}}return function(){return new j(this)}},q=F+" Iterator",O=!1,U=W.prototype,D=U[w]||U["@@iterator"]||v&&U[v],Y=!B&&D||M(v),ae=F==="Array"&&U.entries||D,se,he,de;if(ae&&(se=m(ae.call(new W)),se!==Object.prototype&&se.next&&(!c&&m(se)!==P&&(_?_(se,P):p(se[w])||T(se,w,V)),g(se,q,!0,!0),c&&(b[q]=V))),E&&v===A&&D&&D.name!==A&&(!c&&L?S(U,"name",A):(O=!0,Y=function(){return l(D,this)})),v)if(he={values:M(A),keys:ie?Y:M(x),entries:M(N)},ee)for(de in he)(B||O||!(de in U))&&T(U,de,he[de]);else s({target:F,proto:!0,forced:B||O},he);return(!c||ee)&&U[w]!==Y&&T(U,w,Y,{name:v}),b[F]=Y,he},Po}var Lo,fh;function uu(){return fh||(fh=1,Lo=function(s,l){return{value:s,done:l}}),Lo}var Do,hh;function Bn(){if(hh)return Do;hh=1;var s=Jt(),l=eu(),c=ln(),f=Ut(),p=Nt().f,d=tg(),m=uu(),_=Wt(),g=vt(),S="Array Iterator",T=f.set,C=f.getterFor(S);Do=d(Array,"Array",function(I,E){T(this,{type:S,target:s(I),index:0,kind:E})},function(){var I=C(this),E=I.target,L=I.index++;if(!E||L>=E.length)return I.target=void 0,m(void 0,!0);switch(I.kind){case"keys":return m(L,!1);case"values":return m(E[L],!1)}return m([L,E[L]],!1)},"values");var b=c.Arguments=c.Array;if(l("keys"),l("values"),l("entries"),!_&&g&&b.name!=="values")try{p(b,"name",{value:"values"})}catch(I){}return Do}var dh={},vh;function A0(){if(vh)return dh;vh=1;var s=et(),l=qp(),c=Bp(),f=Bn(),p=Qt(),d=dr(),m=ot(),_=m("iterator"),g=f.values,S=function(C,b){if(C){if(C[_]!==g)try{p(C,_,g)}catch(E){C[_]=g}if(d(C,b,!0),l[b]){for(var I in f)if(C[I]!==f[I])try{p(C,I,f[I])}catch(E){C[I]=f[I]}}}};for(var T in l)S(s[T]&&s[T].prototype,T);return S(c,"DOMTokenList"),dh}var ph={},gh;function R0(){if(gh)return ph;gh=1;var s=rt(),l=Ft().filter,c=rn(),f=c("filter");return s({target:"Array",proto:!0,forced:!f},{filter:function(d){return l(this,d,arguments.length>1?arguments[1]:void 0)}}),ph}var yh={},Mo,mh;function rg(){if(mh)return Mo;mh=1;var s=vt(),l=Ke(),c=lt(),f=Ge(),p=Dn(),d=On(),m=Vs(),_=At(),g=jr(),S=Object.assign,T=Object.defineProperty,C=l([].concat);return Mo=!S||f(function(){if(s&&S({b:1},S(T({},"a",{enumerable:!0,get:function(){T(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var b={},I={},E=Symbol("assign detection"),L="abcdefghijklmnopqrst";return b[E]=7,L.split("").forEach(function(P){I[P]=P}),S({},b)[E]!==7||p(S({},I)).join("")!==L})?function(I,E){for(var L=_(I),P=arguments.length,B=1,w=d.f,x=m.f;P>B;)for(var A=g(arguments[B++]),N=w?C(p(A),w(A)):p(A),V=N.length,W=0,F;V>W;)F=N[W++],(!s||c(x,A,F))&&(L[F]=A[F]);return L}:S,Mo}var _h;function O0(){if(_h)return yh;_h=1;var s=rt(),l=rg();return s({target:"Object",stat:!0,arity:2,forced:Object.assign!==l},{assign:l}),yh}var bh={},Sh={},No={},Fo,Th;function fn(){if(Th)return Fo;Th=1;var s=xr(),l=Ct(),c=tn(),f=Array,p=Math.max;return Fo=function(d,m,_){for(var g=l(d),S=s(m,g),T=s(_===void 0?g:_,g),C=f(p(T-S,0)),b=0;S<T;S++,b++)c(C,b,d[S]);return C.length=b,C},Fo}var kh;function P0(){if(kh)return No;kh=1;var s=Xt(),l=Jt(),c=Ar().f,f=fn(),p=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],d=function(m){try{return c(m)}catch(_){return f(p)}};return No.f=function(_){return p&&s(_)==="Window"?d(_):c(l(_))},No}var qo={},Eh;function ng(){if(Eh)return qo;Eh=1;var s=ot();return qo.f=s,qo}var Bo,Ch;function L0(){if(Ch)return Bo;Ch=1;var s=zp(),l=yt(),c=ng(),f=Nt().f;return Bo=function(p){var d=s.Symbol||(s.Symbol={});l(d,p)||f(d,p,{value:c.f(p)})},Bo}var Uo,wh;function D0(){if(wh)return Uo;wh=1;var s=lt(),l=Zt(),c=ot(),f=Lt();return Uo=function(){var p=l("Symbol"),d=p&&p.prototype,m=d&&d.valueOf,_=c("toPrimitive");d&&!d[_]&&f(d,_,function(g){return s(m,this)},{arity:1})},Uo}var Ih;function M0(){if(Ih)return Sh;Ih=1;var s=rt(),l=et(),c=lt(),f=Ke(),p=Wt(),d=vt(),m=Gr(),_=Ge(),g=yt(),S=tr(),T=St(),C=Jt(),b=Qr(),I=Rt(),E=Er(),L=hr(),P=Dn(),B=Ar(),w=P0(),x=On(),A=Kr(),N=Nt(),V=Mp(),W=Vs(),F=Lt(),j=ir(),Q=Wr(),v=An(),ie=Rn(),ee=In(),M=ot(),q=ng(),O=L0(),U=D0(),D=dr(),Y=Ut(),ae=Ft().forEach,se=v("hidden"),he="Symbol",de="prototype",be=Y.set,ke=Y.getterFor(he),Re=Object[de],we=l.Symbol,ce=we&&we[de],pe=l.RangeError,_e=l.TypeError,Ie=l.QObject,Ae=A.f,Me=N.f,Ye=w.f,He=W.f,ze=f([].push),$e=Q("symbols"),ft=Q("op-symbols"),We=Q("wks"),Le=!Ie||!Ie[de]||!Ie[de].findChild,Ne=function(Pe,Oe,Fe){var Z=Ae(Re,Oe);Z&&delete Re[Oe],Me(Pe,Oe,Fe),Z&&Pe!==Re&&Me(Re,Oe,Z)},Ue=d&&_(function(){return L(Me({},"a",{get:function(){return Me(this,"a",{value:7}).a}})).a!==7})?Ne:Me,z=function(Pe,Oe){var Fe=$e[Pe]=L(ce);return be(Fe,{type:he,tag:Pe,description:Oe}),d||(Fe.description=Oe),Fe},re=function(Oe,Fe,Z){Oe===Re&&re(ft,Fe,Z),T(Oe);var te=b(Fe);return T(Z),g($e,te)?(Z.enumerable?(g(Oe,se)&&Oe[se][te]&&(Oe[se][te]=!1),Z=L(Z,{enumerable:E(0,!1)})):(g(Oe,se)||Me(Oe,se,E(1,{})),Oe[se][te]=!0),Ue(Oe,te,Z)):Me(Oe,te,Z)},me=function(Oe,Fe){T(Oe);var Z=C(Fe),te=P(Z).concat(nt(Z));return ae(te,function(ge){(!d||c(Se,Z,ge))&&re(Oe,ge,Z[ge])}),Oe},Ee=function(Oe,Fe){return Fe===void 0?L(Oe):me(L(Oe),Fe)},Se=function(Oe){var Fe=b(Oe),Z=c(He,this,Fe);return this===Re&&g($e,Fe)&&!g(ft,Fe)?!1:Z||!g(this,Fe)||!g($e,Fe)||g(this,se)&&this[se][Fe]?Z:!0},Ve=function(Oe,Fe){var Z=C(Oe),te=b(Fe);if(!(Z===Re&&g($e,te)&&!g(ft,te))){var ge=Ae(Z,te);return ge&&g($e,te)&&!(g(Z,se)&&Z[se][te])&&(ge.enumerable=!0),ge}},Xe=function(Oe){var Fe=Ye(C(Oe)),Z=[];return ae(Fe,function(te){!g($e,te)&&!g(ie,te)&&ze(Z,te)}),Z},nt=function(Pe){var Oe=Pe===Re,Fe=Ye(Oe?ft:C(Pe)),Z=[];return ae(Fe,function(te){g($e,te)&&(!Oe||g(Re,te))&&ze(Z,$e[te])}),Z};return m||(we=function(){if(S(ce,this))throw new _e("Symbol is not a constructor");var Oe=!arguments.length||arguments[0]===void 0?void 0:I(arguments[0]),Fe=ee(Oe),Z=function(te){var ge=this===void 0?l:this;ge===Re&&c(Z,ft,te),g(ge,se)&&g(ge[se],Fe)&&(ge[se][Fe]=!1);var De=E(1,te);try{Ue(ge,Fe,De)}catch(je){if(!(je instanceof pe))throw je;Ne(ge,Fe,De)}};return d&&Le&&Ue(Re,Fe,{configurable:!0,set:Z}),z(Fe,Oe)},ce=we[de],F(ce,"toString",function(){return ke(this).tag}),F(we,"withoutSetter",function(Pe){return z(ee(Pe),Pe)}),W.f=Se,N.f=re,V.f=me,A.f=Ve,B.f=w.f=Xe,x.f=nt,q.f=function(Pe){return z(M(Pe),Pe)},d&&(j(ce,"description",{configurable:!0,get:function(){return ke(this).description}}),p||F(Re,"propertyIsEnumerable",Se,{unsafe:!0}))),s({global:!0,constructor:!0,wrap:!0,forced:!m,sham:!m},{Symbol:we}),ae(P(We),function(Pe){O(Pe)}),s({target:he,stat:!0,forced:!m},{useSetter:function(){Le=!0},useSimple:function(){Le=!1}}),s({target:"Object",stat:!0,forced:!m,sham:!d},{create:Ee,defineProperty:re,defineProperties:me,getOwnPropertyDescriptor:Ve}),s({target:"Object",stat:!0,forced:!m},{getOwnPropertyNames:Xe}),U(),D(we,he),ie[se]=!0,Sh}var xh={},jo,Ah;function ig(){if(Ah)return jo;Ah=1;var s=Gr();return jo=s&&!!Symbol.for&&!!Symbol.keyFor,jo}var Rh;function N0(){if(Rh)return xh;Rh=1;var s=rt(),l=Zt(),c=yt(),f=Rt(),p=Wr(),d=ig(),m=p("string-to-symbol-registry"),_=p("symbol-to-string-registry");return s({target:"Symbol",stat:!0,forced:!d},{for:function(g){var S=f(g);if(c(m,S))return m[S];var T=l("Symbol")(S);return m[S]=T,_[T]=S,T}}),xh}var Oh={},Ph;function F0(){if(Ph)return Oh;Ph=1;var s=rt(),l=yt(),c=Vr(),f=Ir(),p=Wr(),d=ig(),m=p("symbol-to-string-registry");return s({target:"Symbol",stat:!0,forced:!d},{keyFor:function(g){if(!c(g))throw new TypeError(f(g)+" is not a symbol");if(l(m,g))return m[g]}}),Oh}var Lh={},Ho,Dh;function q0(){if(Dh)return Ho;Dh=1;var s=Ke(),l=en(),c=ct(),f=Xt(),p=Rt(),d=s([].push);return Ho=function(m){if(c(m))return m;if(l(m)){for(var _=m.length,g=[],S=0;S<_;S++){var T=m[S];typeof T=="string"?d(g,T):(typeof T=="number"||f(T)==="Number"||f(T)==="String")&&d(g,p(T))}var C=g.length,b=!0;return function(I,E){if(b)return b=!1,E;if(l(this))return E;for(var L=0;L<C;L++)if(g[L]===I)return E}}},Ho}var Mh;function ag(){if(Mh)return Lh;Mh=1;var s=rt(),l=Zt(),c=Rr(),f=lt(),p=Ke(),d=Ge(),m=ct(),_=Vr(),g=nn(),S=q0(),T=Gr(),C=String,b=l("JSON","stringify"),I=p(/./.exec),E=p("".charAt),L=p("".charCodeAt),P=p("".replace),B=p(1 .toString),w=/[\uD800-\uDFFF]/g,x=/^[\uD800-\uDBFF]$/,A=/^[\uDC00-\uDFFF]$/,N=!T||d(function(){var j=l("Symbol")("stringify detection");return b([j])!=="[null]"||b({a:j})!=="{}"||b(Object(j))!=="{}"}),V=d(function(){return b("\uDF06\uD834")!=='"\\udf06\\ud834"'||b("\uDEAD")!=='"\\udead"'}),W=function(j,Q){var v=g(arguments),ie=S(Q);if(!(!m(ie)&&(j===void 0||_(j))))return v[1]=function(ee,M){if(m(ie)&&(M=f(ie,this,C(ee),M)),!_(M))return M},c(b,null,v)},F=function(j,Q,v){var ie=E(v,Q-1),ee=E(v,Q+1);return I(x,j)&&!I(A,ee)||I(A,j)&&!I(x,ie)?"\\u"+B(L(j,0),16):j};return b&&s({target:"JSON",stat:!0,arity:3,forced:N||V},{stringify:function(Q,v,ie){var ee=g(arguments),M=c(N?W:b,null,ee);return V&&typeof M=="string"?P(M,w,F):M}}),Lh}var Nh={},Fh;function B0(){if(Fh)return Nh;Fh=1;var s=rt(),l=Gr(),c=Ge(),f=On(),p=At(),d=!l||c(function(){f.f(1)});return s({target:"Object",stat:!0,forced:d},{getOwnPropertySymbols:function(_){var g=f.f;return g?g(p(_)):[]}}),Nh}var qh;function U0(){return qh||(qh=1,M0(),N0(),F0(),ag(),B0()),bh}var Bh={},Go,Uh;function og(){if(Uh)return Go;Uh=1;var s=St();return Go=function(){var l=s(this),c="";return l.hasIndices&&(c+="d"),l.global&&(c+="g"),l.ignoreCase&&(c+="i"),l.multiline&&(c+="m"),l.dotAll&&(c+="s"),l.unicode&&(c+="u"),l.unicodeSets&&(c+="v"),l.sticky&&(c+="y"),c},Go}var Vo,jh;function Un(){if(jh)return Vo;jh=1;var s=Ge(),l=et(),c=l.RegExp,f=s(function(){var m=c("a","y");return m.lastIndex=2,m.exec("abcd")!==null}),p=f||s(function(){return!c("a","y").sticky}),d=f||s(function(){var m=c("^r","gy");return m.lastIndex=2,m.exec("str")!==null});return Vo={BROKEN_CARET:d,MISSED_STICKY:p,UNSUPPORTED_Y:f},Vo}var $o,Hh;function sg(){if(Hh)return $o;Hh=1;var s=Ge(),l=et(),c=l.RegExp;return $o=s(function(){var f=c(".","s");return!(f.dotAll&&f.test("\n")&&f.flags==="s")}),$o}var Wo,Gh;function ug(){if(Gh)return Wo;Gh=1;var s=Ge(),l=et(),c=l.RegExp;return Wo=s(function(){var f=c("(?<a>b)","g");return f.exec("b").groups.a!=="b"||"b".replace(f,"$<a>c")!=="bc"}),Wo}var Ko,Vh;function jn(){if(Vh)return Ko;Vh=1;var s=lt(),l=Ke(),c=Rt(),f=og(),p=Un(),d=Wr(),m=hr(),_=Ut().get,g=sg(),S=ug(),T=d("native-string-replace",String.prototype.replace),C=RegExp.prototype.exec,b=C,I=l("".charAt),E=l("".indexOf),L=l("".replace),P=l("".slice),B=function(){var N=/a/,V=/b*/g;return s(C,N,"a"),s(C,V,"a"),N.lastIndex!==0||V.lastIndex!==0}(),w=p.BROKEN_CARET,x=/()??/.exec("")[1]!==void 0,A=B||x||w||g||S;return A&&(b=function(V){var W=this,F=_(W),j=c(V),Q=F.raw,v,ie,ee,M,q,O,U;if(Q)return Q.lastIndex=W.lastIndex,v=s(b,Q,j),W.lastIndex=Q.lastIndex,v;var D=F.groups,Y=w&&W.sticky,ae=s(f,W),se=W.source,he=0,de=j;if(Y&&(ae=L(ae,"y",""),E(ae,"g")===-1&&(ae+="g"),de=P(j,W.lastIndex),W.lastIndex>0&&(!W.multiline||W.multiline&&I(j,W.lastIndex-1)!=="\n")&&(se="(?: "+se+")",de=" "+de,he++),ie=new RegExp("^(?:"+se+")",ae)),x&&(ie=new RegExp("^"+se+"$(?!\\s)",ae)),B&&(ee=W.lastIndex),M=s(C,Y?ie:W,de),Y?M?(M.input=P(M.input,he),M[0]=P(M[0],he),M.index=W.lastIndex,W.lastIndex+=M[0].length):W.lastIndex=0:B&&M&&(W.lastIndex=W.global?M.index+M[0].length:ee),x&&M&&M.length>1&&s(T,M[0],ie,function(){for(q=1;q<arguments.length-2;q++)arguments[q]===void 0&&(M[q]=void 0)}),M&&D)for(M.groups=O=m(null),q=0;q<D.length;q++)U=D[q],O[U[0]]=M[U[1]];return M}),Ko=b,Ko}var $h;function lu(){if($h)return Bh;$h=1;var s=rt(),l=jn();return s({target:"RegExp",proto:!0,forced:/./.exec!==l},{exec:l}),Bh}var Wh={},Yo,Kh;function cu(){if(Kh)return Yo;Kh=1,lu();var s=Js(),l=Lt(),c=jn(),f=Ge(),p=ot(),d=Qt(),m=p("species"),_=RegExp.prototype;return Yo=function(g,S,T,C){var b=p(g),I=!f(function(){var B={};return B[b]=function(){return 7},""[g](B)!==7}),E=I&&!f(function(){var B=!1,w=/a/;return g==="split"&&(w={},w.constructor={},w.constructor[m]=function(){return w},w.flags="",w[b]=/./[b]),w.exec=function(){return B=!0,null},w[b](""),!B});if(!I||!E||T){var L=s(/./[b]),P=S(b,""[g],function(B,w,x,A,N){var V=s(B),W=w.exec;return W===c||W===_.exec?I&&!N?{done:!0,value:L(w,x,A)}:{done:!0,value:V(x,w,A)}:{done:!1}});l(String.prototype,g,P[0]),l(_,b,P[1])}C&&d(_[b],"sham",!0)},Yo}var zo,Yh;function fu(){if(Yh)return zo;Yh=1;var s=Ke(),l=Vt(),c=Rt(),f=cr(),p=s("".charAt),d=s("".charCodeAt),m=s("".slice),_=function(g){return function(S,T){var C=c(f(S)),b=l(T),I=C.length,E,L;return b<0||b>=I?g?"":void 0:(E=d(C,b),E<55296||E>56319||b+1===I||(L=d(C,b+1))<56320||L>57343?g?p(C,b):E:g?m(C,b,b+2):(E-55296<<10)+(L-56320)+65536)}};return zo={codeAt:_(!1),charAt:_(!0)},zo}var Xo,zh;function hu(){if(zh)return Xo;zh=1;var s=fu().charAt;return Xo=function(l,c,f){return c+(f?s(l,c).length:1)},Xo}var Jo,Xh;function du(){if(Xh)return Jo;Xh=1;var s=lt(),l=St(),c=ct(),f=Xt(),p=jn(),d=TypeError;return Jo=function(m,_){var g=m.exec;if(c(g)){var S=s(g,m,_);return S!==null&&l(S),S}if(f(m)==="RegExp")return s(p,m,_);throw new d("RegExp#exec called on incompatible receiver")},Jo}var Jh;function j0(){if(Jh)return Wh;Jh=1;var s=lt(),l=cu(),c=St(),f=Cr(),p=fr(),d=Rt(),m=cr(),_=$r(),g=hu(),S=du();return l("match",function(T,C,b){return[function(E){var L=m(this),P=f(E)?void 0:_(E,T);return P?s(P,E,L):new RegExp(E)[T](d(L))},function(I){var E=c(this),L=d(I),P=b(C,E,L);if(P.done)return P.value;if(!E.global)return S(E,L);var B=E.unicode;E.lastIndex=0;for(var w=[],x=0,A;(A=S(E,L))!==null;){var N=d(A[0]);w[x]=N,N===""&&(E.lastIndex=g(L,p(E.lastIndex),B)),x++}return x===0?null:w}]}),Wh}var Zh={},Zo,Qh;function lg(){if(Qh)return Zo;Qh=1;var s=xt(),l=Xt(),c=ot(),f=c("match");return Zo=function(p){var d;return s(p)&&((d=p[f])!==void 0?!!d:l(p)==="RegExp")},Zo}var Qo,ed;function cg(){if(ed)return Qo;ed=1;var s=lt(),l=yt(),c=tr(),f=og(),p=RegExp.prototype;return Qo=function(d){var m=d.flags;return m===void 0&&!("flags"in p)&&!l(d,"flags")&&c(p,d)?s(f,d):m},Qo}var es,td;function H0(){if(td)return es;td=1;var s=Nt().f;return es=function(l,c,f){f in l||s(l,f,{configurable:!0,get:function(){return c[f]},set:function(p){c[f]=p}})},es}var rd;function G0(){if(rd)return Zh;rd=1;var s=vt(),l=et(),c=Ke(),f=Pn(),p=su(),d=Qt(),m=hr(),_=Ar().f,g=tr(),S=lg(),T=Rt(),C=cg(),b=Un(),I=H0(),E=Lt(),L=Ge(),P=yt(),B=Ut().enforce,w=ru(),x=ot(),A=sg(),N=ug(),V=x("match"),W=l.RegExp,F=W.prototype,j=l.SyntaxError,Q=c(F.exec),v=c("".charAt),ie=c("".replace),ee=c("".indexOf),M=c("".slice),q=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,O=/a/g,U=/a/g,D=new W(O)!==O,Y=b.MISSED_STICKY,ae=b.UNSUPPORTED_Y,se=s&&(!D||Y||A||N||L(function(){return U[V]=!1,W(O)!==O||W(U)===U||String(W(O,"i"))!=="/a/i"})),he=function(we){for(var ce=we.length,pe=0,_e="",Ie=!1,Ae;pe<=ce;pe++){if(Ae=v(we,pe),Ae==="\\"){_e+=Ae+v(we,++pe);continue}!Ie&&Ae==="."?_e+="[\\s\\S]":(Ae==="["?Ie=!0:Ae==="]"&&(Ie=!1),_e+=Ae)}return _e},de=function(we){for(var ce=we.length,pe=0,_e="",Ie=[],Ae=m(null),Me=!1,Ye=!1,He=0,ze="",$e;pe<=ce;pe++){if($e=v(we,pe),$e==="\\")$e+=v(we,++pe);else if($e==="]")Me=!1;else if(!Me)switch(!0){case $e==="[":Me=!0;break;case $e==="(":Q(q,M(we,pe+1))&&(pe+=2,Ye=!0),_e+=$e,He++;continue;case($e===">"&&Ye):if(ze===""||P(Ae,ze))throw new j("Invalid capture group name");Ae[ze]=!0,Ie[Ie.length]=[ze,He],Ye=!1,ze="";continue}Ye?ze+=$e:_e+=$e}return[_e,Ie]};if(f("RegExp",se)){for(var be=function(ce,pe){var _e=g(F,this),Ie=S(ce),Ae=pe===void 0,Me=[],Ye=ce,He,ze,$e,ft,We,Le;if(!_e&&Ie&&Ae&&ce.constructor===be)return ce;if((Ie||g(F,ce))&&(ce=ce.source,Ae&&(pe=C(Ye))),ce=ce===void 0?"":T(ce),pe=pe===void 0?"":T(pe),Ye=ce,A&&"dotAll"in O&&(ze=!!pe&&ee(pe,"s")>-1,ze&&(pe=ie(pe,/s/g,""))),He=pe,Y&&"sticky"in O&&($e=!!pe&&ee(pe,"y")>-1,$e&&ae&&(pe=ie(pe,/y/g,""))),N&&(ft=de(ce),ce=ft[0],Me=ft[1]),We=p(W(ce,pe),_e?this:F,be),(ze||$e||Me.length)&&(Le=B(We),ze&&(Le.dotAll=!0,Le.raw=be(he(ce),He)),$e&&(Le.sticky=!0),Me.length&&(Le.groups=Me)),ce!==Ye)try{d(We,"source",Ye===""?"(?:)":Ye)}catch(Ne){}return We},ke=_(W),Re=0;ke.length>Re;)I(be,W,ke[Re++]);F.constructor=be,be.prototype=F,E(l,"RegExp",be,{constructor:!0})}return w("RegExp"),Zh}var nd={},id;function V0(){if(id)return nd;id=1;var s=vt(),l=Un().MISSED_STICKY,c=Xt(),f=ir(),p=Ut().get,d=RegExp.prototype,m=TypeError;return s&&l&&f(d,"sticky",{configurable:!0,get:function(){if(this!==d){if(c(this)==="RegExp")return!!p(this).sticky;throw new m("Incompatible receiver, RegExp required")}}}),nd}var ad={},od;function $0(){if(od)return ad;od=1;var s=Yr().PROPER,l=Lt(),c=St(),f=Rt(),p=Ge(),d=cg(),m="toString",_=RegExp.prototype,g=_[m],S=p(function(){return g.call({source:"a",flags:"b"})!=="/a/b"}),T=s&&g.name!==m;return(S||T)&&l(RegExp.prototype,m,function(){var b=c(this),I=f(b.source),E=f(d(b));return"/"+I+"/"+E},{unsafe:!0}),ad}var sd={},ud;function W0(){if(ud)return sd;ud=1;var s=Rr(),l=lt(),c=Ke(),f=cu(),p=St(),d=Cr(),m=lg(),_=cr(),g=nu(),S=hu(),T=fr(),C=Rt(),b=$r(),I=fn(),E=du(),L=jn(),P=Un(),B=Ge(),w=P.UNSUPPORTED_Y,x=4294967295,A=Math.min,N=[].push,V=c(/./.exec),W=c(N),F=c("".slice),j=!B(function(){var Q=/(?:)/,v=Q.exec;Q.exec=function(){return v.apply(this,arguments)};var ie="ab".split(Q);return ie.length!==2||ie[0]!=="a"||ie[1]!=="b"});return f("split",function(Q,v,ie){var ee;return"abbc".split(/(b)*/)[1]==="c"||"test".split(/(?:)/,-1).length!==4||"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||".".split(/()()/).length>1||"".split(/.?/).length?ee=function(M,q){var O=C(_(this)),U=q===void 0?x:q>>>0;if(U===0)return[];if(M===void 0)return[O];if(!m(M))return l(v,O,M,U);for(var D=[],Y=(M.ignoreCase?"i":"")+(M.multiline?"m":"")+(M.unicode?"u":"")+(M.sticky?"y":""),ae=0,se=new RegExp(M.source,Y+"g"),he,de,be;(he=l(L,se,O))&&(de=se.lastIndex,!(de>ae&&(W(D,F(O,ae,he.index)),he.length>1&&he.index<O.length&&s(N,D,I(he,1)),be=he[0].length,ae=de,D.length>=U)));)se.lastIndex===he.index&&se.lastIndex++;return ae===O.length?(be||!V(se,""))&&W(D,""):W(D,F(O,ae)),D.length>U?I(D,0,U):D}:"0".split(void 0,0).length?ee=function(M,q){return M===void 0&&q===0?[]:l(v,this,M,q)}:ee=v,[function(q,O){var U=_(this),D=d(q)?void 0:b(q,Q);return D?l(D,q,U,O):l(ee,C(U),q,O)},function(M,q){var O=p(this),U=C(M),D=ie(ee,O,U,q,ee!==v);if(D.done)return D.value;var Y=g(O,RegExp),ae=O.unicode,se=(O.ignoreCase?"i":"")+(O.multiline?"m":"")+(O.unicode?"u":"")+(w?"g":"y"),he=new Y(w?"^(?:"+O.source+")":O,se),de=q===void 0?x:q>>>0;if(de===0)return[];if(U.length===0)return E(he,U)===null?[U]:[];for(var be=0,ke=0,Re=[];ke<U.length;){he.lastIndex=w?0:ke;var we=E(he,w?F(U,ke):U),ce;if(we===null||(ce=A(T(he.lastIndex+(w?ke:0)),U.length))===be)ke=S(U,ke,ae);else{if(W(Re,F(U,be,ke)),Re.length===de)return Re;for(var pe=1;pe<=we.length-1;pe++)if(W(Re,we[pe]),Re.length===de)return Re;ke=be=ce}}return W(Re,F(U,be)),Re}]},!j,w),sd}var ld={},ts,cd;function K0(){if(cd)return ts;cd=1;var s=Ke(),l=At(),c=Math.floor,f=s("".charAt),p=s("".replace),d=s("".slice),m=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,_=/\$([$&'`]|\d{1,2})/g;return ts=function(g,S,T,C,b,I){var E=T+g.length,L=C.length,P=_;return b!==void 0&&(b=l(b),P=m),p(I,P,function(B,w){var x;switch(f(w,0)){case"$":return"$";case"&":return g;case"`":return d(S,0,T);case"'":return d(S,E);case"<":x=b[d(w,1,-1)];break;default:var A=+w;if(A===0)return B;if(A>L){var N=c(A/10);return N===0?B:N<=L?C[N-1]===void 0?f(w,1):C[N-1]+f(w,1):B}x=C[A-1]}return x===void 0?"":x})},ts}var fd;function Y0(){if(fd)return ld;fd=1;var s=Rr(),l=lt(),c=Ke(),f=cu(),p=Ge(),d=St(),m=ct(),_=Cr(),g=Vt(),S=fr(),T=Rt(),C=cr(),b=hu(),I=$r(),E=K0(),L=du(),P=ot(),B=P("replace"),w=Math.max,x=Math.min,A=c([].concat),N=c([].push),V=c("".indexOf),W=c("".slice),F=function(ie){return ie===void 0?ie:String(ie)},j=function(){return"a".replace(/./,"$0")==="$0"}(),Q=function(){return/./[B]?/./[B]("a","$0")==="":!1}(),v=!p(function(){var ie=/./;return ie.exec=function(){var ee=[];return ee.groups={a:"7"},ee},"".replace(ie,"$<a>")!=="7"});return f("replace",function(ie,ee,M){var q=Q?"$":"$0";return[function(U,D){var Y=C(this),ae=_(U)?void 0:I(U,B);return ae?l(ae,U,Y,D):l(ee,T(Y),U,D)},function(O,U){var D=d(this),Y=T(O);if(typeof U=="string"&&V(U,q)===-1&&V(U,"$<")===-1){var ae=M(ee,D,Y,U);if(ae.done)return ae.value}var se=m(U);se||(U=T(U));var he=D.global,de;he&&(de=D.unicode,D.lastIndex=0);for(var be=[],ke;ke=L(D,Y),!(ke===null||(N(be,ke),!he));){var Re=T(ke[0]);Re===""&&(D.lastIndex=b(Y,S(D.lastIndex),de))}for(var we="",ce=0,pe=0;pe<be.length;pe++){ke=be[pe];for(var _e=T(ke[0]),Ie=w(x(g(ke.index),Y.length),0),Ae=[],Me,Ye=1;Ye<ke.length;Ye++)N(Ae,F(ke[Ye]));var He=ke.groups;if(se){var ze=A([_e],Ae,Ie,Y);He!==void 0&&N(ze,He),Me=T(s(U,void 0,ze))}else Me=E(_e,Y,Ie,Ae,He,U);Ie>=ce&&(we+=W(Y,ce,Ie)+Me,ce=Ie+_e.length)}return we+W(Y,ce)}]},!v||!j||Q),ld}var hd={},rs,dd;function z0(){if(dd)return rs;dd=1;var s=Yr().PROPER,l=Ge(),c=Jp(),f="​᠎";return rs=function(p){return l(function(){return!!c[p]()||f[p]()!==f||s&&c[p].name!==p})},rs}var vd;function X0(){if(vd)return hd;vd=1;var s=rt(),l=Zp().trim,c=z0();return s({target:"String",proto:!0,forced:c("trim")},{trim:function(){return l(this)}}),hd}var pd={},gd;function J0(){if(gd)return pd;gd=1,lu();var s=rt(),l=lt(),c=ct(),f=St(),p=Rt(),d=function(){var _=!1,g=/[ac]/;return g.exec=function(){return _=!0,/./.exec.apply(this,arguments)},g.test("abc")===!0&&_}(),m=/./.test;return s({target:"RegExp",proto:!0,forced:!d},{test:function(_){var g=f(this),S=p(_),T=g.exec;if(!c(T))return l(m,g,S);var C=l(T,g,S);return C===null?!1:(f(C),!0)}}),pd}var yd={},ns,md;function vu(){if(md)return ns;md=1;var s=fn(),l=Math.floor,c=function(d,m){var _=d.length,g=l(_/2);return _<8?f(d,m):p(d,c(s(d,0,g),m),c(s(d,g),m),m)},f=function(d,m){for(var _=d.length,g=1,S,T;g<_;){for(T=g,S=d[g];T&&m(d[T-1],S)>0;)d[T]=d[--T];T!==g++&&(d[T]=S)}return d},p=function(d,m,_,g){for(var S=m.length,T=_.length,C=0,b=0;C<S||b<T;)d[C+b]=C<S&&b<T?g(m[C],_[b])<=0?m[C++]:_[b++]:C<S?m[C++]:_[b++];return d};return ns=c,ns}var is,_d;function fg(){if(_d)return is;_d=1;var s=wr(),l=s.match(/firefox\/(\d+)/i);return is=!!l&&+l[1],is}var as,bd;function hg(){if(bd)return as;bd=1;var s=wr();return as=/MSIE|Trident/.test(s),as}var os,Sd;function dg(){if(Sd)return os;Sd=1;var s=wr(),l=s.match(/AppleWebKit\/(\d+)\./);return os=!!l&&+l[1],os}var Td;function Z0(){if(Td)return yd;Td=1;var s=rt(),l=Ke(),c=$t(),f=At(),p=Ct(),d=tu(),m=Rt(),_=Ge(),g=vu(),S=Mn(),T=fg(),C=hg(),b=Hr(),I=dg(),E=[],L=l(E.sort),P=l(E.push),B=_(function(){E.sort(void 0)}),w=_(function(){E.sort(null)}),x=S("sort"),A=!_(function(){if(b)return b<70;if(!(T&&T>3)){if(C)return!0;if(I)return I<603;var W="",F,j,Q,v;for(F=65;F<76;F++){switch(j=String.fromCharCode(F),F){case 66:case 69:case 70:case 72:Q=3;break;case 68:case 71:Q=4;break;default:Q=2}for(v=0;v<47;v++)E.push({k:j+v,v:Q})}for(E.sort(function(ie,ee){return ee.v-ie.v}),v=0;v<E.length;v++)j=E[v].k.charAt(0),W.charAt(W.length-1)!==j&&(W+=j);return W!=="DGBEFHACIJK"}}),N=B||!w||!x||!A,V=function(W){return function(F,j){return j===void 0?-1:F===void 0?1:W!==void 0?+W(F,j)||0:m(F)>m(j)?1:-1}};return s({target:"Array",proto:!0,forced:N},{sort:function(F){F!==void 0&&c(F);var j=f(this);if(A)return F===void 0?L(j):L(j,F);var Q=[],v=p(j),ie,ee;for(ee=0;ee<v;ee++)ee in j&&P(Q,j[ee]);for(g(Q,V(F)),ie=p(Q),ee=0;ee<ie;)j[ee]=Q[ee++];for(;ee<v;)d(j,ee++);return j}}),yd}var kd={},Ed;function vg(){if(Ed)return kd;Ed=1;var s=fu().charAt,l=Rt(),c=Ut(),f=tg(),p=uu(),d="String Iterator",m=c.set,_=c.getterFor(d);return f(String,"String",function(g){m(this,{type:d,string:l(g),index:0})},function(){var S=_(this),T=S.string,C=S.index,b;return C>=T.length?p(void 0,!0):(b=s(T,C),S.index+=b.length,p(b,!1))}),kd}var Cd={},ss,wd;function pg(){if(wd)return ss;wd=1;var s=Vt(),l=Rt(),c=cr(),f=RangeError;return ss=function(d){var m=l(c(this)),_="",g=s(d);if(g<0||g===1/0)throw new f("Wrong number of repetitions");for(;g>0;(g>>>=1)&&(m+=m))g&1&&(_+=m);return _},ss}var Id;function Q0(){if(Id)return Cd;Id=1;var s=rt(),l=Ke(),c=Vt(),f=Xp(),p=pg(),d=Ge(),m=RangeError,_=String,g=Math.floor,S=l(p),T=l("".slice),C=l(1 .toFixed),b=function(w,x,A){return x===0?A:x%2===1?b(w,x-1,A*w):b(w*w,x/2,A)},I=function(w){for(var x=0,A=w;A>=4096;)x+=12,A/=4096;for(;A>=2;)x+=1,A/=2;return x},E=function(w,x,A){for(var N=-1,V=A;++N<6;)V+=x*w[N],w[N]=V%1e7,V=g(V/1e7)},L=function(w,x){for(var A=6,N=0;--A>=0;)N+=w[A],w[A]=g(N/x),N=N%x*1e7},P=function(w){for(var x=6,A="";--x>=0;)if(A!==""||x===0||w[x]!==0){var N=_(w[x]);A=A===""?N:A+S("0",7-N.length)+N}return A},B=d(function(){return C(8e-5,3)!=="0.000"||C(.9,0)!=="1"||C(1.255,2)!=="1.25"||C(0xde0b6b3a7640080,0)!=="1000000000000000128"})||!d(function(){C({})});return s({target:"Number",proto:!0,forced:B},{toFixed:function(x){var A=f(this),N=c(x),V=[0,0,0,0,0,0],W="",F="0",j,Q,v,ie;if(N<0||N>20)throw new m("Incorrect fraction digits");if(A!==A)return"NaN";if(A<=-1e21||A>=1e21)return _(A);if(A<0&&(W="-",A=-A),A>1e-21)if(j=I(A*b(2,69,1))-69,Q=j<0?A*b(2,-j,1):A/b(2,j,1),Q*=4503599627370496,j=52-j,j>0){for(E(V,0,Q),v=N;v>=7;)E(V,1e7,0),v-=7;for(E(V,b(10,v,1),0),v=j-1;v>=23;)L(V,1<<23),v-=23;L(V,1<<v),E(V,1,1),L(V,2),F=P(V)}else E(V,0,Q),E(V,1<<-j,0),F=P(V)+S("0",N);return N>0?(ie=F.length,F=W+(ie<=N?"0."+S("0",N-ie)+F:T(F,0,ie-N)+"."+T(F,ie-N))):F=W+F,F}}),Cd}var xd={},Ad;function e1(){if(Ad)return xd;Ad=1;var s=rt(),l=pg();return s({target:"String",proto:!0},{repeat:l}),xd}var Rd={},Od;function t1(){if(Od)return Rd;Od=1;var s=rt(),l=Ft().findIndex,c=eu(),f="findIndex",p=!0;return f in[]&&Array(1)[f](function(){p=!1}),s({target:"Array",proto:!0,forced:p},{findIndex:function(m){return l(this,m,arguments.length>1?arguments[1]:void 0)}}),c(f),Rd}var Pd={},En={exports:{}},us,Ld;function gg(){return Ld||(Ld=1,us=typeof ArrayBuffer<"u"&&typeof DataView<"u"),us}var ls,Dd;function at(){if(Dd)return ls;Dd=1;var s=gg(),l=vt(),c=et(),f=ct(),p=xt(),d=yt(),m=nr(),_=Ir(),g=Qt(),S=Lt(),T=ir(),C=tr(),b=qn(),I=zr(),E=ot(),L=In(),P=Ut(),B=P.enforce,w=P.get,x=c.Int8Array,A=x&&x.prototype,N=c.Uint8ClampedArray,V=N&&N.prototype,W=x&&b(x),F=A&&b(A),j=Object.prototype,Q=c.TypeError,v=E("toStringTag"),ie=L("TYPED_ARRAY_TAG"),ee="TypedArrayConstructor",M=s&&!!I&&m(c.opera)!=="Opera",q=!1,O,U,D,Y={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},ae={BigInt64Array:8,BigUint64Array:8},se=function(pe){if(!p(pe))return!1;var _e=m(pe);return _e==="DataView"||d(Y,_e)||d(ae,_e)},he=function(ce){var pe=b(ce);if(p(pe)){var _e=w(pe);return _e&&d(_e,ee)?_e[ee]:he(pe)}},de=function(ce){if(!p(ce))return!1;var pe=m(ce);return d(Y,pe)||d(ae,pe)},be=function(ce){if(de(ce))return ce;throw new Q("Target is not a typed array")},ke=function(ce){if(f(ce)&&(!I||C(W,ce)))return ce;throw new Q(_(ce)+" is not a typed array constructor")},Re=function(ce,pe,_e,Ie){if(l){if(_e)for(var Ae in Y){var Me=c[Ae];if(Me&&d(Me.prototype,ce))try{delete Me.prototype[ce]}catch(Ye){try{Me.prototype[ce]=pe}catch(He){}}}(!F[ce]||_e)&&S(F,ce,_e?pe:M&&A[ce]||pe,Ie)}},we=function(ce,pe,_e){var Ie,Ae;if(l){if(I){if(_e){for(Ie in Y)if(Ae=c[Ie],Ae&&d(Ae,ce))try{delete Ae[ce]}catch(Me){}}if(!W[ce]||_e)try{return S(W,ce,_e?pe:M&&W[ce]||pe)}catch(Me){}else return}for(Ie in Y)Ae=c[Ie],Ae&&(!Ae[ce]||_e)&&S(Ae,ce,pe)}};for(O in Y)U=c[O],D=U&&U.prototype,D?B(D)[ee]=U:M=!1;for(O in ae)U=c[O],D=U&&U.prototype,D&&(B(D)[ee]=U);if((!M||!f(W)||W===Function.prototype)&&(W=function(){throw new Q("Incorrect invocation")},M))for(O in Y)c[O]&&I(c[O],W);if((!M||!F||F===j)&&(F=W.prototype,M))for(O in Y)c[O]&&I(c[O].prototype,F);if(M&&b(V)!==F&&I(V,F),l&&!d(F,v)){q=!0,T(F,v,{configurable:!0,get:function(){return p(this)?this[ie]:void 0}});for(O in Y)c[O]&&g(c[O],ie,O)}return ls={NATIVE_ARRAY_BUFFER_VIEWS:M,TYPED_ARRAY_TAG:q&&ie,aTypedArray:be,aTypedArrayConstructor:ke,exportTypedArrayMethod:Re,exportTypedArrayStaticMethod:we,getTypedArrayConstructor:he,isView:se,isTypedArray:de,TypedArray:W,TypedArrayPrototype:F},ls}var cs,Md;function r1(){if(Md)return cs;Md=1;var s=et(),l=Ge(),c=Kp(),f=at().NATIVE_ARRAY_BUFFER_VIEWS,p=s.ArrayBuffer,d=s.Int8Array;return cs=!f||!l(function(){d(1)})||!l(function(){new d(-1)})||!c(function(m){new d,new d(null),new d(1.5),new d(m)},!0)||l(function(){return new d(new p(2),1,void 0).length!==1}),cs}var fs,Nd;function yg(){if(Nd)return fs;Nd=1;var s=Lt();return fs=function(l,c,f){for(var p in c)s(l,p,c[p],f);return l},fs}var hs,Fd;function mg(){if(Fd)return hs;Fd=1;var s=Vt(),l=fr(),c=RangeError;return hs=function(f){if(f===void 0)return 0;var p=s(f),d=l(p);if(p!==d)throw new c("Wrong length or index");return d},hs}var ds,qd;function n1(){return qd||(qd=1,ds=Math.sign||function(l){var c=+l;return c===0||c!==c?c:c<0?-1:1}),ds}var vs,Bd;function i1(){if(Bd)return vs;Bd=1;var s=n1(),l=Math.abs,c=2220446049250313e-31,f=1/c,p=function(d){return d+f-f};return vs=function(d,m,_,g){var S=+d,T=l(S),C=s(S);if(T<g)return C*p(T/g/m)*g*m;var b=(1+m/c)*T,I=b-(b-T);return I>_||I!==I?C*(1/0):C*I},vs}var ps,Ud;function a1(){if(Ud)return ps;Ud=1;var s=i1(),l=11920928955078125e-23,c=34028234663852886e22,f=11754943508222875e-54;return ps=Math.fround||function(d){return s(d,l,c,f)},ps}var gs,jd;function o1(){if(jd)return gs;jd=1;var s=Array,l=Math.abs,c=Math.pow,f=Math.floor,p=Math.log,d=Math.LN2,m=function(g,S,T){var C=s(T),b=T*8-S-1,I=(1<<b)-1,E=I>>1,L=S===23?c(2,-24)-c(2,-77):0,P=g<0||g===0&&1/g<0?1:0,B=0,w,x,A;for(g=l(g),g!==g||g===1/0?(x=g!==g?1:0,w=I):(w=f(p(g)/d),A=c(2,-w),g*A<1&&(w--,A*=2),w+E>=1?g+=L/A:g+=L*c(2,1-E),g*A>=2&&(w++,A/=2),w+E>=I?(x=0,w=I):w+E>=1?(x=(g*A-1)*c(2,S),w+=E):(x=g*c(2,E-1)*c(2,S),w=0));S>=8;)C[B++]=x&255,x/=256,S-=8;for(w=w<<S|x,b+=S;b>0;)C[B++]=w&255,w/=256,b-=8;return C[--B]|=P*128,C},_=function(g,S){var T=g.length,C=T*8-S-1,b=(1<<C)-1,I=b>>1,E=C-7,L=T-1,P=g[L--],B=P&127,w;for(P>>=7;E>0;)B=B*256+g[L--],E-=8;for(w=B&(1<<-E)-1,B>>=-E,E+=S;E>0;)w=w*256+g[L--],E-=8;if(B===0)B=1-I;else{if(B===b)return w?NaN:P?-1/0:1/0;w+=c(2,S),B-=I}return(P?-1:1)*w*c(2,B-S)};return gs={pack:m,unpack:_},gs}var ys,Hd;function _g(){if(Hd)return ys;Hd=1;var s=At(),l=xr(),c=Ct();return ys=function(p){for(var d=s(this),m=c(d),_=arguments.length,g=l(_>1?arguments[1]:void 0,m),S=_>2?arguments[2]:void 0,T=S===void 0?m:l(S,m);T>g;)d[g++]=p;return d},ys}var ms,Gd;function s1(){if(Gd)return ms;Gd=1;var s=et(),l=Ke(),c=vt(),f=gg(),p=Yr(),d=Qt(),m=ir(),_=yg(),g=Ge(),S=an(),T=Vt(),C=fr(),b=mg(),I=a1(),E=o1(),L=qn(),P=zr(),B=Ar().f,w=_g(),x=fn(),A=dr(),N=Ut(),V=p.PROPER,W=p.CONFIGURABLE,F="ArrayBuffer",j="DataView",Q="prototype",v="Wrong length",ie="Wrong index",ee=N.getterFor(F),M=N.getterFor(j),q=N.set,O=s[F],U=O,D=U&&U[Q],Y=s[j],ae=Y&&Y[Q],se=Object.prototype,he=s.Array,de=s.RangeError,be=l(w),ke=l([].reverse),Re=E.pack,we=E.unpack,ce=function(z){return[z&255]},pe=function(z){return[z&255,z>>8&255]},_e=function(z){return[z&255,z>>8&255,z>>16&255,z>>24&255]},Ie=function(z){return z[3]<<24|z[2]<<16|z[1]<<8|z[0]},Ae=function(z){return Re(I(z),23,4)},Me=function(z){return Re(z,52,8)},Ye=function(z,re,me){m(z[Q],re,{configurable:!0,get:function(){return me(this)[re]}})},He=function(z,re,me,Ee){var Se=M(z),Ve=b(me),Xe=!!Ee;if(Ve+re>Se.byteLength)throw new de(ie);var nt=Se.bytes,Pe=Ve+Se.byteOffset,Oe=x(nt,Pe,Pe+re);return Xe?Oe:ke(Oe)},ze=function(z,re,me,Ee,Se,Ve){var Xe=M(z),nt=b(me),Pe=Ee(+Se),Oe=!!Ve;if(nt+re>Xe.byteLength)throw new de(ie);for(var Fe=Xe.bytes,Z=nt+Xe.byteOffset,te=0;te<re;te++)Fe[Z+te]=Pe[Oe?te:re-te-1]};if(!f)U=function(re){S(this,D);var me=b(re);q(this,{type:F,bytes:be(he(me),0),byteLength:me}),c||(this.byteLength=me,this.detached=!1)},D=U[Q],Y=function(re,me,Ee){S(this,ae),S(re,D);var Se=ee(re),Ve=Se.byteLength,Xe=T(me);if(Xe<0||Xe>Ve)throw new de("Wrong offset");if(Ee=Ee===void 0?Ve-Xe:C(Ee),Xe+Ee>Ve)throw new de(v);q(this,{type:j,buffer:re,byteLength:Ee,byteOffset:Xe,bytes:Se.bytes}),c||(this.buffer=re,this.byteLength=Ee,this.byteOffset=Xe)},ae=Y[Q],c&&(Ye(U,"byteLength",ee),Ye(Y,"buffer",M),Ye(Y,"byteLength",M),Ye(Y,"byteOffset",M)),_(ae,{getInt8:function(re){return He(this,1,re)[0]<<24>>24},getUint8:function(re){return He(this,1,re)[0]},getInt16:function(re){var me=He(this,2,re,arguments.length>1?arguments[1]:!1);return(me[1]<<8|me[0])<<16>>16},getUint16:function(re){var me=He(this,2,re,arguments.length>1?arguments[1]:!1);return me[1]<<8|me[0]},getInt32:function(re){return Ie(He(this,4,re,arguments.length>1?arguments[1]:!1))},getUint32:function(re){return Ie(He(this,4,re,arguments.length>1?arguments[1]:!1))>>>0},getFloat32:function(re){return we(He(this,4,re,arguments.length>1?arguments[1]:!1),23)},getFloat64:function(re){return we(He(this,8,re,arguments.length>1?arguments[1]:!1),52)},setInt8:function(re,me){ze(this,1,re,ce,me)},setUint8:function(re,me){ze(this,1,re,ce,me)},setInt16:function(re,me){ze(this,2,re,pe,me,arguments.length>2?arguments[2]:!1)},setUint16:function(re,me){ze(this,2,re,pe,me,arguments.length>2?arguments[2]:!1)},setInt32:function(re,me){ze(this,4,re,_e,me,arguments.length>2?arguments[2]:!1)},setUint32:function(re,me){ze(this,4,re,_e,me,arguments.length>2?arguments[2]:!1)},setFloat32:function(re,me){ze(this,4,re,Ae,me,arguments.length>2?arguments[2]:!1)},setFloat64:function(re,me){ze(this,8,re,Me,me,arguments.length>2?arguments[2]:!1)}});else{var $e=V&&O.name!==F;if(!g(function(){O(1)})||!g(function(){new O(-1)})||g(function(){return new O,new O(1.5),new O(NaN),O.length!==1||$e&&!W})){U=function(re){return S(this,D),new O(b(re))},U[Q]=D;for(var ft=B(O),We=0,Le;ft.length>We;)(Le=ft[We++])in U||d(U,Le,O[Le]);D.constructor=U}else $e&&W&&d(O,"name",F);P&&L(ae)!==se&&P(ae,se);var Ne=new Y(new U(2)),Ue=l(ae.setInt8);Ne.setInt8(0,2147483648),Ne.setInt8(1,2147483649),(Ne.getInt8(0)||!Ne.getInt8(1))&&_(ae,{setInt8:function(re,me){Ue(this,re,me<<24>>24)},setUint8:function(re,me){Ue(this,re,me<<24>>24)}},{unsafe:!0})}return A(U,F),A(Y,j),ms={ArrayBuffer:U,DataView:Y},ms}var _s,Vd;function u1(){if(Vd)return _s;Vd=1;var s=xt(),l=Math.floor;return _s=Number.isInteger||function(f){return!s(f)&&isFinite(f)&&l(f)===f},_s}var bs,$d;function l1(){if($d)return bs;$d=1;var s=Vt(),l=RangeError;return bs=function(c){var f=s(c);if(f<0)throw new l("The argument can't be less than 0");return f},bs}var Ss,Wd;function bg(){if(Wd)return Ss;Wd=1;var s=l1(),l=RangeError;return Ss=function(c,f){var p=s(c);if(p%f)throw new l("Wrong offset");return p},Ss}var Ts,Kd;function c1(){if(Kd)return Ts;Kd=1;var s=Math.round;return Ts=function(l){var c=s(l);return c<0?0:c>255?255:c&255},Ts}var ks,Yd;function f1(){if(Yd)return ks;Yd=1;var s=nr();return ks=function(l){var c=s(l);return c==="BigInt64Array"||c==="BigUint64Array"},ks}var Es,zd;function Sg(){if(zd)return Es;zd=1;var s=Ks(),l=TypeError;return Es=function(c){var f=s(c,"number");if(typeof f=="number")throw new l("Can't convert number to bigint");return BigInt(f)},Es}var Cs,Xd;function h1(){if(Xd)return Cs;Xd=1;var s=rr(),l=lt(),c=Up(),f=At(),p=Ct(),d=Fn(),m=cn(),_=ou(),g=f1(),S=at().aTypedArrayConstructor,T=Sg();return Cs=function(b){var I=c(this),E=f(b),L=arguments.length,P=L>1?arguments[1]:void 0,B=P!==void 0,w=m(E),x,A,N,V,W,F,j,Q;if(w&&!_(w))for(j=d(E,w),Q=j.next,E=[];!(F=l(Q,j)).done;)E.push(F.value);for(B&&L>2&&(P=s(P,arguments[2])),A=p(E),N=new(S(I))(A),V=g(N),x=0;A>x;x++)W=B?P(E[x],x):E[x],N[x]=V?T(W):+W;return N},Cs}var Jd;function d1(){if(Jd)return En.exports;Jd=1;var s=rt(),l=et(),c=lt(),f=vt(),p=r1(),d=at(),m=s1(),_=an(),g=Er(),S=Qt(),T=u1(),C=fr(),b=mg(),I=bg(),E=c1(),L=Qr(),P=yt(),B=nr(),w=xt(),x=Vr(),A=hr(),N=tr(),V=zr(),W=Ar().f,F=h1(),j=Ft().forEach,Q=ru(),v=ir(),ie=Nt(),ee=Kr(),M=Ut(),q=su(),O=M.get,U=M.set,D=M.enforce,Y=ie.f,ae=ee.f,se=l.RangeError,he=m.ArrayBuffer,de=he.prototype,be=m.DataView,ke=d.NATIVE_ARRAY_BUFFER_VIEWS,Re=d.TYPED_ARRAY_TAG,we=d.TypedArray,ce=d.TypedArrayPrototype,pe=d.aTypedArrayConstructor,_e=d.isTypedArray,Ie="BYTES_PER_ELEMENT",Ae="Wrong length",Me=function(We,Le){pe(We);for(var Ne=0,Ue=Le.length,z=new We(Ue);Ue>Ne;)z[Ne]=Le[Ne++];return z},Ye=function(We,Le){v(We,Le,{configurable:!0,get:function(){return O(this)[Le]}})},He=function(We){var Le;return N(de,We)||(Le=B(We))==="ArrayBuffer"||Le==="SharedArrayBuffer"},ze=function(We,Le){return _e(We)&&!x(Le)&&Le in We&&T(+Le)&&Le>=0},$e=function(Le,Ne){return Ne=L(Ne),ze(Le,Ne)?g(2,Le[Ne]):ae(Le,Ne)},ft=function(Le,Ne,Ue){return Ne=L(Ne),ze(Le,Ne)&&w(Ue)&&P(Ue,"value")&&!P(Ue,"get")&&!P(Ue,"set")&&!Ue.configurable&&(!P(Ue,"writable")||Ue.writable)&&(!P(Ue,"enumerable")||Ue.enumerable)?(Le[Ne]=Ue.value,Le):Y(Le,Ne,Ue)};return f?(ke||(ee.f=$e,ie.f=ft,Ye(ce,"buffer"),Ye(ce,"byteOffset"),Ye(ce,"byteLength"),Ye(ce,"length")),s({target:"Object",stat:!0,forced:!ke},{getOwnPropertyDescriptor:$e,defineProperty:ft}),En.exports=function(We,Le,Ne){var Ue=We.match(/\d+/)[0]/8,z=We+(Ne?"Clamped":"")+"Array",re="get"+We,me="set"+We,Ee=l[z],Se=Ee,Ve=Se&&Se.prototype,Xe={},nt=function(Z,te){var ge=O(Z);return ge.view[re](te*Ue+ge.byteOffset,!0)},Pe=function(Z,te,ge){var De=O(Z);De.view[me](te*Ue+De.byteOffset,Ne?E(ge):ge,!0)},Oe=function(Z,te){Y(Z,te,{get:function(){return nt(this,te)},set:function(ge){return Pe(this,te,ge)},enumerable:!0})};ke?p&&(Se=Le(function(Z,te,ge,De){return _(Z,Ve),q(function(){return w(te)?He(te)?De!==void 0?new Ee(te,I(ge,Ue),De):ge!==void 0?new Ee(te,I(ge,Ue)):new Ee(te):_e(te)?Me(Se,te):c(F,Se,te):new Ee(b(te))}(),Z,Se)}),V&&V(Se,we),j(W(Ee),function(Z){Z in Se||S(Se,Z,Ee[Z])}),Se.prototype=Ve):(Se=Le(function(Z,te,ge,De){_(Z,Ve);var je=0,Je=0,st,it,ht;if(!w(te))ht=b(te),it=ht*Ue,st=new he(it);else if(He(te)){st=te,Je=I(ge,Ue);var kt=te.byteLength;if(De===void 0){if(kt%Ue)throw new se(Ae);if(it=kt-Je,it<0)throw new se(Ae)}else if(it=C(De)*Ue,it+Je>kt)throw new se(Ae);ht=it/Ue}else return _e(te)?Me(Se,te):c(F,Se,te);for(U(Z,{buffer:st,byteOffset:Je,byteLength:it,length:ht,view:new be(st)});je<ht;)Oe(Z,je++)}),V&&V(Se,we),Ve=Se.prototype=A(ce)),Ve.constructor!==Se&&S(Ve,"constructor",Se),D(Ve).TypedArrayConstructor=Se,Re&&S(Ve,Re,z);var Fe=Se!==Ee;Xe[z]=Se,s({global:!0,constructor:!0,forced:Fe,sham:!ke},Xe),Ie in Se||S(Se,Ie,Ue),Ie in Ve||S(Ve,Ie,Ue),Q(z)}):En.exports=function(){},En.exports}var Zd;function v1(){if(Zd)return Pd;Zd=1;var s=d1();return s("Uint8",function(l){return function(f,p,d){return l(this,f,p,d)}}),Pd}var Qd={},ev={},tv;function p1(){if(tv)return ev;tv=1;var s=at(),l=Ct(),c=Vt(),f=s.aTypedArray,p=s.exportTypedArrayMethod;return p("at",function(m){var _=f(this),g=l(_),S=c(m),T=S>=0?S:g+S;return T<0||T>=g?void 0:_[T]}),ev}var rv;function g1(){return rv||(rv=1,p1()),Qd}var nv={},ws,iv;function y1(){if(iv)return ws;iv=1;var s=At(),l=xr(),c=Ct(),f=tu(),p=Math.min;return ws=[].copyWithin||function(m,_){var g=s(this),S=c(g),T=l(m,S),C=l(_,S),b=arguments.length>2?arguments[2]:void 0,I=p((b===void 0?S:l(b,S))-C,S-T),E=1;for(C<T&&T<C+I&&(E=-1,C+=I-1,T+=I-1);I-- >0;)C in g?g[T]=g[C]:f(g,T),T+=E,C+=E;return g},ws}var av;function m1(){if(av)return nv;av=1;var s=Ke(),l=at(),c=y1(),f=s(c),p=l.aTypedArray,d=l.exportTypedArrayMethod;return d("copyWithin",function(_,g){return f(p(this),_,g,arguments.length>2?arguments[2]:void 0)}),nv}var ov={},sv;function _1(){if(sv)return ov;sv=1;var s=at(),l=Ft().every,c=s.aTypedArray,f=s.exportTypedArrayMethod;return f("every",function(d){return l(c(this),d,arguments.length>1?arguments[1]:void 0)}),ov}var uv={},lv;function b1(){if(lv)return uv;lv=1;var s=at(),l=_g(),c=Sg(),f=nr(),p=lt(),d=Ke(),m=Ge(),_=s.aTypedArray,g=s.exportTypedArrayMethod,S=d("".slice),T=m(function(){var C=0;return new Int8Array(2).fill({valueOf:function(){return C++}}),C!==1});return g("fill",function(b){var I=arguments.length;_(this);var E=S(f(this),0,3)==="Big"?c(b):+b;return p(l,this,E,I>1?arguments[1]:void 0,I>2?arguments[2]:void 0)},T),uv}var cv={},Is,fv;function S1(){if(fv)return Is;fv=1;var s=Ct();return Is=function(l,c,f){for(var p=0,d=arguments.length>2?f:s(c),m=new l(d);d>p;)m[p]=c[p++];return m},Is}var xs,hv;function Hn(){if(hv)return xs;hv=1;var s=at(),l=nu(),c=s.aTypedArrayConstructor,f=s.getTypedArrayConstructor;return xs=function(p){return c(l(p,f(p)))},xs}var As,dv;function T1(){if(dv)return As;dv=1;var s=S1(),l=Hn();return As=function(c,f){return s(l(c),f)},As}var vv;function k1(){if(vv)return cv;vv=1;var s=at(),l=Ft().filter,c=T1(),f=s.aTypedArray,p=s.exportTypedArrayMethod;return p("filter",function(m){var _=l(f(this),m,arguments.length>1?arguments[1]:void 0);return c(this,_)}),cv}var pv={},gv;function E1(){if(gv)return pv;gv=1;var s=at(),l=Ft().find,c=s.aTypedArray,f=s.exportTypedArrayMethod;return f("find",function(d){return l(c(this),d,arguments.length>1?arguments[1]:void 0)}),pv}var yv={},mv;function C1(){if(mv)return yv;mv=1;var s=at(),l=Ft().findIndex,c=s.aTypedArray,f=s.exportTypedArrayMethod;return f("findIndex",function(d){return l(c(this),d,arguments.length>1?arguments[1]:void 0)}),yv}var _v={},bv={},Rs,Sv;function Tg(){if(Sv)return Rs;Sv=1;var s=rr(),l=jr(),c=At(),f=Ct(),p=function(d){var m=d===1;return function(_,g,S){for(var T=c(_),C=l(T),b=f(C),I=s(g,S),E,L;b-- >0;)if(E=C[b],L=I(E,b,T),L)switch(d){case 0:return E;case 1:return b}return m?-1:void 0}};return Rs={findLast:p(0),findLastIndex:p(1)},Rs}var Tv;function w1(){if(Tv)return bv;Tv=1;var s=at(),l=Tg().findLast,c=s.aTypedArray,f=s.exportTypedArrayMethod;return f("findLast",function(d){return l(c(this),d,arguments.length>1?arguments[1]:void 0)}),bv}var kv;function I1(){return kv||(kv=1,w1()),_v}var Ev={},Cv={},wv;function x1(){if(wv)return Cv;wv=1;var s=at(),l=Tg().findLastIndex,c=s.aTypedArray,f=s.exportTypedArrayMethod;return f("findLastIndex",function(d){return l(c(this),d,arguments.length>1?arguments[1]:void 0)}),Cv}var Iv;function A1(){return Iv||(Iv=1,x1()),Ev}var xv={},Av;function R1(){if(Av)return xv;Av=1;var s=at(),l=Ft().forEach,c=s.aTypedArray,f=s.exportTypedArrayMethod;return f("forEach",function(d){l(c(this),d,arguments.length>1?arguments[1]:void 0)}),xv}var Rv={},Ov;function O1(){if(Ov)return Rv;Ov=1;var s=at(),l=zs().includes,c=s.aTypedArray,f=s.exportTypedArrayMethod;return f("includes",function(d){return l(c(this),d,arguments.length>1?arguments[1]:void 0)}),Rv}var Pv={},Lv;function P1(){if(Lv)return Pv;Lv=1;var s=at(),l=zs().indexOf,c=s.aTypedArray,f=s.exportTypedArrayMethod;return f("indexOf",function(d){return l(c(this),d,arguments.length>1?arguments[1]:void 0)}),Pv}var Dv={},Mv;function L1(){if(Mv)return Dv;Mv=1;var s=et(),l=Ge(),c=Ke(),f=at(),p=Bn(),d=ot(),m=d("iterator"),_=s.Uint8Array,g=c(p.values),S=c(p.keys),T=c(p.entries),C=f.aTypedArray,b=f.exportTypedArrayMethod,I=_&&_.prototype,E=!l(function(){I[m].call([1])}),L=!!I&&I.values&&I[m]===I.values&&I.values.name==="values",P=function(){return g(C(this))};return b("entries",function(){return T(C(this))},E),b("keys",function(){return S(C(this))},E),b("values",P,E||!L,{name:"values"}),b(m,P,E||!L,{name:"values"}),Dv}var Nv={},Fv;function D1(){if(Fv)return Nv;Fv=1;var s=at(),l=Ke(),c=s.aTypedArray,f=s.exportTypedArrayMethod,p=l([].join);return f("join",function(m){return p(c(this),m)}),Nv}var qv={},Os,Bv;function M1(){if(Bv)return Os;Bv=1;var s=Rr(),l=Jt(),c=Vt(),f=Ct(),p=Mn(),d=Math.min,m=[].lastIndexOf,_=!!m&&1/[1].lastIndexOf(1,-0)<0,g=p("lastIndexOf"),S=_||!g;return Os=S?function(C){if(_)return s(m,this,arguments)||0;var b=l(this),I=f(b),E=I-1;for(arguments.length>1&&(E=d(E,c(arguments[1]))),E<0&&(E=I+E);E>=0;E--)if(E in b&&b[E]===C)return E||0;return-1}:m,Os}var Uv;function N1(){if(Uv)return qv;Uv=1;var s=at(),l=Rr(),c=M1(),f=s.aTypedArray,p=s.exportTypedArrayMethod;return p("lastIndexOf",function(m){var _=arguments.length;return l(c,f(this),_>1?[m,arguments[1]]:[m])}),qv}var jv={},Hv;function F1(){if(Hv)return jv;Hv=1;var s=at(),l=Ft().map,c=Hn(),f=s.aTypedArray,p=s.exportTypedArrayMethod;return p("map",function(m){return l(f(this),m,arguments.length>1?arguments[1]:void 0,function(_,g){return new(c(_))(g)})}),jv}var Gv={},Ps,Vv;function kg(){if(Vv)return Ps;Vv=1;var s=$t(),l=At(),c=jr(),f=Ct(),p=TypeError,d=function(m){return function(_,g,S,T){var C=l(_),b=c(C),I=f(C);s(g);var E=m?I-1:0,L=m?-1:1;if(S<2)for(;;){if(E in b){T=b[E],E+=L;break}if(E+=L,m?E<0:I<=E)throw new p("Reduce of empty array with no initial value")}for(;m?E>=0:I>E;E+=L)E in b&&(T=g(T,b[E],E,C));return T}};return Ps={left:d(!1),right:d(!0)},Ps}var $v;function q1(){if($v)return Gv;$v=1;var s=at(),l=kg().left,c=s.aTypedArray,f=s.exportTypedArrayMethod;return f("reduce",function(d){var m=arguments.length;return l(c(this),d,m,m>1?arguments[1]:void 0)}),Gv}var Wv={},Kv;function B1(){if(Kv)return Wv;Kv=1;var s=at(),l=kg().right,c=s.aTypedArray,f=s.exportTypedArrayMethod;return f("reduceRight",function(d){var m=arguments.length;return l(c(this),d,m,m>1?arguments[1]:void 0)}),Wv}var Yv={},zv;function U1(){if(zv)return Yv;zv=1;var s=at(),l=s.aTypedArray,c=s.exportTypedArrayMethod,f=Math.floor;return c("reverse",function(){for(var d=this,m=l(d).length,_=f(m/2),g=0,S;g<_;)S=d[g],d[g++]=d[--m],d[m]=S;return d}),Yv}var Xv={},Jv;function j1(){if(Jv)return Xv;Jv=1;var s=et(),l=lt(),c=at(),f=Ct(),p=bg(),d=At(),m=Ge(),_=s.RangeError,g=s.Int8Array,S=g&&g.prototype,T=S&&S.set,C=c.aTypedArray,b=c.exportTypedArrayMethod,I=!m(function(){var L=new Uint8ClampedArray(2);return l(T,L,{length:1,0:3},1),L[1]!==3}),E=I&&c.NATIVE_ARRAY_BUFFER_VIEWS&&m(function(){var L=new g(2);return L.set(1),L.set("2",1),L[0]!==0||L[1]!==2});return b("set",function(P){C(this);var B=p(arguments.length>1?arguments[1]:void 0,1),w=d(P);if(I)return l(T,this,w,B);var x=this.length,A=f(w),N=0;if(A+B>x)throw new _("Wrong length");for(;N<A;)this[B+N]=w[N++]},!I||E),Xv}var Zv={},Qv;function H1(){if(Qv)return Zv;Qv=1;var s=at(),l=Hn(),c=Ge(),f=nn(),p=s.aTypedArray,d=s.exportTypedArrayMethod,m=c(function(){new Int8Array(1).slice()});return d("slice",function(g,S){for(var T=f(p(this),g,S),C=l(this),b=0,I=T.length,E=new C(I);I>b;)E[b]=T[b++];return E},m),Zv}var ep={},tp;function G1(){if(tp)return ep;tp=1;var s=at(),l=Ft().some,c=s.aTypedArray,f=s.exportTypedArrayMethod;return f("some",function(d){return l(c(this),d,arguments.length>1?arguments[1]:void 0)}),ep}var rp={},np;function V1(){if(np)return rp;np=1;var s=et(),l=Js(),c=Ge(),f=$t(),p=vu(),d=at(),m=fg(),_=hg(),g=Hr(),S=dg(),T=d.aTypedArray,C=d.exportTypedArrayMethod,b=s.Uint16Array,I=b&&l(b.prototype.sort),E=!!I&&!(c(function(){I(new b(2),null)})&&c(function(){I(new b(2),{})})),L=!!I&&!c(function(){if(g)return g<74;if(m)return m<67;if(_)return!0;if(S)return S<602;var B=new b(516),w=Array(516),x,A;for(x=0;x<516;x++)A=x%4,B[x]=515-x,w[x]=x-2*A+3;for(I(B,function(N,V){return(N/4|0)-(V/4|0)}),x=0;x<516;x++)if(B[x]!==w[x])return!0}),P=function(B){return function(w,x){return B!==void 0?+B(w,x)||0:x!==x?-1:w!==w?1:w===0&&x===0?1/w>0&&1/x<0?1:-1:w>x}};return C("sort",function(w){return w!==void 0&&f(w),L?I(this,w):p(T(this),P(w))},!L||E),rp}var ip={},ap;function $1(){if(ap)return ip;ap=1;var s=at(),l=fr(),c=xr(),f=Hn(),p=s.aTypedArray,d=s.exportTypedArrayMethod;return d("subarray",function(_,g){var S=p(this),T=S.length,C=c(_,T),b=f(S);return new b(S.buffer,S.byteOffset+C*S.BYTES_PER_ELEMENT,l((g===void 0?T:c(g,T))-C))}),ip}var op={},sp;function W1(){if(sp)return op;sp=1;var s=et(),l=Rr(),c=at(),f=Ge(),p=nn(),d=s.Int8Array,m=c.aTypedArray,_=c.exportTypedArrayMethod,g=[].toLocaleString,S=!!d&&f(function(){g.call(new d(1))}),T=f(function(){return[1,2].toLocaleString()!==new d([1,2]).toLocaleString()})||!f(function(){d.prototype.toLocaleString.call([1,2])});return _("toLocaleString",function(){return l(g,S?p(m(this)):m(this),p(arguments))},T),op}var up={},lp;function K1(){if(lp)return up;lp=1;var s=at().exportTypedArrayMethod,l=Ge(),c=et(),f=Ke(),p=c.Uint8Array,d=p&&p.prototype||{},m=[].toString,_=f([].join);l(function(){m.call({})})&&(m=function(){return _(this)});var g=d.toString!==m;return s("toString",m,g),up}var cp={},fp={},Ls,hp;function Eg(){if(hp)return Ls;hp=1;var s=Ge(),l=ot(),c=vt(),f=Wt(),p=l("iterator");return Ls=!s(function(){var d=new URL("b?a=1&b=2&c=3","http://a"),m=d.searchParams,_=new URLSearchParams("a=1&a=2&b=3"),g="";return d.pathname="c%20d",m.forEach(function(S,T){m.delete("b"),g+=T+S}),_.delete("a",2),_.delete("b",void 0),f&&(!d.toJSON||!_.has("a",1)||_.has("a",2)||!_.has("a",void 0)||_.has("b"))||!m.size&&(f||!c)||!m.sort||d.href!=="http://a/c%20d?a=1&c=3"||m.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!m[p]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://тест").host!=="xn--e1aybc"||new URL("http://a#б").hash!=="#%D0%B1"||g!=="a1c3"||new URL("http://x",void 0).host!=="x"}),Ls}var Ds,dp;function Y1(){if(dp)return Ds;dp=1;var s=St(),l=$p();return Ds=function(c,f,p,d){try{return d?f(s(p)[0],p[1]):f(p)}catch(m){l(c,"throw",m)}},Ds}var Ms,vp;function z1(){if(vp)return Ms;vp=1;var s=rr(),l=lt(),c=At(),f=Y1(),p=ou(),d=Ln(),m=Ct(),_=tn(),g=Fn(),S=cn(),T=Array;return Ms=function(b){var I=c(b),E=d(this),L=arguments.length,P=L>1?arguments[1]:void 0,B=P!==void 0;B&&(P=s(P,L>2?arguments[2]:void 0));var w=S(I),x=0,A,N,V,W,F,j;if(w&&!(this===T&&p(w)))for(W=g(I,w),F=W.next,N=E?new this:[];!(V=l(F,W)).done;x++)j=B?f(W,P,[V.value,x],!0):V.value,_(N,x,j);else for(A=m(I),N=E?new this(A):T(A);A>x;x++)j=B?P(I[x],x):I[x],_(N,x,j);return N.length=x,N},Ms}var Ns,pp;function X1(){if(pp)return Ns;pp=1;var s=Ke(),l=2147483647,c=36,f=1,p=26,d=38,m=700,_=72,g=128,S="-",T=/[^\0-\u007E]/,C=/[.\u3002\uFF0E\uFF61]/g,b="Overflow: input needs wider integers to process",I=c-f,E=RangeError,L=s(C.exec),P=Math.floor,B=String.fromCharCode,w=s("".charCodeAt),x=s([].join),A=s([].push),N=s("".replace),V=s("".split),W=s("".toLowerCase),F=function(ie){for(var ee=[],M=0,q=ie.length;M<q;){var O=w(ie,M++);if(O>=55296&&O<=56319&&M<q){var U=w(ie,M++);(U&64512)===56320?A(ee,((O&1023)<<10)+(U&1023)+65536):(A(ee,O),M--)}else A(ee,O)}return ee},j=function(ie){return ie+22+75*(ie<26)},Q=function(ie,ee,M){var q=0;for(ie=M?P(ie/m):ie>>1,ie+=P(ie/ee);ie>I*p>>1;)ie=P(ie/I),q+=c;return P(q+(I+1)*ie/(ie+d))},v=function(ie){var ee=[];ie=F(ie);var M=ie.length,q=g,O=0,U=_,D,Y;for(D=0;D<ie.length;D++)Y=ie[D],Y<128&&A(ee,B(Y));var ae=ee.length,se=ae;for(ae&&A(ee,S);se<M;){var he=l;for(D=0;D<ie.length;D++)Y=ie[D],Y>=q&&Y<he&&(he=Y);var de=se+1;if(he-q>P((l-O)/de))throw new E(b);for(O+=(he-q)*de,q=he,D=0;D<ie.length;D++){if(Y=ie[D],Y<q&&++O>l)throw new E(b);if(Y===q){for(var be=O,ke=c;;){var Re=ke<=U?f:ke>=U+p?p:ke-U;if(be<Re)break;var we=be-Re,ce=c-Re;A(ee,B(j(Re+we%ce))),be=P(we/ce),ke+=c}A(ee,B(j(be))),U=Q(O,de,se===ae),O=0,se++}}O++,q++}return x(ee,"")};return Ns=function(ie){var ee=[],M=V(N(W(ie),C,"."),"."),q,O;for(q=0;q<M.length;q++)O=M[q],A(ee,L(T,O)?"xn--"+v(O):O);return x(ee,".")},Ns}var Fs,gp;function Cg(){if(gp)return Fs;gp=1,Bn();var s=rt(),l=et(),c=lt(),f=Ke(),p=vt(),d=Eg(),m=Lt(),_=ir(),g=yg(),S=dr(),T=eg(),C=Ut(),b=an(),I=ct(),E=yt(),L=rr(),P=nr(),B=St(),w=xt(),x=Rt(),A=hr(),N=Er(),V=Fn(),W=cn(),F=uu(),j=iu(),Q=ot(),v=vu(),ie=Q("iterator"),ee="URLSearchParams",M=ee+"Iterator",q=C.set,O=C.getterFor(ee),U=C.getterFor(M),D=Object.getOwnPropertyDescriptor,Y=function(Z){if(!p)return l[Z];var te=D(l,Z);return te&&te.value},ae=Y("fetch"),se=Y("Request"),he=Y("Headers"),de=se&&se.prototype,be=he&&he.prototype,ke=l.RegExp,Re=l.TypeError,we=l.decodeURIComponent,ce=l.encodeURIComponent,pe=f("".charAt),_e=f([].join),Ie=f([].push),Ae=f("".replace),Me=f([].shift),Ye=f([].splice),He=f("".split),ze=f("".slice),$e=/\+/g,ft=Array(4),We=function(Z){return ft[Z-1]||(ft[Z-1]=ke("((?:%[\\da-f]{2}){"+Z+"})","gi"))},Le=function(Z){try{return we(Z)}catch(te){return Z}},Ne=function(Z){var te=Ae(Z,$e," "),ge=4;try{return we(te)}catch(De){for(;ge;)te=Ae(te,We(ge--),Le);return te}},Ue=/[!'()~]|%20/g,z={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},re=function(Z){return z[Z]},me=function(Z){return Ae(ce(Z),Ue,re)},Ee=T(function(te,ge){q(this,{type:M,target:O(te).entries,index:0,kind:ge})},ee,function(){var te=U(this),ge=te.target,De=te.index++;if(!ge||De>=ge.length)return te.target=void 0,F(void 0,!0);var je=ge[De];switch(te.kind){case"keys":return F(je.key,!1);case"values":return F(je.value,!1)}return F([je.key,je.value],!1)},!0),Se=function(Z){this.entries=[],this.url=null,Z!==void 0&&(w(Z)?this.parseObject(Z):this.parseQuery(typeof Z=="string"?pe(Z,0)==="?"?ze(Z,1):Z:x(Z)))};Se.prototype={type:ee,bindURL:function(Z){this.url=Z,this.update()},parseObject:function(Z){var te=this.entries,ge=W(Z),De,je,Je,st,it,ht,kt;if(ge)for(De=V(Z,ge),je=De.next;!(Je=c(je,De)).done;){if(st=V(B(Je.value)),it=st.next,(ht=c(it,st)).done||(kt=c(it,st)).done||!c(it,st).done)throw new Re("Expected sequence with length 2");Ie(te,{key:x(ht.value),value:x(kt.value)})}else for(var qt in Z)E(Z,qt)&&Ie(te,{key:qt,value:x(Z[qt])})},parseQuery:function(Z){if(Z)for(var te=this.entries,ge=He(Z,"&"),De=0,je,Je;De<ge.length;)je=ge[De++],je.length&&(Je=He(je,"="),Ie(te,{key:Ne(Me(Je)),value:Ne(_e(Je,"="))}))},serialize:function(){for(var Z=this.entries,te=[],ge=0,De;ge<Z.length;)De=Z[ge++],Ie(te,me(De.key)+"="+me(De.value));return _e(te,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var Ve=function(){b(this,Xe);var te=arguments.length>0?arguments[0]:void 0,ge=q(this,new Se(te));p||(this.size=ge.entries.length)},Xe=Ve.prototype;if(g(Xe,{append:function(te,ge){var De=O(this);j(arguments.length,2),Ie(De.entries,{key:x(te),value:x(ge)}),p||this.length++,De.updateURL()},delete:function(Z){for(var te=O(this),ge=j(arguments.length,1),De=te.entries,je=x(Z),Je=ge<2?void 0:arguments[1],st=Je===void 0?Je:x(Je),it=0;it<De.length;){var ht=De[it];if(ht.key===je&&(st===void 0||ht.value===st)){if(Ye(De,it,1),st!==void 0)break}else it++}p||(this.size=De.length),te.updateURL()},get:function(te){var ge=O(this).entries;j(arguments.length,1);for(var De=x(te),je=0;je<ge.length;je++)if(ge[je].key===De)return ge[je].value;return null},getAll:function(te){var ge=O(this).entries;j(arguments.length,1);for(var De=x(te),je=[],Je=0;Je<ge.length;Je++)ge[Je].key===De&&Ie(je,ge[Je].value);return je},has:function(te){for(var ge=O(this).entries,De=j(arguments.length,1),je=x(te),Je=De<2?void 0:arguments[1],st=Je===void 0?Je:x(Je),it=0;it<ge.length;){var ht=ge[it++];if(ht.key===je&&(st===void 0||ht.value===st))return!0}return!1},set:function(te,ge){var De=O(this);j(arguments.length,1);for(var je=De.entries,Je=!1,st=x(te),it=x(ge),ht=0,kt;ht<je.length;ht++)kt=je[ht],kt.key===st&&(Je?Ye(je,ht--,1):(Je=!0,kt.value=it));Je||Ie(je,{key:st,value:it}),p||(this.size=je.length),De.updateURL()},sort:function(){var te=O(this);v(te.entries,function(ge,De){return ge.key>De.key?1:-1}),te.updateURL()},forEach:function(te){for(var ge=O(this).entries,De=L(te,arguments.length>1?arguments[1]:void 0),je=0,Je;je<ge.length;)Je=ge[je++],De(Je.value,Je.key,this)},keys:function(){return new Ee(this,"keys")},values:function(){return new Ee(this,"values")},entries:function(){return new Ee(this,"entries")}},{enumerable:!0}),m(Xe,ie,Xe.entries,{name:"entries"}),m(Xe,"toString",function(){return O(this).serialize()},{enumerable:!0}),p&&_(Xe,"size",{get:function(){return O(this).entries.length},configurable:!0,enumerable:!0}),S(Ve,ee),s({global:!0,constructor:!0,forced:!d},{URLSearchParams:Ve}),!d&&I(he)){var nt=f(be.has),Pe=f(be.set),Oe=function(Z){if(w(Z)){var te=Z.body,ge;if(P(te)===ee)return ge=Z.headers?new he(Z.headers):new he,nt(ge,"content-type")||Pe(ge,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),A(Z,{body:N(0,x(te)),headers:N(0,ge)})}return Z};if(I(ae)&&s({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(te){return ae(te,arguments.length>1?Oe(arguments[1]):{})}}),I(se)){var Fe=function(te){return b(this,de),new se(te,arguments.length>1?Oe(arguments[1]):{})};de.constructor=Fe,Fe.prototype=de,s({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:Fe})}}return Fs={URLSearchParams:Ve,getState:O},Fs}var yp;function J1(){if(yp)return fp;yp=1,vg();var s=rt(),l=vt(),c=Eg(),f=et(),p=rr(),d=Ke(),m=Lt(),_=ir(),g=an(),S=yt(),T=rg(),C=z1(),b=fn(),I=fu().codeAt,E=X1(),L=Rt(),P=dr(),B=iu(),w=Cg(),x=Ut(),A=x.set,N=x.getterFor("URL"),V=w.URLSearchParams,W=w.getState,F=f.URL,j=f.TypeError,Q=f.parseInt,v=Math.floor,ie=Math.pow,ee=d("".charAt),M=d(/./.exec),q=d([].join),O=d(1 .toString),U=d([].pop),D=d([].push),Y=d("".replace),ae=d([].shift),se=d("".split),he=d("".slice),de=d("".toLowerCase),be=d([].unshift),ke="Invalid authority",Re="Invalid scheme",we="Invalid host",ce="Invalid port",pe=/[a-z]/i,_e=/[\d+-.a-z]/i,Ie=/\d/,Ae=/^0x/i,Me=/^[0-7]+$/,Ye=/^\d+$/,He=/^[\da-f]+$/i,ze=/[\0\t\n\r #%/:<>?@[\\\]^|]/,$e=/[\0\t\n\r #/:<>?@[\\\]^|]/,ft=/^[\u0000-\u0020]+/,We=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,Le=/[\t\n\r]/g,Ne,Ue=function($){var ue=se($,"."),K,H,ne,qe,Te,ut,pt;if(ue.length&&ue[ue.length-1]===""&&ue.length--,K=ue.length,K>4)return $;for(H=[],ne=0;ne<K;ne++){if(qe=ue[ne],qe==="")return $;if(Te=10,qe.length>1&&ee(qe,0)==="0"&&(Te=M(Ae,qe)?16:8,qe=he(qe,Te===8?1:2)),qe==="")ut=0;else{if(!M(Te===10?Ye:Te===8?Me:He,qe))return $;ut=Q(qe,Te)}D(H,ut)}for(ne=0;ne<K;ne++)if(ut=H[ne],ne===K-1){if(ut>=ie(256,5-K))return null}else if(ut>255)return null;for(pt=U(H),ne=0;ne<H.length;ne++)pt+=H[ne]*ie(256,3-ne);return pt},z=function($){var ue=[0,0,0,0,0,0,0,0],K=0,H=null,ne=0,qe,Te,ut,pt,gt,Mt,le,_t=function(){return ee($,ne)};if(_t()===":"){if(ee($,1)!==":")return;ne+=2,K++,H=K}for(;_t();){if(K===8)return;if(_t()===":"){if(H!==null)return;ne++,K++,H=K;continue}for(qe=Te=0;Te<4&&M(He,_t());)qe=qe*16+Q(_t(),16),ne++,Te++;if(_t()==="."){if(Te===0||(ne-=Te,K>6))return;for(ut=0;_t();){if(pt=null,ut>0)if(_t()==="."&&ut<4)ne++;else return;if(!M(Ie,_t()))return;for(;M(Ie,_t());){if(gt=Q(_t(),10),pt===null)pt=gt;else{if(pt===0)return;pt=pt*10+gt}if(pt>255)return;ne++}ue[K]=ue[K]*256+pt,ut++,(ut===2||ut===4)&&K++}if(ut!==4)return;break}else if(_t()===":"){if(ne++,!_t())return}else if(_t())return;ue[K++]=qe}if(H!==null)for(Mt=K-H,K=7;K!==0&&Mt>0;)le=ue[K],ue[K--]=ue[H+Mt-1],ue[H+--Mt]=le;else if(K!==8)return;return ue},re=function($){for(var ue=null,K=1,H=null,ne=0,qe=0;qe<8;qe++)$[qe]!==0?(ne>K&&(ue=H,K=ne),H=null,ne=0):(H===null&&(H=qe),++ne);return ne>K&&(ue=H,K=ne),ue},me=function($){var ue,K,H,ne;if(typeof $=="number"){for(ue=[],K=0;K<4;K++)be(ue,$%256),$=v($/256);return q(ue,".")}else if(typeof $=="object"){for(ue="",H=re($),K=0;K<8;K++)ne&&$[K]===0||(ne&&(ne=!1),H===K?(ue+=K?":":"::",ne=!0):(ue+=O($[K],16),K<7&&(ue+=":")));return"["+ue+"]"}return $},Ee={},Se=T({},Ee,{" ":1,'"':1,"<":1,">":1,"`":1}),Ve=T({},Se,{"#":1,"?":1,"{":1,"}":1}),Xe=T({},Ve,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),nt=function($,ue){var K=I($,0);return K>32&&K<127&&!S(ue,$)?$:encodeURIComponent($)},Pe={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Oe=function($,ue){var K;return $.length===2&&M(pe,ee($,0))&&((K=ee($,1))===":"||!ue&&K==="|")},Fe=function($){var ue;return $.length>1&&Oe(he($,0,2))&&($.length===2||(ue=ee($,2))==="/"||ue==="\\"||ue==="?"||ue==="#")},Z=function($){return $==="."||de($)==="%2e"},te=function($){return $=de($),$===".."||$==="%2e."||$===".%2e"||$==="%2e%2e"},ge={},De={},je={},Je={},st={},it={},ht={},kt={},qt={},vr={},Or={},Pr={},Lr={},Dr={},hn={},pr={},ar={},jt={},dn={},Kt={},Ht={},Mr=function($,ue,K){var H=L($),ne,qe,Te;if(ue){if(qe=this.parse(H),qe)throw new j(qe);this.searchParams=null}else{if(K!==void 0&&(ne=new Mr(K,!0)),qe=this.parse(H,null,ne),qe)throw new j(qe);Te=W(new V),Te.bindURL(this),this.searchParams=Te}};Mr.prototype={type:"URL",parse:function($,ue,K){var H=this,ne=ue||ge,qe=0,Te="",ut=!1,pt=!1,gt=!1,Mt,le,_t,Qe;for($=L($),ue||(H.scheme="",H.username="",H.password="",H.host=null,H.port=null,H.path=[],H.query=null,H.fragment=null,H.cannotBeABaseURL=!1,$=Y($,ft,""),$=Y($,We,"$1")),$=Y($,Le,""),Mt=C($);qe<=Mt.length;){switch(le=Mt[qe],ne){case ge:if(le&&M(pe,le))Te+=de(le),ne=De;else{if(ue)return Re;ne=je;continue}break;case De:if(le&&(M(_e,le)||le==="+"||le==="-"||le==="."))Te+=de(le);else if(le===":"){if(ue&&(H.isSpecial()!==S(Pe,Te)||Te==="file"&&(H.includesCredentials()||H.port!==null)||H.scheme==="file"&&!H.host))return;if(H.scheme=Te,ue){H.isSpecial()&&Pe[H.scheme]===H.port&&(H.port=null);return}Te="",H.scheme==="file"?ne=Dr:H.isSpecial()&&K&&K.scheme===H.scheme?ne=Je:H.isSpecial()?ne=kt:Mt[qe+1]==="/"?(ne=st,qe++):(H.cannotBeABaseURL=!0,D(H.path,""),ne=dn)}else{if(ue)return Re;Te="",ne=je,qe=0;continue}break;case je:if(!K||K.cannotBeABaseURL&&le!=="#")return Re;if(K.cannotBeABaseURL&&le==="#"){H.scheme=K.scheme,H.path=b(K.path),H.query=K.query,H.fragment="",H.cannotBeABaseURL=!0,ne=Ht;break}ne=K.scheme==="file"?Dr:it;continue;case Je:if(le==="/"&&Mt[qe+1]==="/")ne=qt,qe++;else{ne=it;continue}break;case st:if(le==="/"){ne=vr;break}else{ne=jt;continue}case it:if(H.scheme=K.scheme,le===Ne)H.username=K.username,H.password=K.password,H.host=K.host,H.port=K.port,H.path=b(K.path),H.query=K.query;else if(le==="/"||le==="\\"&&H.isSpecial())ne=ht;else if(le==="?")H.username=K.username,H.password=K.password,H.host=K.host,H.port=K.port,H.path=b(K.path),H.query="",ne=Kt;else if(le==="#")H.username=K.username,H.password=K.password,H.host=K.host,H.port=K.port,H.path=b(K.path),H.query=K.query,H.fragment="",ne=Ht;else{H.username=K.username,H.password=K.password,H.host=K.host,H.port=K.port,H.path=b(K.path),H.path.length--,ne=jt;continue}break;case ht:if(H.isSpecial()&&(le==="/"||le==="\\"))ne=qt;else if(le==="/")ne=vr;else{H.username=K.username,H.password=K.password,H.host=K.host,H.port=K.port,ne=jt;continue}break;case kt:if(ne=qt,le!=="/"||ee(Te,qe+1)!=="/")continue;qe++;break;case qt:if(le!=="/"&&le!=="\\"){ne=vr;continue}break;case vr:if(le==="@"){ut&&(Te="%40"+Te),ut=!0,_t=C(Te);for(var mr=0;mr<_t.length;mr++){var Xr=_t[mr];if(Xr===":"&&!gt){gt=!0;continue}var vn=nt(Xr,Xe);gt?H.password+=vn:H.username+=vn}Te=""}else if(le===Ne||le==="/"||le==="?"||le==="#"||le==="\\"&&H.isSpecial()){if(ut&&Te==="")return ke;qe-=C(Te).length+1,Te="",ne=Or}else Te+=le;break;case Or:case Pr:if(ue&&H.scheme==="file"){ne=pr;continue}else if(le===":"&&!pt){if(Te==="")return we;if(Qe=H.parseHost(Te),Qe)return Qe;if(Te="",ne=Lr,ue===Pr)return}else if(le===Ne||le==="/"||le==="?"||le==="#"||le==="\\"&&H.isSpecial()){if(H.isSpecial()&&Te==="")return we;if(ue&&Te===""&&(H.includesCredentials()||H.port!==null))return;if(Qe=H.parseHost(Te),Qe)return Qe;if(Te="",ne=ar,ue)return;continue}else le==="["?pt=!0:le==="]"&&(pt=!1),Te+=le;break;case Lr:if(M(Ie,le))Te+=le;else if(le===Ne||le==="/"||le==="?"||le==="#"||le==="\\"&&H.isSpecial()||ue){if(Te!==""){var tt=Q(Te,10);if(tt>65535)return ce;H.port=H.isSpecial()&&tt===Pe[H.scheme]?null:tt,Te=""}if(ue)return;ne=ar;continue}else return ce;break;case Dr:if(H.scheme="file",le==="/"||le==="\\")ne=hn;else if(K&&K.scheme==="file")switch(le){case Ne:H.host=K.host,H.path=b(K.path),H.query=K.query;break;case"?":H.host=K.host,H.path=b(K.path),H.query="",ne=Kt;break;case"#":H.host=K.host,H.path=b(K.path),H.query=K.query,H.fragment="",ne=Ht;break;default:Fe(q(b(Mt,qe),""))||(H.host=K.host,H.path=b(K.path),H.shortenPath()),ne=jt;continue}else{ne=jt;continue}break;case hn:if(le==="/"||le==="\\"){ne=pr;break}K&&K.scheme==="file"&&!Fe(q(b(Mt,qe),""))&&(Oe(K.path[0],!0)?D(H.path,K.path[0]):H.host=K.host),ne=jt;continue;case pr:if(le===Ne||le==="/"||le==="\\"||le==="?"||le==="#"){if(!ue&&Oe(Te))ne=jt;else if(Te===""){if(H.host="",ue)return;ne=ar}else{if(Qe=H.parseHost(Te),Qe)return Qe;if(H.host==="localhost"&&(H.host=""),ue)return;Te="",ne=ar}continue}else Te+=le;break;case ar:if(H.isSpecial()){if(ne=jt,le!=="/"&&le!=="\\")continue}else if(!ue&&le==="?")H.query="",ne=Kt;else if(!ue&&le==="#")H.fragment="",ne=Ht;else if(le!==Ne&&(ne=jt,le!=="/"))continue;break;case jt:if(le===Ne||le==="/"||le==="\\"&&H.isSpecial()||!ue&&(le==="?"||le==="#")){if(te(Te)?(H.shortenPath(),le!=="/"&&!(le==="\\"&&H.isSpecial())&&D(H.path,"")):Z(Te)?le!=="/"&&!(le==="\\"&&H.isSpecial())&&D(H.path,""):(H.scheme==="file"&&!H.path.length&&Oe(Te)&&(H.host&&(H.host=""),Te=ee(Te,0)+":"),D(H.path,Te)),Te="",H.scheme==="file"&&(le===Ne||le==="?"||le==="#"))for(;H.path.length>1&&H.path[0]==="";)ae(H.path);le==="?"?(H.query="",ne=Kt):le==="#"&&(H.fragment="",ne=Ht)}else Te+=nt(le,Ve);break;case dn:le==="?"?(H.query="",ne=Kt):le==="#"?(H.fragment="",ne=Ht):le!==Ne&&(H.path[0]+=nt(le,Ee));break;case Kt:!ue&&le==="#"?(H.fragment="",ne=Ht):le!==Ne&&(le==="'"&&H.isSpecial()?H.query+="%27":le==="#"?H.query+="%23":H.query+=nt(le,Ee));break;case Ht:le!==Ne&&(H.fragment+=nt(le,Se));break}qe++}},parseHost:function($){var ue,K,H;if(ee($,0)==="["){if(ee($,$.length-1)!=="]"||(ue=z(he($,1,-1)),!ue))return we;this.host=ue}else if(this.isSpecial()){if($=E($),M(ze,$)||(ue=Ue($),ue===null))return we;this.host=ue}else{if(M($e,$))return we;for(ue="",K=C($),H=0;H<K.length;H++)ue+=nt(K[H],Ee);this.host=ue}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||this.scheme==="file"},includesCredentials:function(){return this.username!==""||this.password!==""},isSpecial:function(){return S(Pe,this.scheme)},shortenPath:function(){var $=this.path,ue=$.length;ue&&(this.scheme!=="file"||ue!==1||!Oe($[0],!0))&&$.length--},serialize:function(){var $=this,ue=$.scheme,K=$.username,H=$.password,ne=$.host,qe=$.port,Te=$.path,ut=$.query,pt=$.fragment,gt=ue+":";return ne!==null?(gt+="//",$.includesCredentials()&&(gt+=K+(H?":"+H:"")+"@"),gt+=me(ne),qe!==null&&(gt+=":"+qe)):ue==="file"&&(gt+="//"),gt+=$.cannotBeABaseURL?Te[0]:Te.length?"/"+q(Te,"/"):"",ut!==null&&(gt+="?"+ut),pt!==null&&(gt+="#"+pt),gt},setHref:function($){var ue=this.parse($);if(ue)throw new j(ue);this.searchParams.update()},getOrigin:function(){var $=this.scheme,ue=this.port;if($==="blob")try{return new Dt($.path[0]).origin}catch(K){return"null"}return $==="file"||!this.isSpecial()?"null":$+"://"+me(this.host)+(ue!==null?":"+ue:"")},getProtocol:function(){return this.scheme+":"},setProtocol:function($){this.parse(L($)+":",ge)},getUsername:function(){return this.username},setUsername:function($){var ue=C(L($));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var K=0;K<ue.length;K++)this.username+=nt(ue[K],Xe)}},getPassword:function(){return this.password},setPassword:function($){var ue=C(L($));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var K=0;K<ue.length;K++)this.password+=nt(ue[K],Xe)}},getHost:function(){var $=this.host,ue=this.port;return $===null?"":ue===null?me($):me($)+":"+ue},setHost:function($){this.cannotBeABaseURL||this.parse($,Or)},getHostname:function(){var $=this.host;return $===null?"":me($)},setHostname:function($){this.cannotBeABaseURL||this.parse($,Pr)},getPort:function(){var $=this.port;return $===null?"":L($)},setPort:function($){this.cannotHaveUsernamePasswordPort()||($=L($),$===""?this.port=null:this.parse($,Lr))},getPathname:function(){var $=this.path;return this.cannotBeABaseURL?$[0]:$.length?"/"+q($,"/"):""},setPathname:function($){this.cannotBeABaseURL||(this.path=[],this.parse($,ar))},getSearch:function(){var $=this.query;return $?"?"+$:""},setSearch:function($){$=L($),$===""?this.query=null:(ee($,0)==="?"&&($=he($,1)),this.query="",this.parse($,Kt)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var $=this.fragment;return $?"#"+$:""},setHash:function($){if($=L($),$===""){this.fragment=null;return}ee($,0)==="#"&&($=he($,1)),this.fragment="",this.parse($,Ht)},update:function(){this.query=this.searchParams.serialize()||null}};var Dt=function(ue){var K=g(this,mt),H=B(arguments.length,1)>1?arguments[1]:void 0,ne=A(K,new Mr(ue,!1,H));l||(K.href=ne.serialize(),K.origin=ne.getOrigin(),K.protocol=ne.getProtocol(),K.username=ne.getUsername(),K.password=ne.getPassword(),K.host=ne.getHost(),K.hostname=ne.getHostname(),K.port=ne.getPort(),K.pathname=ne.getPathname(),K.search=ne.getSearch(),K.searchParams=ne.getSearchParams(),K.hash=ne.getHash())},mt=Dt.prototype,wt=function($,ue){return{get:function(){return N(this)[$]()},set:ue&&function(K){return N(this)[ue](K)},configurable:!0,enumerable:!0}};if(l&&(_(mt,"href",wt("serialize","setHref")),_(mt,"origin",wt("getOrigin")),_(mt,"protocol",wt("getProtocol","setProtocol")),_(mt,"username",wt("getUsername","setUsername")),_(mt,"password",wt("getPassword","setPassword")),_(mt,"host",wt("getHost","setHost")),_(mt,"hostname",wt("getHostname","setHostname")),_(mt,"port",wt("getPort","setPort")),_(mt,"pathname",wt("getPathname","setPathname")),_(mt,"search",wt("getSearch","setSearch")),_(mt,"searchParams",wt("getSearchParams")),_(mt,"hash",wt("getHash","setHash"))),m(mt,"toJSON",function(){return N(this).serialize()},{enumerable:!0}),m(mt,"toString",function(){return N(this).serialize()},{enumerable:!0}),F){var gr=F.createObjectURL,yr=F.revokeObjectURL;gr&&m(Dt,"createObjectURL",p(gr,F)),yr&&m(Dt,"revokeObjectURL",p(yr,F))}return P(Dt,"URL"),s({global:!0,constructor:!0,forced:!c,sham:!l},{URL:Dt}),fp}var mp;function Z1(){return mp||(mp=1,J1()),cp}var _p={},bp;function Q1(){return bp||(bp=1,Cg()),_p}(function(s,l){(function(c,f){s.exports=f(Zm(),e0(),t0(),n0(),i0(),a0(),o0(),u0(),k0(),E0(),C0(),w0(),I0(),Bn(),A0(),R0(),O0(),U0(),lu(),j0(),G0(),V0(),$0(),W0(),Y0(),X0(),J0(),Z0(),vg(),Q0(),e1(),t1(),v1(),g1(),m1(),_1(),b1(),k1(),E1(),C1(),I1(),A1(),R1(),O1(),P1(),L1(),D1(),N1(),F1(),q1(),B1(),U1(),j1(),H1(),G1(),V1(),$1(),W1(),K1(),Z1(),Q1(),ag())})(kr,function(){function c(o,a){var n=Object.keys(o);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(o);a&&(e=e.filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable})),n.push.apply(n,e)}return n}function f(o){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?arguments[a]:{};a%2?c(Object(n),!0).forEach(function(e){g(o,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(n,e))})}return o}function p(o){return(p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(o)}function d(o,a){if(!(o instanceof a))throw new TypeError("Cannot call a class as a function")}function m(o,a){for(var n=0;n<a.length;n++){var e=a[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(o,x(e.key),e)}}function _(o,a,n){return a&&m(o.prototype,a),n&&m(o,n),Object.defineProperty(o,"prototype",{writable:!1}),o}function g(o,a,n){return(a=x(a))in o?Object.defineProperty(o,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):o[a]=n,o}function S(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),a&&C(o,a)}function T(o){return(T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)})(o)}function C(o,a){return(C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,e){return n.__proto__=e,n})(o,a)}function b(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function I(o,a){if(a&&(typeof a=="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b(o)}function E(o){var a=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,e=T(o);if(a){var t=T(this).constructor;n=Reflect.construct(e,arguments,t)}else n=e.apply(this,arguments);return I(this,n)}}function L(o,a){for(;!Object.prototype.hasOwnProperty.call(o,a)&&(o=T(o))!==null;);return o}function P(){return P=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(o,a,n){var e=L(o,a);if(e){var t=Object.getOwnPropertyDescriptor(e,a);return t.get?t.get.call(arguments.length<3?o:n):t.value}},P.apply(this,arguments)}function B(o){return function(a){if(Array.isArray(a))return w(a)}(o)||function(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}(o)||function(a,n){if(a){if(typeof a=="string")return w(a,n);var e=Object.prototype.toString.call(a).slice(8,-1);if(e==="Object"&&a.constructor&&(e=a.constructor.name),e==="Map"||e==="Set")return Array.from(a);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return w(a,n)}}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(o,a){(a==null||a>o.length)&&(a=o.length);for(var n=0,e=new Array(a);n<a;n++)e[n]=o[n];return e}function x(o){var a=function(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}(o,"string");return typeof a=="symbol"?a:String(a)}var A={exports:{}};(function(o){var a=Object.prototype.hasOwnProperty,n="~";function e(){}function t(h,y,k){this.fn=h,this.context=y,this.once=k||!1}function r(h,y,k,R,G){if(typeof k!="function")throw new TypeError("The listener must be a function");var X=new t(k,R||h,G),J=n?n+y:y;return h._events[J]?h._events[J].fn?h._events[J]=[h._events[J],X]:h._events[J].push(X):(h._events[J]=X,h._eventsCount++),h}function i(h,y){--h._eventsCount==0?h._events=new e:delete h._events[y]}function u(){this._events=new e,this._eventsCount=0}Object.create&&(e.prototype=Object.create(null),new e().__proto__||(n=!1)),u.prototype.eventNames=function(){var h,y,k=[];if(this._eventsCount===0)return k;for(y in h=this._events)a.call(h,y)&&k.push(n?y.slice(1):y);return Object.getOwnPropertySymbols?k.concat(Object.getOwnPropertySymbols(h)):k},u.prototype.listeners=function(h){var y=n?n+h:h,k=this._events[y];if(!k)return[];if(k.fn)return[k.fn];for(var R=0,G=k.length,X=new Array(G);R<G;R++)X[R]=k[R].fn;return X},u.prototype.listenerCount=function(h){var y=n?n+h:h,k=this._events[y];return k?k.fn?1:k.length:0},u.prototype.emit=function(h,y,k,R,G,X){var J=n?n+h:h;if(!this._events[J])return!1;var oe,ve,fe=this._events[J],Ce=arguments.length;if(fe.fn){switch(fe.once&&this.removeListener(h,fe.fn,void 0,!0),Ce){case 1:return fe.fn.call(fe.context),!0;case 2:return fe.fn.call(fe.context,y),!0;case 3:return fe.fn.call(fe.context,y,k),!0;case 4:return fe.fn.call(fe.context,y,k,R),!0;case 5:return fe.fn.call(fe.context,y,k,R,G),!0;case 6:return fe.fn.call(fe.context,y,k,R,G,X),!0}for(ve=1,oe=new Array(Ce-1);ve<Ce;ve++)oe[ve-1]=arguments[ve];fe.fn.apply(fe.context,oe)}else{var Be,Ze=fe.length;for(ve=0;ve<Ze;ve++)switch(fe[ve].once&&this.removeListener(h,fe[ve].fn,void 0,!0),Ce){case 1:fe[ve].fn.call(fe[ve].context);break;case 2:fe[ve].fn.call(fe[ve].context,y);break;case 3:fe[ve].fn.call(fe[ve].context,y,k);break;case 4:fe[ve].fn.call(fe[ve].context,y,k,R);break;default:if(!oe)for(Be=1,oe=new Array(Ce-1);Be<Ce;Be++)oe[Be-1]=arguments[Be];fe[ve].fn.apply(fe[ve].context,oe)}}return!0},u.prototype.on=function(h,y,k){return r(this,h,y,k,!1)},u.prototype.once=function(h,y,k){return r(this,h,y,k,!0)},u.prototype.removeListener=function(h,y,k,R){var G=n?n+h:h;if(!this._events[G])return this;if(!y)return i(this,G),this;var X=this._events[G];if(X.fn)X.fn!==y||R&&!X.once||k&&X.context!==k||i(this,G);else{for(var J=0,oe=[],ve=X.length;J<ve;J++)(X[J].fn!==y||R&&!X[J].once||k&&X[J].context!==k)&&oe.push(X[J]);oe.length?this._events[G]=oe.length===1?oe[0]:oe:i(this,G)}return this},u.prototype.removeAllListeners=function(h){var y;return h?(y=n?n+h:h,this._events[y]&&i(this,y)):(this._events=new e,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,o.exports=u})(A);var N=A.exports,V=typeof window<"u"&&window.location&&window.location.href.indexOf("xgplayerdebugger=1")>-1,W={info:"color: #525252; background-color: #90ee90;",error:"color: #525252; background-color: red;",warn:"color: #525252; background-color: yellow; "},F="%c[xgplayer]",j={config:{debug:V?3:0},logInfo:function(o){for(var a,n=arguments.length,e=new Array(n>1?n-1:0),t=1;t<n;t++)e[t-1]=arguments[t];this.config.debug>=3&&(a=console).log.apply(a,[F,W.info,o].concat(e))},logWarn:function(o){for(var a,n=arguments.length,e=new Array(n>1?n-1:0),t=1;t<n;t++)e[t-1]=arguments[t];this.config.debug>=1&&(a=console).warn.apply(a,[F,W.warn,o].concat(e))},logError:function(o){var a;if(!(this.config.debug<1)){for(var n=this.config.debug>=2?"trace":"error",e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];(a=console)[n].apply(a,[F,W.error,o].concat(t))}}},Q=function(){function o(a){d(this,o),this.bufferedList=a}return _(o,[{key:"start",value:function(a){return this.bufferedList[a].start}},{key:"end",value:function(a){return this.bufferedList[a].end}},{key:"length",get:function(){return this.bufferedList.length}}]),o}(),v={};function ie(o,a){for(var n=0,e=a.length;n<e;n++)if(o.indexOf(a[n])>-1)return!0;return!1}function ee(o){var a=p(o);return o!==null&&(a==="object"||a==="function")}function M(o,a,n){var e,t,r,i,u,h,y=0,k=!1,R=!1,G=!0,X=!a&&a!==0&&typeof window.requestAnimationFrame=="function";if(typeof o!="function")throw new TypeError("Expected a function");function J(xe){var dt=e,Et=t;return e=t=void 0,y=xe,i=o.apply(Et,dt)}function oe(xe,dt){return X?(window.cancelAnimationFrame(u),window.requestAnimationFrame(xe)):setTimeout(xe,dt)}function ve(xe){return y=xe,u=oe(Ce,a),k?J(xe):i}function fe(xe){var dt=xe-h;return h===void 0||dt>=a||dt<0||R&&xe-y>=r}function Ce(){var xe=Date.now();if(fe(xe))return Be(xe);u=oe(Ce,function(dt){var Et=dt-y,sr=a-(dt-h);return R?Math.min(sr,r-Et):sr}(xe))}function Be(xe){return u=void 0,G&&e?J(xe):(e=t=void 0,i)}function Ze(){for(var xe=Date.now(),dt=fe(xe),Et=arguments.length,sr=new Array(Et),Sr=0;Sr<Et;Sr++)sr[Sr]=arguments[Sr];if(e=sr,t=this,h=xe,dt){if(u===void 0)return ve(h);if(R)return u=oe(Ce,a),J(h)}return u===void 0&&(u=oe(Ce,a)),i}return a=+a||0,ee(n)&&(k=!!n.leading,r=(R="maxWait"in n)?Math.max(+n.maxWait||0,a):r,G="trailing"in n?!!n.trailing:G),Ze.cancel=function(){u!==void 0&&function(xe){if(X)return window.cancelAnimationFrame(xe);clearTimeout(xe)}(u),y=0,e=h=t=u=void 0},Ze.flush=function(){return u===void 0?i:Be(Date.now())},Ze.pending=function(){return u!==void 0},Ze}v.createDom=function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"div",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},e=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"",t=document.createElement(o);return t.className=e,t.innerHTML=a,Object.keys(n).forEach(function(r){var i=r,u=n[r];o==="video"||o==="audio"||o==="live-video"?u&&t.setAttribute(i,u):t.setAttribute(i,u)}),t},v.createDomFromHtml=function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";try{var e=document.createElement("div");e.innerHTML=o;var t=e.children;return e=null,t.length>0?(t=t[0],n&&v.addClass(t,n),a&&Object.keys(a).forEach(function(r){t.setAttribute(r,a[r])}),t):null}catch(r){return j.logError("util.createDomFromHtml",r),null}},v.hasClass=function(o,a){if(!o||!a)return!1;try{return Array.prototype.some.call(o.classList,function(e){return e===a})}catch(e){var n=o.className&&p(o.className)==="object"?o.getAttribute("class"):o.className;return n&&!!n.match(new RegExp("(\\s|^)"+a+"(\\s|$)"))}},v.addClass=function(o,a){if(o&&a)try{a.replace(/(^\s+|\s+$)/g,"").split(/\s+/g).forEach(function(n){n&&o.classList.add(n)})}catch(n){v.hasClass(o,a)||(o.className&&p(o.className)==="object"?o.setAttribute("class",o.getAttribute("class")+" "+a):o.className+=" "+a)}},v.removeClass=function(o,a){if(o&&a)try{a.replace(/(^\s+|\s+$)/g,"").split(/\s+/g).forEach(function(n){n&&o.classList.remove(n)})}catch(n){v.hasClass(o,a)&&a.split(/\s+/g).forEach(function(e){var t=new RegExp("(\\s|^)"+e+"(\\s|$)");o.className&&p(o.className)==="object"?o.setAttribute("class",o.getAttribute("class").replace(t," ")):o.className=o.className.replace(t," ")})}},v.toggleClass=function(o,a){o&&a.split(/\s+/g).forEach(function(n){v.hasClass(o,n)?v.removeClass(o,n):v.addClass(o,n)})},v.classNames=function(){for(var o=arguments,a=[],n=function(t){v.typeOf(o[t])==="String"?a.push(o[t]):v.typeOf(o[t])==="Object"&&Object.keys(o[t]).map(function(r){o[t][r]&&a.push(r)})},e=0;e<arguments.length;e++)n(e);return a.join(" ")},v.findDom=function(){var o,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document,n=arguments.length>1?arguments[1]:void 0;try{o=a.querySelector(n)}catch(e){j.logError("util.findDom",e),n.indexOf("#")===0&&(o=a.getElementById(n.slice(1)))}return o},v.getCss=function(o,a){return o.currentStyle?o.currentStyle[a]:document.defaultView.getComputedStyle(o,!1)[a]},v.padStart=function(o,a,n){for(var e=String(n),t=a>>0,r=Math.ceil(t/e.length),i=[],u=String(o);r--;)i.push(e);return i.join("").substring(0,t-u.length)+u},v.format=function(o){if(window.isNaN(o))return"";o=Math.round(o);var a=v.padStart(Math.floor(o/3600),2,0),n=v.padStart(Math.floor((o-3600*a)/60),2,0),e=v.padStart(Math.floor(o-3600*a-60*n),2,0);return(a==="00"?[n,e]:[a,n,e]).join(":")},v.event=function(o){if(o.touches){var a=o.touches[0]||o.changedTouches[0];o.clientX=a.clientX||0,o.clientY=a.clientY||0,o.offsetX=a.pageX-a.target.offsetLeft,o.offsetY=a.pageY-a.target.offsetTop}o._target=o.target||o.srcElement},v.typeOf=function(o){return Object.prototype.toString.call(o).match(/([^\s.*]+)(?=]$)/g)[0]},v.deepCopy=function(o,a){if(v.typeOf(a)==="Object"&&v.typeOf(o)==="Object")return Object.keys(a).forEach(function(n){v.typeOf(a[n])!=="Object"||a[n]instanceof Node?v.typeOf(a[n])==="Array"?o[n]=v.typeOf(o[n])==="Array"?o[n].concat(a[n]):a[n]:o[n]=a[n]:o[n]===void 0||o[n]===void 0?o[n]=a[n]:v.deepCopy(o[n],a[n])}),o},v.deepMerge=function(o,a){return Object.keys(a).map(function(n){var e;v.typeOf(a[n])==="Array"&&v.typeOf(o[n])==="Array"?v.typeOf(o[n])==="Array"&&(e=o[n]).push.apply(e,B(a[n])):v.typeOf(o[n])!==v.typeOf(a[n])||o[n]===null||v.typeOf(o[n])!=="Object"||a[n]instanceof window.Node?a[n]!==null&&(o[n]=a[n]):v.deepMerge(o[n],a[n])}),o},v.getBgImage=function(o){var a=(o.currentStyle||window.getComputedStyle(o,null)).backgroundImage;if(!a||a==="none")return"";var n=document.createElement("a");return n.href=a.replace(/url\("|"\)/g,""),n.href},v.copyDom=function(o){if(o&&o.nodeType===1){var a=document.createElement(o.tagName);return Array.prototype.forEach.call(o.attributes,function(n){a.setAttribute(n.name,n.value)}),o.innerHTML&&(a.innerHTML=o.innerHTML),a}return""},v.setInterval=function(o,a,n,e){o._interval[a]||(o._interval[a]=window.setInterval(n.bind(o),e))},v.clearInterval=function(o,a){clearInterval(o._interval[a]),o._interval[a]=null},v.setTimeout=function(o,a,n){o._timers||(o._timers=[]);var e=setTimeout(function(){a(),v.clearTimeout(o,e)},n);return o._timers.push(e),e},v.clearTimeout=function(o,a){var n=o._timers;if(v.typeOf(n)==="Array"){for(var e=0;e<n.length;e++)if(n[e]===a){n.splice(e,1),clearTimeout(a);break}}else clearTimeout(a)},v.clearAllTimers=function(o){var a=o._timers;v.typeOf(a)==="Array"&&(a.map(function(n){clearTimeout(n)}),o._timerIds=[])},v.createImgBtn=function(o,a,n,e){var t,r,i,u=v.createDom("xg-".concat(o),"",{},"xgplayer-".concat(o,"-img"));return u.style.backgroundImage='url("'.concat(a,'")'),n&&e&&(["px","rem","em","pt","dp","vw","vh","vm","%"].every(function(h){return!(n.indexOf(h)>-1&&e.indexOf(h)>-1)||(t=parseFloat(n.slice(0,n.indexOf(h)).trim()),r=parseFloat(e.slice(0,e.indexOf(h)).trim()),i=h,!1)}),u.style.width="".concat(t).concat(i),u.style.height="".concat(r).concat(i),u.style.backgroundSize="".concat(t).concat(i," ").concat(r).concat(i),u.style.margin=o==="start"?"-".concat(r/2).concat(i," auto auto -").concat(t/2).concat(i):"auto 5px auto 5px"),u},v.Hex2RGBA=function(o,a){var n=[];if(/^\#[0-9A-F]{3}$/i.test(o)){var e="#";o.replace(/[0-9A-F]/gi,function(t){e+=t+t}),o=e}return/^#[0-9A-F]{6}$/i.test(o)?(o.replace(/[0-9A-F]{2}/gi,function(t){n.push(parseInt(t,16))}),"rgba(".concat(n.join(","),", ").concat(a,")")):"rgba(255, 255, 255, 0.1)"},v.getFullScreenEl=function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement},v.checkIsFunction=function(o){return o&&typeof o=="function"},v.checkIsObject=function(o){return o!==null&&p(o)==="object"},v.hide=function(o){o.style.display="none"},v.show=function(o,a){o.style.display=a||"block"},v.isUndefined=function(o){if(o==null)return!0},v.isNotNull=function(o){return o!=null},v.setStyleFromCsstext=function(o,a){a&&(v.typeOf(a)==="String"?a.replace(/\s+/g,"").split(";").map(function(n){if(n){var e=n.split(":");e.length>1&&(o.style[e[0]]=e[1])}}):Object.keys(a).map(function(n){o.style[n]=a[n]}))},v.filterStyleFromText=function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:["width","height","top","left","bottom","right","position","z-index","padding","margin","transform"],n=o.style.cssText;if(!n)return{};var e=n.replace(/\s+/g,"").split(";"),t={},r={};return e.map(function(i){if(i){var u=i.split(":");u.length>1&&(ie(u[0],a)?t[u[0]]=u[1]:r[u[0]]=u[1])}}),o.setAttribute("style",""),Object.keys(r).map(function(i){o.style[i]=r[i]}),t},v.getStyleFromCsstext=function(o){var a=o.style.cssText;if(!a)return{};var n=a.replace(/\s+/g,"").split(";"),e={};return n.map(function(t){if(t){var r=t.split(":");r.length>1&&(e[r[0]]=r[1])}}),e},v.preloadImg=function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){};if(o){var e=new window.Image;e.onload=function(t){e=null,a&&a(t)},e.onerror=function(t){e=null,n&&n(t)},e.src=o}},v.stopPropagation=function(o){o&&o.stopPropagation()},v.scrollTop=function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},v.scrollLeft=function(){return window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0},v.checkTouchSupport=function(){return"ontouchstart"in window},v.getBuffered2=function(o){for(var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.5,n=[],e=0;e<o.length;e++)n.push({start:o.start(e)<.5?0:o.start(e),end:o.end(e)});n.sort(function(h,y){var k=h.start-y.start;return k||y.end-h.end});var t=[];if(a)for(var r=0;r<n.length;r++){var i=t.length;if(i){var u=t[i-1].end;n[r].start-u<a?n[r].end>u&&(t[i-1].end=n[r].end):t.push(n[r])}else t.push(n[r])}else t=n;return new Q(t)},v.getEventPos=function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return o.touches&&o.touches.length>0&&(o=o.touches[0]),{x:o.x/a,y:o.y/a,clientX:o.clientX/a,clientY:o.clientY/a,offsetX:o.offsetX/a,offsetY:o.offsetY/a,pageX:o.pageX/a,pageY:o.pageY/a}},v.requestAnimationFrame=function(o){var a=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(a)return a(o)},v.getHostFromUrl=function(o){if(v.typeOf(o)!=="String")return"";var a=o.split("/"),n="";return a.length>3&&a[2]&&(n=a[2]),n},v.cancelAnimationFrame=function(o){var a=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.cancelRequestAnimationFrame;a&&a(o)},v.isMSE=function(o){return!!(o&&o instanceof HTMLMediaElement)&&(/^blob/.test(o.currentSrc)||/^blob/.test(o.src))},v.isBlob=function(o){return/^blob/.test(o)},v.generateSessionId=function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,a=new Date().getTime();try{o=parseInt(o)}catch(e){o=0}a+=o,window.performance&&typeof window.performance.now=="function"&&(a+=parseInt(window.performance.now()));var n="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=(a+16*Math.random())%16|0;return a=Math.floor(a/16),(e==="x"?t:3&t|8).toString(16)});return n},v.createEvent=function(o){var a;return typeof window.Event=="function"?a=new Event(o):(a=document.createEvent("Event")).initEvent(o,!0,!0),a},v.adjustTimeByDuration=function(o,a,n){return a&&o&&(o>a||n&&o<a)?a:o},v.createPositionBar=function(o,a){var n=v.createDom("xg-bar","",{"data-index":-1},o);return a.appendChild(n),n},v.getTransformStyle=function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{x:0,y:0,scale:1,rotate:0},a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n={scale:"".concat(o.scale||1),translate:"".concat(o.x||0,"%, ").concat(o.y||0,"%"),rotate:"".concat(o.rotate||0,"deg")},e=Object.keys(n);return e.forEach(function(t){var r=new RegExp("".concat(t,"\\([^\\(]+\\)"),"g"),i="".concat(t,"(").concat(n[t],")");r.test(a)?(r.lastIndex=-1,a=a.replace(r,i)):a+="".concat(i," ")}),a},v.convertDeg=function(o){return Math.abs(o)<=1?360*o:o%360},v.getIndexByTime=function(o,a){var n=a.length,e=-1;if(n<1)return e;if(o<=a[0].end||n<2)e=0;else if(o>a[n-1].end)e=n-1;else for(var t=1;t<n;t++)if(o>a[t-1].end&&o<=a[t].end){e=t;break}return e},v.getOffsetCurrentTime=function(o,a){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1,e=-1;if((e=n>=0&&n<a.length?n:v.getIndexByTime(o,a))<0)return-1;var t=a.length,r=a[e],i=r.start,u=r.end,h=r.cTime,y=r.offset;return o<i?h:o>=i&&o<=u?o-y:o>u&&e>=t-1?u:-1},v.getCurrentTimeByOffset=function(o,a){var n=-1;if(!a||a.length<0)return o;for(var e=0;e<a.length;e++)if(o<=a[e].duration){n=e;break}if(n!==-1){var t=a[n].start;return n-1<0?t+o:t+(o-a[n-1].duration)}return o};var q=/(Android)\s([\d.]+)/,O=/(Version)\/([\d.]+)/,U=["avc1.42E01E, mp4a.40.2","avc1.58A01E, mp4a.40.2","avc1.4D401E, mp4a.40.2","avc1.64001E, mp4a.40.2","avc1.42E01E","mp4v.20.8","avc1.42E01E, mp4a.40.2","avc1.58A01E, mp4a.40.2","avc1.4D401E, mp4a.40.2","avc1.64001E, mp4a.40.2","mp4v.20.8, mp4a.40.2","mp4v.20.240, mp4a.40.2"],D={get device(){return D.os.isPc?"pc":"mobile"},get browser(){if(typeof navigator>"u")return"";var o=navigator.userAgent.toLowerCase(),a={ie:/rv:([\d.]+)\) like gecko/,firefox:/firefox\/([\d.]+)/,chrome:/chrome\/([\d.]+)/,opera:/opera.([\d.]+)/,safari:/version\/([\d.]+).*safari/};return[].concat(Object.keys(a).filter(function(n){return a[n].test(o)}))[0]},get os(){if(typeof navigator>"u")return{};var o=navigator.userAgent,a=/(?:Windows Phone)/.test(o),n=/(?:SymbianOS)/.test(o)||a,e=/(?:Android)/.test(o),t=/(?:Firefox)/.test(o),r=/(?:iPad|PlayBook)/.test(o)||e&&!/(?:Mobile)/.test(o)||t&&/(?:Tablet)/.test(o),i=/(?:iPhone)/.test(o)&&!r,u=!(i||e||n||r),h=/(?:iPad|PlayBook)/.test(o);return{isTablet:r,isPhone:i,isIpad:h,isIos:i||h,isAndroid:e,isPc:u,isSymbian:n,isWindowsPhone:a,isFireFox:t}},get osVersion(){if(typeof navigator>"u")return 0;var o=navigator.userAgent,a="",n=(a=/(?:iPhone)|(?:iPad|PlayBook)/.test(o)?O:q)?a.exec(o):[];if(n&&n.length>=3){var e=n[2].split(".");return e.length>0?parseInt(e[0]):0}return 0},get isWeixin(){return typeof navigator>"u"?!1:!!/(micromessenger)\/([\d.]+)/.exec(navigator.userAgent.toLocaleLowerCase())},isSupportMP4:function(){var o={isSupport:!1,mime:""};if(typeof document>"u")return o;if(this.supportResult)return this.supportResult;var a=document.createElement("video");return typeof a.canPlayType=="function"&&U.map(function(n){a.canPlayType('video/mp4; codecs="'.concat(n,'"'))==="probably"&&(o.isSupport=!0,o.mime+="||".concat(n))}),this.supportResult=o,a=null,o},isMSESupport:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:'video/mp4; codecs="avc1.42E01E,mp4a.40.2"';if(typeof MediaSource>"u"||!MediaSource)return!1;try{return MediaSource.isTypeSupported(o)}catch(a){return this._logger.error(o,a),!1}},isHevcSupported:function(){return!(typeof MediaSource>"u"||!MediaSource.isTypeSupported)&&(MediaSource.isTypeSupported('video/mp4;codecs="hev1.1.6.L120.90"')||MediaSource.isTypeSupported('video/mp4;codecs="hev1.2.4.L120.90"')||MediaSource.isTypeSupported('video/mp4;codecs="hev1.3.E.L120.90"')||MediaSource.isTypeSupported('video/mp4;codecs="hev1.4.10.L120.90"'))},probeConfigSupported:function(o){var a={supported:!1,smooth:!1,powerEfficient:!1};if(!o||typeof navigator>"u")return Promise.resolve(a);if(navigator.mediaCapabilities&&navigator.mediaCapabilities.decodingInfo)return navigator.mediaCapabilities.decodingInfo(o);var n=o.video||{},e=o.audio||{};try{var t=MediaSource.isTypeSupported(n.contentType),r=MediaSource.isTypeSupported(e.contentType);return Promise.resolve({supported:t&&r,smooth:!1,powerEfficient:!1})}catch(i){return Promise.resolve(a)}}},Y="3.0.10",ae={1:"media",2:"media",3:"media",4:"media",5:"media",6:"media"},se={1:5101,2:5102,3:5103,4:5104,5:5105,6:5106},he=_(function o(a){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{errorType:"",errorCode:0,errorMessage:"",originError:"",ext:{},mediaError:null};d(this,o);var e=a&&a.i18n?a.i18n.ERROR_TYPES:null;if(a.media){var t=n.mediaError?n.mediaError:a.media.error||{},r=a.duration,i=a.currentTime,u=a.ended,h=a.src,y=a.currentSrc,k=a.media,R=k.readyState,G=k.networkState,X=n.errorCode||t.code;se[X]&&(X=se[X]);var J={playerVersion:Y,currentTime:i,duration:r,ended:u,readyState:R,networkState:G,src:h||y,errorType:n.errorType,errorCode:X,message:n.errorMessage||t.message,mediaError:t,originError:n.originError?n.originError.stack:"",host:v.getHostFromUrl(h||y)};return n.ext&&Object.keys(n.ext).map(function(Ce){J[Ce]=n.ext[Ce]}),J}if(arguments.length>1){for(var oe={playerVersion:Y,domain:document.domain},ve=["errorType","currentTime","duration","networkState","readyState","src","currentSrc","ended","errd","errorCode","mediaError"],fe=0;fe<arguments.length;fe++)oe[ve[fe]]=arguments[fe];return oe.ex=e?(e[arguments[0]]||{}).msg:"",oe}}),de="play",be="playing",ke="ended",Re="pause",we="error",ce="seeking",pe="seeked",_e="timeupdate",Ie="waiting",Ae="canplay",Me="durationchange",Ye="volumechange",He="loadeddata",ze="ratechange",$e="progress",ft="loadstart",We="emptied",Le="focus",Ne="blur",Ue="ready",z="urlNull",re="autoplay_started",me="autoplay_was_prevented",Ee="complete",Se="replay",Ve="destroy",Xe="urlchange",nt="download_speed_change",Pe="fullscreen_change",Oe="cssFullscreen_change",Fe="mini_state_change",Z="definition_change",te="after_definition_change",ge="video_resize",De="pip_change",je="rotate",Je="screenShot",st="playnext",it="shortcut",ht="xglog",kt="user_action",qt="reset",vr="source_error",Or="source_success",Pr=["play","playing","ended","pause","error","seeking","seeked","timeupdate","waiting","canplay","canplaythrough","durationchange","volumechange","loadeddata","loadedmetadata","ratechange","progress","loadstart","emptied","stalled","suspend","abort","lowdecode"],Lr={STATS_INFO:"stats_info",STATS_DOWNLOAD:"stats_download",STATS_RESET:"stats_reset"},Dr="fps_stuck",hn=Object.freeze(Object.defineProperty({__proto__:null,PLAY:de,PLAYING:be,ENDED:ke,PAUSE:Re,ERROR:we,SEEKING:ce,SEEKED:pe,TIME_UPDATE:_e,WAITING:Ie,CANPLAY:Ae,CANPLAY_THROUGH:"canplaythrough",DURATION_CHANGE:Me,VOLUME_CHANGE:Ye,LOADED_DATA:He,LOADED_METADATA:"loadedmetadata",RATE_CHANGE:ze,PROGRESS:$e,LOAD_START:ft,EMPTIED:We,STALLED:"stalled",SUSPEND:"suspend",ABORT:"abort",BUFFER_CHANGE:"bufferedChange",PLAYER_FOCUS:Le,PLAYER_BLUR:Ne,READY:Ue,URL_NULL:z,AUTOPLAY_STARTED:re,AUTOPLAY_PREVENTED:me,COMPLETE:Ee,REPLAY:Se,DESTROY:Ve,URL_CHANGE:Xe,DOWNLOAD_SPEED_CHANGE:nt,FULLSCREEN_CHANGE:Pe,CSS_FULLSCREEN_CHANGE:Oe,MINI_STATE_CHANGE:Fe,DEFINITION_CHANGE:Z,BEFORE_DEFINITION_CHANGE:"before_definition_change",AFTER_DEFINITION_CHANGE:te,SEI_PARSED:"SEI_PARSED",RETRY:"retry",VIDEO_RESIZE:ge,PIP_CHANGE:De,ROTATE:je,SCREEN_SHOT:Je,PLAYNEXT:st,SHORTCUT:it,XGLOG:ht,USER_ACTION:kt,RESET:qt,SOURCE_ERROR:vr,SOURCE_SUCCESS:Or,SWITCH_SUBTITLE:"switch_subtitle",VIDEO_EVENTS:Pr,STATS_EVENTS:Lr,FPS_STUCK:Dr},Symbol.toStringTag,{value:"Module"}));function pr(o,a){this&&this.emit&&(o==="error"?this.errorHandler(o,a.error):this.emit(o,a))}function ar(o,a){return function(n,e){var t={player:a,eventName:o,originalEvent:n,detail:n.detail||{},timeStamp:n.timeStamp,currentTime:a.currentTime,duration:a.duration,paused:a.paused,ended:a.ended,isInternalOp:!!a._internalOp[n.type],muted:a.muted,volume:a.volume,host:v.getHostFromUrl(a.currentSrc),vtype:a.vtype};if(a.removeInnerOP(n.type),o==="timeupdate"&&(a._currentTime=a.media&&a.media.currentTime),o==="ratechange"){var r=a.media?a.media.playbackRate:0;if(r&&a._rate===r)return;a._rate=a.media&&a.media.playbackRate}if(o==="durationchange"&&(a._duration=a.media.duration),o==="volumechange"&&(t.isMutedChange=a._lastMuted!==a.muted,a._lastMuted=a.muted),o==="error"&&(t.error=e||a.video.error),a.mediaEventMiddleware[o]){var i=pr.bind(a,o,t);try{a.mediaEventMiddleware[o].call(a,t,i)}catch(u){throw pr.call(a,o,t),u}}else pr.call(a,o,t)}}var jt=function(o){S(n,o);var a=E(n);function n(e){var t;d(this,n),(t=a.call(this,e))._hasStart=!1,t._currentTime=0,t._duration=0,t._internalOp={},t._lastMuted=!1,t.vtype="MP4",t._rate=-1,t.mediaConfig=Object.assign({},{controls:!1,autoplay:e.autoplay,playsinline:e.playsinline,"x5-playsinline":e.playsinline,"webkit-playsinline":e.playsinline,"x5-video-player-fullscreen":e["x5-video-player-fullscreen"]||e.x5VideoPlayerFullscreen,"x5-video-orientation":e["x5-video-orientation"]||e.x5VideoOrientation,airplay:e.airplay,"webkit-airplay":e.airplay,tabindex:0|e.tabindex,mediaType:e.mediaType||"video","data-index":-1},e.videoConfig,e.videoAttributes);var r=e["x5-video-player-type"]||e.x5VideoPlayerType;return D.isWeixin&&D.os.isAndroid&&r&&(t.mediaConfig["x5-video-player-type"]=r,delete t.mediaConfig.playsinline,delete t.mediaConfig["webkit-playsinline"],delete t.mediaConfig["x5-playsinline"]),e.loop&&(t.mediaConfig.loop="loop"),e.autoplayMuted&&!Object.prototype.hasOwnProperty.call(t.mediaConfig,"muted")&&(t.mediaConfig.muted=!0),t.media=v.createDom(t.mediaConfig.mediaType,"",t.mediaConfig,""),e.defaultPlaybackRate&&(t.media.defaultPlaybackRate=t.media.playbackRate=e.defaultPlaybackRate),v.typeOf(e.volume)==="Number"&&(t.volume=e.volume),e.autoplayMuted&&(t.media.muted=!0,t._lastMuted=!0),e.autoplay&&(t.media.autoplay=!0),t._interval={},t.mediaEventMiddleware={},t.attachVideoEvents(),t}return _(n,[{key:"setEventsMiddleware",value:function(e){var t=this;Object.keys(e).map(function(r){t.mediaEventMiddleware[r]=e[r]})}},{key:"removeEventsMiddleware",value:function(e){var t=this;Object.keys(e).map(function(r){delete t.mediaEventMiddleware[r]})}},{key:"attachVideoEvents",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.media;this._evHandlers||(this._evHandlers=Pr.map(function(r){var i="on".concat(r.charAt(0).toUpperCase()).concat(r.slice(1));return typeof e[i]=="function"&&e.on(r,e[i]),g({},r,ar(r,e))})),this._evHandlers.forEach(function(r){var i=Object.keys(r)[0];t.addEventListener(i,r[i],!1)})}},{key:"detachVideoEvents",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.media;this._evHandlers.forEach(function(r){var i=Object.keys(r)[0];t.removeEventListener(i,r[i],!1)}),this._evHandlers.forEach(function(r){var i=Object.keys(r)[0],u="on".concat(i.charAt(0).toUpperCase()).concat(i.slice(1));typeof e[u]=="function"&&e.off(i,e[u])}),this._evHandlers=null}},{key:"_attachSourceEvents",value:function(e,t){var r=this;e.removeAttribute("src"),e.load(),t.forEach(function(k,R){r.media.appendChild(v.createDom("source","",{src:"".concat(k.src),type:"".concat(k.type||""),"data-index":R+1}))});var i=e.children;if(i){this._videoSourceCount=i.length,this._videoSourceIndex=i.length,this._vLoadeddata=function(k){r.emit(Or,{src:k.target.currentSrc,host:v.getHostFromUrl(k.target.currentSrc)})};for(var u=null,h=0;h<this._evHandlers.length;h++)if(Object.keys(this._evHandlers[h])[0]==="error"){u=this._evHandlers[h];break}!this._sourceError&&(this._sourceError=function(k){var R=parseInt(k.target.getAttribute("data-index"),10);if(r._videoSourceIndex--,r._videoSourceIndex===0||R>=r._videoSourceCount){var G={code:4,message:"sources_load_error"};u?u.error(k,G):r.errorHandler("error",G)}var X=ae[4];r.emit(vr,new he(r,{errorType:X,errorCode:4,errorMessage:"sources_load_error",mediaError:{code:4,message:"sources_load_error"},src:k.target.src}))});for(var y=0;y<i.length;y++)i[y].addEventListener("error",this._sourceError);e.addEventListener("loadeddata",this._vLoadeddata)}}},{key:"_detachSourceEvents",value:function(e){var t=e.children;if(t&&t.length!==0&&this._sourceError){for(var r=0;r<t.length;r++)t[r].removeEventListener("error",this._sourceError);for(;t.length>0;)e.removeChild(t[0]);this._vLoadeddata&&e.removeEventListener("loadeddata",this._vLoadeddata)}}},{key:"errorHandler",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.media&&(this.media.error||t)){var r=this.media.error||t,i=r.code?ae[r.code]:"other";r.message,this.media.currentSrc||(r={code:6,message:"empty_src"}),this.emit(e,new he(this,{errorType:i,errorCode:r.code,errorMessage:r.message||"",mediaError:r}))}}},{key:"destroy",value:function(){for(var e in this.media&&(this.media.pause&&(this.media.pause(),this.media.muted=!0),this.media.removeAttribute("src"),this.media.load()),this._currentTime=0,this._duration=0,this.mediaConfig=null,this._interval)Object.prototype.hasOwnProperty.call(this._interval,e)&&(clearInterval(this._interval[e]),this._interval[e]=null);this.detachVideoEvents(),this.media=null,this.mediaEventMiddleware={},this.removeAllListeners()}},{key:"video",get:function(){return this.media},set:function(e){this.media=e}},{key:"play",value:function(){return this.media?this.media.play():null}},{key:"pause",value:function(){this.media&&this.media.pause()}},{key:"load",value:function(){this.media&&this.media.load()}},{key:"canPlayType",value:function(e){return!!this.media&&this.media.canPlayType(e)}},{key:"getBufferedRange",value:function(e){var t=[0,0];if(!this.media)return t;e||(e=this.media.buffered);var r=this.media.currentTime;if(e)for(var i=0,u=e.length;i<u&&(t[0]=e.start(i),t[1]=e.end(i),!(t[0]<=r&&r<=t[1]));i++);return t[0]-r<=0&&r-t[1]<=0?t:[0,0]}},{key:"autoplay",get:function(){return!!this.media&&this.media.autoplay},set:function(e){this.media&&(this.media.autoplay=e)}},{key:"buffered",get:function(){return this.media?this.media.buffered:null}},{key:"buffered2",get:function(){return this.media&&this.media.buffered?v.getBuffered2(this.media.buffered):null}},{key:"bufferedPoint",get:function(){var e={start:0,end:0};if(!this.media)return e;var t=this.media.buffered;if(!t||t.length===0)return e;for(var r=0;r<t.length;r++)if((t.start(r)<=this.currentTime||t.start(r)<.1)&&t.end(r)>=this.currentTime)return{start:t.start(r),end:t.end(r)};return e}},{key:"crossOrigin",get:function(){return this.media?this.media.crossOrigin:""},set:function(e){this.media&&(this.media.crossOrigin=e)}},{key:"currentSrc",get:function(){return this.media?this.media.currentSrc:""},set:function(e){this.media&&(this.media.currentSrc=e)}},{key:"currentTime",get:function(){return this.media?this.media.currentTime!==void 0?this.media.currentTime:this._currentTime:0},set:function(e){this.media&&(this.media.currentTime=e)}},{key:"defaultMuted",get:function(){return!!this.media&&this.media.defaultMuted},set:function(e){this.media&&(this.media.defaultMuted=e)}},{key:"duration",get:function(){return this._duration}},{key:"ended",get:function(){return!!this.media&&this.media.ended}},{key:"error",get:function(){return this.media.error}},{key:"errorNote",get:function(){return this.media.error?["MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED"][this.media.error.code-1]:""}},{key:"loop",get:function(){return!!this.media&&this.media.loop},set:function(e){this.media&&(this.media.loop=e)}},{key:"muted",get:function(){return!!this.media&&this.media.muted},set:function(e){this.media&&this.media.muted!==e&&(this._lastMuted=this.media.muted,this.media.muted=e)}},{key:"networkState",get:function(){return this.media.networkState}},{key:"paused",get:function(){return!this.media||this.media.paused}},{key:"playbackRate",get:function(){return this.media?this.media.playbackRate:0},set:function(e){this.media&&e!==1/0&&(this.media.defaultPlaybackRate=e,this.media.playbackRate=e)}},{key:"played",get:function(){return this.media?this.media.played:null}},{key:"preload",get:function(){return!!this.media&&this.media.preload},set:function(e){this.media&&(this.media.preload=e)}},{key:"readyState",get:function(){return this.media.readyState}},{key:"seekable",get:function(){return!!this.media&&this.media.seekable}},{key:"seeking",get:function(){return!!this.media&&this.media.seeking}},{key:"src",get:function(){return this.media?this.media.src:""},set:function(e){this.media&&(this.emit(Xe,e),this.emit(Ie),this._currentTime=0,this._duration=0,v.isMSE(this.media)?this.onWaiting():(this._detachSourceEvents(this.media),v.typeOf(e)==="Array"?this._attachSourceEvents(this.media,e):e?this.media.src=e:this.media.removeAttribute("src"),this.load()))}},{key:"volume",get:function(){return this.media?this.media.volume:0},set:function(e){e!==1/0&&this.media&&(this.media.volume=e)}},{key:"addInnerOP",value:function(e){this._internalOp[e]=!0}},{key:"removeInnerOP",value:function(e){delete this._internalOp[e]}},{key:"emit",value:function(e,t){for(var r,i=arguments.length,u=new Array(i>2?i-2:0),h=2;h<i;h++)u[h-2]=arguments[h];(r=P(T(n.prototype),"emit",this)).call.apply(r,[this,e,t].concat(u))}},{key:"on",value:function(e,t){for(var r,i=arguments.length,u=new Array(i>2?i-2:0),h=2;h<i;h++)u[h-2]=arguments[h];(r=P(T(n.prototype),"on",this)).call.apply(r,[this,e,t].concat(u))}},{key:"once",value:function(e,t){for(var r,i=arguments.length,u=new Array(i>2?i-2:0),h=2;h<i;h++)u[h-2]=arguments[h];(r=P(T(n.prototype),"once",this)).call.apply(r,[this,e,t].concat(u))}},{key:"off",value:function(e,t){for(var r,i=arguments.length,u=new Array(i>2?i-2:0),h=2;h<i;h++)u[h-2]=arguments[h];(r=P(T(n.prototype),"off",this)).call.apply(r,[this,e,t].concat(u))}},{key:"offAll",value:function(){P(T(n.prototype),"removeAllListeners",this).call(this)}}]),n}(N),dn=function(){function o(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{name:"xgplayer",version:1,db:null,ojstore:{name:"xg-m4a",keypath:"vid"}};d(this,o),this.indexedDB=window.indexedDB||window.webkitindexedDB,this.IDBKeyRange=window.IDBKeyRange||window.webkitIDBKeyRange,this.myDB=a}return _(o,[{key:"openDB",value:function(a){var n=this,e=this,t=this.myDB.version||1,r=e.indexedDB.open(e.myDB.name,t);r.onerror=function(i){},r.onsuccess=function(i){n.myDB.db=i.target.result,a.call(e)},r.onupgradeneeded=function(i){var u=i.target.result;i.target.transaction,u.objectStoreNames.contains(e.myDB.ojstore.name)||u.createObjectStore(e.myDB.ojstore.name,{keyPath:e.myDB.ojstore.keypath})}}},{key:"deletedb",value:function(){this.indexedDB.deleteDatabase(this.myDB.name)}},{key:"closeDB",value:function(){this.myDB.db.close()}},{key:"addData",value:function(a,n){for(var e,t=this.myDB.db.transaction(a,"readwrite").objectStore(a),r=0;r<n.length;r++)(e=t.add(n[r])).onerror=function(){},e.onsuccess=function(){}}},{key:"putData",value:function(a,n){for(var e,t=this.myDB.db.transaction(a,"readwrite").objectStore(a),r=0;r<n.length;r++)(e=t.put(n[r])).onerror=function(){},e.onsuccess=function(){}}},{key:"getDataByKey",value:function(a,n,e){var t=this,r=this.myDB.db.transaction(a,"readwrite").objectStore(a).get(n);r.onerror=function(){e.call(t,null)},r.onsuccess=function(i){var u=i.target.result;e.call(t,u)}}},{key:"deleteData",value:function(a,n){this.myDB.db.transaction(a,"readwrite").objectStore(a).delete(n)}},{key:"clearData",value:function(a){this.myDB.db.transaction(a,"readwrite").objectStore(a).clear()}}]),o}(),Kt=["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],Ht=["requestFullscreen","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen"],Mr=["exitFullscreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen"],Dt="data-xgplayerid";function mt(o,a,n){for(var e=arguments.length,t=new Array(e>3?e-3:0),r=3;r<e;r++)t[r-3]=arguments[r];var i=a.call.apply(a,[o].concat(t));n&&typeof n=="function"&&(i&&i.then?i.then(function(){for(var u=arguments.length,h=new Array(u),y=0;y<u;y++)h[y]=arguments[y];n.call.apply(n,[o].concat(h))}):n.call.apply(n,[o].concat(t)))}function wt(o,a){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{pre:null,next:null};return this.__hooks||(this.__hooks={}),!this.__hooks[o]&&(this.__hooks[o]=null),(function(){var e=arguments,t=this;if(n.pre)try{var r;(r=n.pre).call.apply(r,[this].concat(Array.prototype.slice.call(arguments)))}catch(h){throw h.message="[pluginName: ".concat(this.pluginName,":").concat(o,":pre error] >> ").concat(h.message),h}if(this.__hooks&&this.__hooks[o])try{var i,u=(i=this.__hooks[o]).call.apply(i,[this,this].concat(Array.prototype.slice.call(arguments)));u?u.then?u.then(function(h){h!==!1&&mt.apply(void 0,[t,a,n.next].concat(B(e)))}).catch(function(h){throw h}):mt.apply(void 0,[this,a,n.next].concat(Array.prototype.slice.call(arguments))):u===void 0&&mt.apply(void 0,[this,a,n.next].concat(Array.prototype.slice.call(arguments)))}catch(h){throw h.message="[pluginName: ".concat(this.pluginName,":").concat(o,"] >> ").concat(h.message),h}else mt.apply(void 0,[this,a,n.next].concat(Array.prototype.slice.call(arguments)))}).bind(this)}function gr(o,a){var n=this.__hooks;if(n)return n.hasOwnProperty(o)?(n&&(n[o]=a),!0):(console.warn("has no supported hook which name [".concat(o,"]")),!1)}function yr(o,a){var n=this.__hooks;n&&delete n[o]}function $(o){if(this.plugins&&this.plugins[o.toLowerCase()]){for(var a=this.plugins[o.toLowerCase()],n=arguments.length,e=new Array(n>1?n-1:0),t=1;t<n;t++)e[t-1]=arguments[t];return a.useHooks&&a.useHooks.apply(a,e)}}function ue(o){if(this.plugins&&this.plugins[o.toLowerCase()]){var a=this.plugins[o.toLowerCase()];if(a){for(var n=arguments.length,e=new Array(n>1?n-1:0),t=1;t<n;t++)e[t-1]=arguments[t];return a.removeHooks&&a.removeHooks.apply(a,e)}}}function K(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];o.__hooks={},a&&a.map(function(n){o.__hooks[n]=null}),Object.defineProperty(o,"hooks",{get:function(){return o.__hooks&&Object.keys(o.__hooks).map(function(n){if(o.__hooks[n])return n})}})}function H(o){o.__hooks=null}function ne(o,a,n){for(var e=arguments.length,t=new Array(e>3?e-3:0),r=3;r<e;r++)t[r-3]=arguments[r];if(!o.__hooks||!o.__hooks[a])return n.call.apply(n,[o,o].concat(t));var i,u=(i=o.__hooks[a]).call.apply(i,[o,o].concat(t));if(u&&u.then)u.then(function(h){return h===!1?null:n.call.apply(n,[o,o].concat(t))}).catch(function(h){console.warn("[runHooks]".concat(a," reject"),h.message)});else if(u!==!1)return n.call.apply(n,[o,o].concat(t))}function qe(o,a){j.logError("[".concat(o,"] event or callback cant be undefined or null when call ").concat(a))}var Te=function(){function o(a){d(this,o),v.checkIsFunction(this.beforeCreate)&&this.beforeCreate(a),K(this),this.__args=a,this.__events={},this.__onceEvents={},this.config=a.config||{},this.player=null,this.playerConfig={},this.pluginName="",this.__init(a)}return _(o,[{key:"beforeCreate",value:function(a){}},{key:"afterCreate",value:function(){}},{key:"beforePlayerInit",value:function(){}},{key:"onPluginsReady",value:function(){}},{key:"afterPlayerInit",value:function(){}},{key:"destroy",value:function(){}},{key:"__init",value:function(a){this.player=a.player,this.playerConfig=a.player&&a.player.config,this.pluginName=a.pluginName?a.pluginName.toLowerCase():this.constructor.pluginName.toLowerCase(),this.logger=a.player&&a.player.logger}},{key:"updateLang",value:function(a){a||(a=this.lang)}},{key:"lang",get:function(){return this.player.lang}},{key:"i18n",get:function(){return this.player.i18n}},{key:"i18nKeys",get:function(){return this.player.i18nKeys}},{key:"domEventType",get:function(){var a=v.checkTouchSupport()?"touch":"mouse";return!this.playerConfig||this.playerConfig.domEventType!=="touch"&&this.playerConfig.domEventType!=="mouse"||(a=this.playerConfig.domEventType),a}},{key:"on",value:function(a,n){var e=this;a&&n&&this.player?typeof a=="string"?(this.__events[a]=n,this.player.on(a,n)):Array.isArray(a)&&a.forEach(function(t){e.__events[t]=n,e.player.on(t,n)}):qe(this.pluginName,"plugin.on(event, callback)")}},{key:"once",value:function(a,n){var e=this;a&&n&&this.player?typeof a=="string"?(this.__onceEvents[a]=n,this.player.once(a,n)):Array.isArray(a)&&a.forEach(function(t){e.__onceEvents[t]=n,e.player.once(a,n)}):qe(this.pluginName,"plugin.once(event, callback)")}},{key:"off",value:function(a,n){var e=this;a&&n&&this.player?typeof a=="string"?(delete this.__events[a],this.player.off(a,n)):Array.isArray(a)&&a.forEach(function(t){delete e.__events[a],e.player.off(t,n)}):qe(this.pluginName,"plugin.off(event, callback)")}},{key:"offAll",value:function(){var a=this;["__events","__onceEvents"].forEach(function(n){Object.keys(a[n]).forEach(function(e){a[n][e]&&a.off(e,a[n][e]),e&&delete a[n][e]})}),this.__events={},this.__onceEvents={}}},{key:"emit",value:function(a){var n;if(this.player){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];(n=this.player).emit.apply(n,[a].concat(t))}}},{key:"emitUserAction",value:function(a,n){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.player){var t=f(f({},e),{},{pluginName:this.pluginName});this.player.emitUserAction(a,n,t)}}},{key:"hook",value:function(a,n){return wt.call.apply(wt,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"useHooks",value:function(a,n){for(var e=arguments.length,t=new Array(e>2?e-2:0),r=2;r<e;r++)t[r-2]=arguments[r];return gr.call.apply(gr,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"removeHooks",value:function(a,n){for(var e=arguments.length,t=new Array(e>2?e-2:0),r=2;r<e;r++)t[r-2]=arguments[r];return yr.call.apply(yr,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"registerPlugin",value:function(a){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";if(this.player)return e&&(n.pluginName=e),this.player.registerPlugin({plugin:a,options:n})}},{key:"getPlugin",value:function(a){return this.player?this.player.getPlugin(a):null}},{key:"__destroy",value:function(){var a=this,n=this.player,e=this.pluginName;this.offAll(),v.clearAllTimers(this),v.checkIsFunction(this.destroy)&&this.destroy(),["player","playerConfig","pluginName","logger","__args","__hooks"].map(function(t){a[t]=null}),n.unRegisterPlugin(e),H(this)}}],[{key:"defineGetterOrSetter",value:function(a,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&Object.defineProperty(a,e,n[e])}},{key:"defaultConfig",get:function(){return{}}},{key:"pluginName",get:function(){return"pluginName"}}]),o}();if(typeof Element<"u"&&!Element.prototype.matches){var ut=Element.prototype;ut.matches=ut.matchesSelector||ut.mozMatchesSelector||ut.msMatchesSelector||ut.oMatchesSelector||ut.webkitMatchesSelector}var pt=function(o,a){for(;o&&o.nodeType!==9;){if(typeof o.matches=="function"&&o.matches(a))return o;o=o.parentNode}};function gt(o,a,n,e,t){var r=Mt.apply(this,arguments);return o.addEventListener(n,r,t),{destroy:function(){o.removeEventListener(n,r,t)}}}function Mt(o,a,n,e){return function(t){t.delegateTarget=pt(t.target,a),t.delegateTarget&&e.call(o,t)}}var le=function(o,a,n,e,t){return typeof o.addEventListener=="function"?gt.apply(null,arguments):typeof n=="function"?gt.bind(null,document).apply(null,arguments):(typeof o=="string"&&(o=document.querySelectorAll(o)),Array.prototype.map.call(o,function(r){return gt(r,a,n,e,t)}))},_t={CONTROLS:"controls",ROOT:"root"},Qe={ROOT:"root",ROOT_LEFT:"rootLeft",ROOT_RIGHT:"rootRight",ROOT_TOP:"rootTop",CONTROLS_LEFT:"controlsLeft",CONTROLS_RIGTH:"controlsRight",CONTROLS_RIGHT:"controlsRight",CONTROLS_CENTER:"controlsCenter",CONTROLS:"controls"};function mr(o){return!!o&&o.indexOf&&/^(?:http|data:|\/)/.test(o)}function Xr(o,a){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",e=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},t=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"",r=null;if(o instanceof window.Element)return v.addClass(o,n),Object.keys(e).map(function(i){o.setAttribute(i,e[i])}),o;if(mr(o)||mr(o.url))return e.src=mr(o)?o:o.url||"",r=v.createDom(o.tag||"img","",e,"xg-img ".concat(n));if(typeof o=="function")try{return(r=o())instanceof window.Element?(v.addClass(r,n),Object.keys(e).map(function(i){r.setAttribute(i,e[i])}),r):(j.logWarn("warn>>icons.".concat(a," in config of plugin named [").concat(t,"] is a function mast return an Element Object")),null)}catch(i){return j.logError("Plugin named [".concat(t,"]:createIcon"),i),null}return typeof o=="string"?v.createDomFromHtml(o,e,n):(j.logWarn("warn>>icons.".concat(a," in config of plugin named [").concat(t,"] is invalid")),null)}function vn(o,a){var n=a.config.icons||a.playerConfig.icons;Object.keys(o).map(function(e){var t=o[e],r=t&&t.class?t.class:"",i=t&&t.attr?t.attr:{},u=null;n&&n[e]&&(r=function(h,y){return p(h)==="object"&&h.class&&typeof h.class=="string"?"".concat(y," ").concat(h.class):y}(n[e],r),i=function(h,y){return p(h)==="object"&&h.attr&&p(h.attr)==="object"&&Object.keys(h.attr).map(function(k){y[k]=h.attr[k]}),y}(n[e],i),u=Xr(n[e],e,r,i,a.pluginName)),!u&&t&&(u=Xr(t.icon?t.icon:t,i,r,{},a.pluginName)),a.icons[e]=u})}var tt=function(o){S(n,o);var a=E(n);function n(){var e,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return d(this,n),(e=a.call(this,t)).__delegates=[],e}return _(n,[{key:"__init",value:function(e){if(P(T(n.prototype),"__init",this).call(this,e),e.root){var t=e.root,r=null;this.icons={},this.root=null,this.parent=null,vn(this.registerIcons()||{},this),this.langText={};var i,u,h=this.registerLanguageTexts()||{};i=h,u=this,Object.keys(i).map(function(G){Object.defineProperty(u.langText,G,{get:function(){var X=u.lang,J=u.i18n;return J[G]?J[G]:i[G]&&i[G][X]||""}})});var y="";try{y=this.render()}catch(G){throw j.logError("Plugin:".concat(this.pluginName,":render"),G),new Error("Plugin:".concat(this.pluginName,":render:").concat(G.message))}if(y)(r=n.insert(y,t,e.index)).setAttribute("data-index",e.index);else{if(!e.tag)return;(r=v.createDom(e.tag,"",e.attr,e.name)).setAttribute("data-index",e.index),t.appendChild(r)}this.root=r,this.parent=t;var k=this.config.attr||{},R=this.config.style||{};this.setAttr(k),this.setStyle(R),this.config.index&&this.root.setAttribute("data-index",this.config.index),this.__registerChildren()}}},{key:"__registerChildren",value:function(){var e=this;if(this.root){this._children=[];var t=this.children();t&&p(t)==="object"&&Object.keys(t).length>0&&Object.keys(t).map(function(r){var i,u,h=r,y=t[h],k={root:e.root};typeof y=="function"?(i=e.config[h]||{},u=y):p(y)==="object"&&typeof y.plugin=="function"&&(i=y.options?v.deepCopy(e.config[h]||{},y.options):e.config[h]||{},u=y.plugin),k.config=i,i.index!==void 0&&(k.index=i.index),i.root&&(k.root=i.root),e.registerPlugin(u,k,h)})}}},{key:"updateLang",value:function(e){e||(e=this.lang);var t=this.root,r=this.i18n,i=this.langText;t&&function u(h,y){for(var k=0;k<h.children.length;k++)h.children[k].children.length>0?u(h.children[k],y):y(h.children[k])}(t,function(u){var h=u.getAttribute&&u.getAttribute("lang-key");if(h){var y=r[h.toUpperCase()]||i[h];y&&(u.innerHTML=typeof y=="function"?y(e):y)}})}},{key:"lang",get:function(){return this.player.lang}},{key:"changeLangTextKey",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=this.i18n||{},i=this.langText;e.setAttribute&&e.setAttribute("lang-key",t);var u=r[t]||i[t]||"";u&&(e.innerHTML=u)}},{key:"plugins",value:function(){return this._children}},{key:"children",value:function(){return{}}},{key:"registerPlugin",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";t.root=t.root||this.root;var i=P(T(n.prototype),"registerPlugin",this).call(this,e,t,r);return this._children.push(i),i}},{key:"registerIcons",value:function(){return{}}},{key:"registerLanguageTexts",value:function(){return{}}},{key:"find",value:function(e){if(this.root)return this.root.querySelector(e)}},{key:"bind",value:function(e,t,r){var i=this;if(arguments.length<3&&typeof t=="function")Array.isArray(e)?e.forEach(function(h){i.bindEL(h,t)}):this.bindEL(e,t);else{var u=n.delegate.call(this,this.root,e,t,r);this.__delegates=this.__delegates.concat(u)}}},{key:"unbind",value:function(e,t){var r=this;if(arguments.length<3&&typeof t=="function")Array.isArray(e)?e.forEach(function(h){r.unbindEL(h,t)}):this.unbindEL(e,t);else for(var i="".concat(e,"_").concat(t),u=0;u<this.__delegates.length;u++)if(this.__delegates[u].key===i){this.__delegates[u].destroy(),this.__delegates.splice(u,1);break}}},{key:"setStyle",value:function(e,t){var r=this;if(this.root)return v.typeOf(e)==="String"?this.root.style[e]=t:void(v.typeOf(e)==="Object"&&Object.keys(e).map(function(i){r.root.style[i]=e[i]}))}},{key:"setAttr",value:function(e,t){var r=this;if(this.root)return v.typeOf(e)==="String"?this.root.setAttribute(e,t):void(v.typeOf(e)==="Object"&&Object.keys(e).map(function(i){r.root.setAttribute(i,e[i])}))}},{key:"setHtml",value:function(e,t){this.root&&(this.root.innerHTML=e,typeof t=="function"&&t())}},{key:"bindEL",value:function(e,t){var r=arguments.length>2&&arguments[2]!==void 0&&arguments[2];this.root&&"on".concat(e)in this.root&&typeof t=="function"&&this.root.addEventListener(e,t,r)}},{key:"unbindEL",value:function(e,t){var r=arguments.length>2&&arguments[2]!==void 0&&arguments[2];this.root&&"on".concat(e)in this.root&&typeof t=="function"&&this.root.removeEventListener(e,t,r)}},{key:"show",value:function(e){if(this.root)return this.root.style.display=e!==void 0?e:"block",window.getComputedStyle(this.root,null).getPropertyValue("display")==="none"?this.root.style.display="block":void 0}},{key:"hide",value:function(){this.root&&(this.root.style.display="none")}},{key:"appendChild",value:function(e,t){if(!this.root)return null;if(arguments.length<2&&arguments[0]instanceof window.Element)return this.root.appendChild(arguments[0]);if(!(t&&t instanceof window.Element))return null;try{return typeof e=="string"?this.find(e).appendChild(t):e.appendChild(t)}catch(r){return j.logError("Plugin:appendChild",r),null}}},{key:"render",value:function(){return""}},{key:"destroy",value:function(){}},{key:"__destroy",value:function(){var e=this,t=this.player;this.__delegates.map(function(r){r.destroy()}),this.__delegates=[],this._children instanceof Array&&(this._children.map(function(r){t.unRegisterPlugin(r.pluginName)}),this._children=null),this.root&&(this.root.hasOwnProperty("remove")?this.root.remove():this.root.parentNode&&this.root.parentNode.removeChild(this.root)),P(T(n.prototype),"__destroy",this).call(this),this.icons={},["root","parent"].map(function(r){e[r]=null})}}],[{key:"insert",value:function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=t.children.length,u=Number(r),h=e instanceof window.Node;if(i){for(var y=0,k=null,R="";y<i;y++){k=t.children[y];var G=Number(k.getAttribute("data-index"));if(G>=u){R="beforebegin";break}G<u&&(R="afterend")}return h?R==="afterend"?t.appendChild(e):t.insertBefore(e,k):k.insertAdjacentHTML(R,e),R==="afterend"?t.children[t.children.length-1]:t.children[y]}return h?t.appendChild(e):t.insertAdjacentHTML("beforeend",e),t.children[t.children.length-1]}},{key:"defaultConfig",get:function(){return{}}},{key:"delegate",value:function(e,t,r,i){var u=arguments.length>4&&arguments[4]!==void 0&&arguments[4],h=[];if(e instanceof window.Node&&typeof i=="function")if(Array.isArray(r))r.forEach(function(k){var R=le(e,t,k,i,u);R.key="".concat(t,"_").concat(k),h.push(R)});else{var y=le(e,t,r,i,u);y.key="".concat(t,"_").concat(r),h.push(y)}return h}},{key:"ROOT_TYPES",get:function(){return _t}},{key:"POSITIONS",get:function(){return Qe}}]),n}(Te),Ig=function(){function o(){var a=this;if(d(this,o),g(this,"__trigger",function(n){var e=new Date().getTime();a.timeStamp=e;for(var t=0;t<n.length;t++)a.__runHandler(n[t].target)}),this.__handlers=[],this.timeStamp=0,this.observer=null,window.ResizeObserver)try{this.observer=new window.ResizeObserver(function(n,e,t){var r=!0,i=!0;if(typeof n!="function")throw new TypeError("Expected a function");return ee(t)&&(r="leading"in t?!!t.leading:r,i="trailing"in t?!!t.trailing:i),M(n,e,{leading:r,trailing:i,maxWait:e})}(this.__trigger,100,{trailing:!0})),this.timeStamp=new Date().getTime()}catch(n){console.error(n)}}return _(o,[{key:"addObserver",value:function(a,n){if(this.observer){this.observer&&this.observer.observe(a);for(var e=a.getAttribute(Dt),t=this.__handlers,r=-1,i=0;i<t.length;i++)t[i]&&a===t[i].target&&(r=i);r>-1?this.__handlers[r].handler=n:this.__handlers.push({target:a,handler:n,playerId:e})}}},{key:"unObserver",value:function(a){var n=-1;this.__handlers.map(function(e,t){a===e.target&&(n=t)});try{this.observer&&this.observer.unobserve(a)}catch(e){}this.observer&&this.observer.unobserve(a),n>-1&&this.__handlers.splice(n,1)}},{key:"destroyObserver",value:function(){this.observer&&this.observer.disconnect(),this.observer=null,this.__handlers=null}},{key:"__runHandler",value:function(a){for(var n=this.__handlers,e=0;e<n.length;e++)if(n[e]&&a===n[e].target){try{n[e].handler(a)}catch(t){console.error(t)}return!0}return!1}}]),o}(),pn=null,bt={pluginGroup:{},init:function(o){var a,n,e=o._pluginInfoId;e||(e=new Date().getTime(),o._pluginInfoId=e),!o.config.closeResizeObserver&&(a=o.root,n=function(){o.resize()},pn||(pn=new Ig),pn.addObserver(a,n)),Object.keys(this.pluginGroup).length===0&&(o.isUserActive=!0),this.pluginGroup[e]={_player:o,_originalOptions:o.config||{},_plugins:{}}},checkPlayerRoot:function(o){if(this.pluginGroup){for(var a=Object.keys(this.pluginGroup),n=0;n<a.length;n++){var e=this.pluginGroup[a[n]]._player;if(e.root===o)return e}return null}return null},formatPluginInfo:function(o,a){var n=null,e=null;return o.plugin&&typeof o.plugin=="function"?(n=o.plugin,e=o.options):(n=o,e={}),a&&(e.config=a||{}),{PLUFGIN:n,options:e}},checkPluginIfExits:function(o,a){for(var n=0;n<a.length;n++)if(o.toLowerCase()===a[n].pluginName.toLowerCase())return!0;return!1},getRootByConfig:function(o,a){for(var n=Object.keys(a),e=null,t=0;t<n.length;t++)if(o.toLowerCase()===n[t].toLowerCase()){e=a[n[t]];break}return v.typeOf(e)==="Object"?{root:e.root,position:e.position}:{}},lazyRegister:function(o,a){var n=this,e=a.timeout||1500;return Promise.race([a.loader().then(function(t){var r;r=t&&t.__esModule?t.default:t,n.register(o,r,t.options)}),new Promise(function(t,r){setTimeout(function(){r(new Error("timeout"))},e)})])},register:function(o,a){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(o&&a&&typeof a=="function"&&a.prototype!==void 0){var e=o._pluginInfoId;if(e&&this.pluginGroup[e]){this.pluginGroup[e]._plugins||(this.pluginGroup[e]._plugins={});var t=this.pluginGroup[e]._plugins,r=this.pluginGroup[e]._originalOptions;n.player=this.pluginGroup[e]._player;var i=n.pluginName||a.pluginName;if(!i)throw new Error("The property pluginName is necessary");if(!a.isSupported||a.isSupported(o.config.mediaType,o.config.codecType)){n.config||(n.config={});for(var u=Object.keys(r),h=0;h<u.length;h++)if(i.toLowerCase()===u[h].toLowerCase()){var y=r[u[h]];v.typeOf(y)==="Object"?n.config=Object.assign({},n.config,r[u[h]]):v.typeOf(y)==="Boolean"&&(n.config.disable=!y);break}a.defaultConfig&&Object.keys(a.defaultConfig).forEach(function(R){n.config[R]===void 0&&(n.config[R]=a.defaultConfig[R])}),n.root?typeof n.root=="string"&&(n.root=o[n.root]):n.root=o.root,n.index=n.config.index||0;try{t[i.toLowerCase()]&&(this.unRegister(e,i.toLowerCase()),console.warn("the is one plugin with same pluginName [".concat(i,"] exist, destroy the old instance")));var k=new a(n);return t[i.toLowerCase()]=k,t[i.toLowerCase()].func=a,k&&typeof k.afterCreate=="function"&&k.afterCreate(),k}catch(R){throw console.error(R),R}}else console.warn("not supported plugin [".concat(i,"]"))}}},unRegister:function(o,a){o._pluginInfoId&&(o=o._pluginInfoId),a=a.toLowerCase();try{var n=this.pluginGroup[o]._plugins[a];n&&(n.pluginName&&n.__destroy(),delete this.pluginGroup[o]._plugins[a])}catch(e){console.error("[unRegister:".concat(a,"] cgid:[").concat(o,"] error"),e)}},deletePlugin:function(o,a){var n=o._pluginInfoId;n&&this.pluginGroup[n]&&this.pluginGroup[n]._plugins&&delete this.pluginGroup[n]._plugins[a]},getPlugins:function(o){var a=o._pluginInfoId;return a&&this.pluginGroup[a]?this.pluginGroup[a]._plugins:{}},findPlugin:function(o,a){var n=o._pluginInfoId;if(!n||!this.pluginGroup[n])return null;var e=a.toLowerCase();return this.pluginGroup[n]._plugins[e]},beforeInit:function(o){var a=this;function n(e){return e&&e.then?e:new Promise(function(t){t()})}return new Promise(function(e){if(a.pluginGroup)return(o._loadingPlugins&&o._loadingPlugins.length?Promise.all(o._loadingPlugins):Promise.resolve()).then(function(){var t=o._pluginInfoId;if(a.pluginGroup[t]){var r=a.pluginGroup[t]._plugins,i=[];Object.keys(r).forEach(function(u){if(r[u]&&r[u].beforePlayerInit)try{var h=r[u].beforePlayerInit();i.push(n(h))}catch(y){throw i.push(n(null)),y}}),Promise.all([].concat(i)).then(function(){e()}).catch(function(u){console.error(u),e()})}else e()})})},afterInit:function(o){var a=o._pluginInfoId;if(a&&this.pluginGroup[a]){var n=this.pluginGroup[a]._plugins;Object.keys(n).forEach(function(e){n[e]&&n[e].afterPlayerInit&&n[e].afterPlayerInit()})}},setLang:function(o,a){var n=a._pluginInfoId;if(n&&this.pluginGroup[n]){var e=this.pluginGroup[n]._plugins;Object.keys(e).forEach(function(t){if(e[t].updateLang)e[t].updateLang(o);else try{e[t].lang=o}catch(r){console.warn("".concat(t," setLang"))}})}},reRender:function(o){var a=this,n=o._pluginInfoId;if(n&&this.pluginGroup[n]){var e=[],t=this.pluginGroup[n]._plugins;Object.keys(t).forEach(function(r){r!=="controls"&&t[r]&&(e.push({plugin:t[r].func,options:t[r].__args}),a.unRegister(n,r))}),e.forEach(function(r){a.register(o,r.plugin,r.options)})}},onPluginsReady:function(o){var a=o._pluginInfoId;if(a&&this.pluginGroup[a]){var n=this.pluginGroup[a]._plugins||{};Object.keys(n).forEach(function(e){n[e].onPluginsReady&&typeof n[e].onPluginsReady=="function"&&n[e].onPluginsReady()})}},setCurrentUserActive:function(o,a){if(this.pluginGroup[o]){if(!a)return this.pluginGroup[o]._player.isUserActive=a,o;for(var n=Object.keys(this.pluginGroup),e=0;e<n.length;e++){var t=this.pluginGroup[n[e]];t&&t._player&&(this.pluginGroup[n[e]]._player.isUserActive=!1)}return this.pluginGroup[o]._player.isUserActive=a,o}},getCurrentUseActiveId:function(){if(this.pluginGroup){for(var o=Object.keys(this.pluginGroup),a=0;a<o.length;a++){var n=this.pluginGroup[o[a]];if(n&&n._player&&n._player.isUserActive)return o[a]}return null}},destroy:function(o){var a=o._pluginInfoId;if(this.pluginGroup[a]){var n,e;n=o.root,pn.unObserver(n,e);for(var t=this.pluginGroup[a]._plugins,r=0,i=Object.keys(t);r<i.length;r++){var u=i[r];this.unRegister(a,u)}var h=o.isUseActive;if(delete this.pluginGroup[a],delete o._pluginInfoId,h){var y=Object.keys(this.pluginGroup);y.length>0&&this.setCurrentUserActive(y[y.length-1],!0)}}}},ye={DEFAULT:"xgplayer",DEFAULT_SKIN:"xgplayer-skin-default",ENTER:"xgplayer-is-enter",PAUSED:"xgplayer-pause",PLAYING:"xgplayer-playing",ENDED:"xgplayer-ended",CANPLAY:"xgplayer-canplay",LOADING:"xgplayer-isloading",ERROR:"xgplayer-is-error",REPLAY:"xgplayer-replay",NO_START:"xgplayer-nostart",ACTIVE:"xgplayer-active",INACTIVE:"xgplayer-inactive",FULLSCREEN:"xgplayer-is-fullscreen",CSS_FULLSCREEN:"xgplayer-is-cssfullscreen",ROTATE_FULLSCREEN:"xgplayer-rotate-fullscreen",PARENT_ROTATE_FULLSCREEN:"xgplayer-rotate-parent",PARENT_FULLSCREEN:"xgplayer-fullscreen-parent",INNER_FULLSCREEN:"xgplayer-fullscreen-inner",NO_CONTROLS:"no-controls",FLEX_CONTROLS:"flex-controls",CONTROLS_FOLLOW:"controls-follow",CONTROLS_AUTOHIDE:"controls-autohide",TOP_BAR_AUTOHIDE:"top-bar-autohide",NOT_ALLOW_AUTOPLAY:"not-allow-autoplay",SEEKING:"seeking",PC:"xgplayer-pc",MOBILE:"xgplayer-mobile",MINI:"xgplayer-mini"};function pu(){return{id:"",el:null,url:"",domEventType:"default",nullUrlStart:!1,width:600,height:337.5,fluid:!1,fitVideoSize:"fixed",videoFillMode:"auto",volume:.6,autoplay:!1,autoplayMuted:!1,loop:!1,isLive:!1,zoom:1,videoInit:!0,poster:"",isMobileSimulateMode:!1,defaultPlaybackRate:1,execBeforePluginsCall:null,allowSeekAfterEnded:!0,enableContextmenu:!0,closeVideoClick:!1,closeVideoDblclick:!1,closePlayerBlur:!1,closeDelayBlur:!1,leavePlayerTime:3e3,closePlayVideoFocus:!1,closePauseVideoFocus:!1,closeFocusVideoFocus:!0,closeControlsBlur:!0,topBarAutoHide:!0,videoAttributes:{},startTime:0,seekedStatus:"play",miniprogress:!1,disableSwipeHandler:function(){},enableSwipeHandler:function(){},preProcessUrl:null,ignores:[],whitelist:[],inactive:3e3,lang:(o=(document.documentElement.getAttribute("lang")||navigator.language||"zh-cn").toLocaleLowerCase(),o==="zh-cn"&&(o="zh"),o),controls:!0,marginControls:!1,fullscreenTarget:null,screenShot:!1,rotate:!1,pip:!1,download:!1,mini:!1,cssFullscreen:!0,keyShortcut:!0,presets:[],plugins:[],playbackRate:1,definition:{list:[]},playsinline:!0,customDuration:0,timeOffset:0,icons:{},i18n:[],tabindex:0,thumbnail:null,videoConfig:{},isHideTips:!1,minWaitDelay:200,commonStyle:{progressColor:"",playedColor:"",cachedColor:"",sliderBtnStyle:{},volumeColor:""}};var o}var xg=1,Gn=2,gu=3,Nr=4,Ag=5,Ot=6,Vn=7,yu=["ERROR","INITIAL","READY","ATTACHING","ATTACHED","NOTALLOW","RUNNING","ENDED","DESTROYED"],Rg=function(o){S(n,o);var a=E(n);function n(){var e;d(this,n);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return g(b(e=a.call.apply(a,[this].concat(r))),"onMouseEnter",function(u){var h=b(e),y=h.player;h.playerConfig.closeControlsBlur&&y.focus({autoHide:!1})}),g(b(e),"onMouseLeave",function(u){b(e).player.focus()}),e}return _(n,[{key:"beforeCreate",value:function(e){e.config.mode||D.device!=="mobile"||(e.config.mode="flex"),e.player.config.marginControls&&(e.config.autoHide=!1)}},{key:"afterCreate",value:function(){var e=this,t=this.config,r=t.disable,i=t.height,u=t.mode;if(!r){u==="flex"&&this.player.addClass(ye.FLEX_CONTROLS);var h={height:"".concat(i,"px")};Object.keys(h).map(function(k){e.root.style[k]=h[k]}),this.left=this.find("xg-left-grid"),this.center=this.find("xg-center-grid"),this.right=this.find("xg-right-grid"),this.innerRoot=this.find("xg-inner-controls"),this.on(Fe,function(k){k?v.addClass(e.root,"mini-controls"):v.removeClass(e.root,"mini-controls")});var y=this.playerConfig.isMobileSimulateMode;D.device!=="mobile"&&y!=="mobile"&&(this.bind("mouseenter",this.onMouseEnter),this.bind("mouseleave",this.onMouseLeave))}}},{key:"focus",value:function(){this.player.focus({autoHide:!1})}},{key:"focusAwhile",value:function(){this.player.focus({autoHide:!0})}},{key:"blur",value:function(){this.player.blur({ignorePaused:!0})}},{key:"recoverAutoHide",value:function(){this.config.autoHide&&v.addClass(this.root,ye.CONTROLS_AUTOHIDE)}},{key:"pauseAutoHide",value:function(){v.removeClass(this.root,ye.CONTROLS_AUTOHIDE)}},{key:"show",value:function(){this.root.style.display="",this.player.focus()}},{key:"hide",value:function(){this.root.style.display="none"}},{key:"mode",get:function(){return this.config.mode}},{key:"registerPlugin",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;if(this.root){var i=e.defaultConfig||{};if(!t.root){var u=t.position?t.position:t.config&&t.config.position?t.config.position:i.position;switch(u){case Qe.CONTROLS_LEFT:t.root=this.left;break;case Qe.CONTROLS_RIGHT:t.root=this.right;break;case Qe.CONTROLS_CENTER:t.root=this.center;break;case Qe.CONTROLS:t.root=this.root;break;default:t.root=this.left}return P(T(n.prototype),"registerPlugin",this).call(this,e,t,r)}}}},{key:"destroy",value:function(){D.device!=="mobile"&&(this.unbind("mouseenter",this.onMouseEnter),this.unbind("mouseleave",this.onMouseLeave))}},{key:"render",value:function(){var e=this.config,t=e.mode,r=e.autoHide,i=e.initShow;if(!e.disable){var u=v.classNames({"xgplayer-controls":!0},{"flex-controls":t==="flex"},{"bottom-controls":t==="bottom"},g({},ye.CONTROLS_AUTOHIDE,r),{"xgplayer-controls-initshow":i||!r});return'<xg-controls class="'.concat(u,'" unselectable="on">\n    <xg-inner-controls class="xg-inner-controls xg-pos">\n      <xg-left-grid class="xg-left-grid">\n      </xg-left-grid>\n      <xg-center-grid class="xg-center-grid"></xg-center-grid>\n      <xg-right-grid class="xg-right-grid">\n      </xg-right-grid>\n    </xg-inner-controls>\n    </xg-controls>')}}}],[{key:"pluginName",get:function(){return"controls"}},{key:"defaultConfig",get:function(){return{disable:!1,autoHide:!0,mode:"",initShow:!1}}}]),n}(tt),Bt={lang:{},langKeys:[],textKeys:[]};function Jr(o,a){return Object.keys(a).forEach(function(n){var e,t=v.typeOf(a[n]),r=v.typeOf(o[n]);t==="Array"?(r!=="Array"&&(o[n]=[]),(e=o[n]).push.apply(e,B(a[n]))):t==="Object"?(r!=="Object"&&(o[n]={}),Jr(o[n],a[n])):o[n]=a[n]}),o}function mu(){Object.keys(Bt.lang.en).map(function(o){Bt.textKeys[o]=o})}function $n(o,a){var n=o.LANG;if(a||(a=Bt),a.lang){var e=o.TEXT||{};n==="zh"&&(n="zh-cn"),a.lang[n]?Jr(a.lang[n],e):(a.langKeys.push(n),a.lang[n]=e),mu()}}$n({LANG:"en",TEXT:{ERROR_TYPES:{network:{code:1,msg:"video download error"},mse:{code:2,msg:"stream append error"},parse:{code:3,msg:"parsing error"},format:{code:4,msg:"wrong format"},decoder:{code:5,msg:"decoding error"},runtime:{code:6,msg:"grammatical errors"},timeout:{code:7,msg:"play timeout"},other:{code:8,msg:"other errors"}},HAVE_NOTHING:"There is no information on whether audio/video is ready",HAVE_METADATA:"Audio/video metadata is ready ",HAVE_CURRENT_DATA:"Data about the current play location is available, but there is not enough data to play the next frame/millisecond",HAVE_FUTURE_DATA:"Current and at least one frame of data is available",HAVE_ENOUGH_DATA:"The available data is sufficient to start playing",NETWORK_EMPTY:"Audio/video has not been initialized",NETWORK_IDLE:"Audio/video is active and has been selected for resources, but no network is used",NETWORK_LOADING:"The browser is downloading the data",NETWORK_NO_SOURCE:"No audio/video source was found",MEDIA_ERR_ABORTED:"The fetch process is aborted by the user",MEDIA_ERR_NETWORK:"An error occurred while downloading",MEDIA_ERR_DECODE:"An error occurred while decoding",MEDIA_ERR_SRC_NOT_SUPPORTED:"Audio/video is not supported",REPLAY:"Replay",ERROR:"Network is offline",PLAY_TIPS:"Play",PAUSE_TIPS:"Pause",PLAYNEXT_TIPS:"Play next",DOWNLOAD_TIPS:"Download",ROTATE_TIPS:"Rotate",RELOAD_TIPS:"Reload",FULLSCREEN_TIPS:"Fullscreen",EXITFULLSCREEN_TIPS:"Exit fullscreen",CSSFULLSCREEN_TIPS:"Cssfullscreen",EXITCSSFULLSCREEN_TIPS:"Exit cssfullscreen",TEXTTRACK:"Caption",PIP:"PIP",SCREENSHOT:"Screenshot",LIVE:"LIVE",OFF:"Off",OPEN:"Open",MINI_DRAG:"Click and hold to drag",MINISCREEN:"Miniscreen",REFRESH_TIPS:"Please Try",REFRESH:"Refresh",FORWARD:"forward",LIVE_TIP:"Live"}});var Fr={get textKeys(){return Bt.textKeys},get langKeys(){return Bt.langKeys},get lang(){var o={};return Bt.langKeys.map(function(a){o[a]=Bt.lang[a]}),Bt.lang["zh-cn"]&&(o.zh=Bt.lang["zh-cn"]||{}),o},extend:function(o,a){var n=[];if(a||(a=Bt),a.lang){n=v.typeOf(o)!=="Array"?Object.keys(o).map(function(t){return{LANG:t==="zh"?"zh-cn":t,TEXT:o[t]}}):o;var e=a.lang;n.map(function(t){t.LANG==="zh"&&(t.LANG="zh-cn"),e[t.LANG]?Jr(e[t.LANG]||{},t.TEXT||{}):$n(t,a)}),mu()}},use:$n,init:function(o){var a,n={lang:{},langKeys:[],textKeys:{},pId:o};return Jr(n.lang,Bt.lang),(a=n.langKeys).push.apply(a,B(Bt.langKeys)),Jr(n.textKeys,Bt.textKeys),n}},Og=["play","pause","replay","retry"],_u=0,bu=0,Wn=function(o){S(n,o);var a=E(n);function n(e){var t;d(this,n);var r,i=v.deepMerge(pu(),e);g(b(t=a.call(this,i)),"canPlayFunc",function(){if(t.config){var X=t.config,J=X.autoplay,oe=X.startTime,ve=X.defaultPlaybackRate;j.logInfo("player","canPlayFunc, startTime",oe),oe&&(t.currentTime=oe>t.duration?t.duration:oe,t.config.startTime=0),t.playbackRate=ve,(J||t._useAutoplay)&&t.mediaPlay(),t.off(Ae,t.canPlayFunc),t.removeClass(ye.ENTER)}}),g(b(t),"onFullscreenChange",function(X,J){var oe=function(){v.setTimeout(b(t),function(){t.resize()},100)},ve=v.getFullScreenEl();t._fullActionFrom?t._fullActionFrom="":t.emit(kt,{eventType:"system",action:"switch_fullscreen",pluginName:"player",currentTime:t.currentTime,duration:t.duration,props:[{prop:"fullscreen",from:!0,to:!1}]});var fe=function(Ze,xe,dt){if(Ze){var Et=Ze.getAttribute(dt);return!(!Et||Et!==xe||Ze.tagName!=="VIDEO"&&Ze.tagName!=="AUDIO")}}(ve,t.playerId,Dt);if(J||ve&&(ve===t._fullscreenEl||fe))oe(),!t.config.closeFocusVideoFocus&&t.media.focus(),t.fullscreen=!0,t.changeFullStyle(t.root,ve,ye.FULLSCREEN),t.emit(Pe,!0,t._fullScreenOffset),t.cssfullscreen&&t.exitCssFullscreen();else if(t.fullscreen){oe();var Ce=b(t),Be=Ce._fullScreenOffset;Ce.config.needFullscreenScroll?(window.scrollTo(Be.left,Be.top),v.setTimeout(b(t),function(){t.fullscreen=!1,t._fullScreenOffset=null},100)):(!t.config.closeFocusVideoFocus&&t.media.focus(),t.fullscreen=!1,t._fullScreenOffset=null),t.cssfullscreen?t.removeClass(ye.FULLSCREEN):t.recoverFullStyle(t.root,t._fullscreenEl,ye.FULLSCREEN),t._fullscreenEl=null,t.emit(Pe,!1)}}),g(b(t),"_onWebkitbeginfullscreen",function(X){t._fullscreenEl=t.media,t.onFullscreenChange(X,!0)}),g(b(t),"_onWebkitendfullscreen",function(X){t.onFullscreenChange(X,!1)}),K(b(t),Og),t.config=i,t._pluginInfoId=v.generateSessionId(),(r=b(t)).logInfo=j.logInfo.bind(r),r.logWarn=j.logWarn.bind(r),r.logError=j.logError.bind(r);var u=t.constructor.defaultPreset;if(t.config.presets.length){var h=t.config.presets.indexOf("default");h>=0&&u&&(t.config.presets[h]=u)}else u&&t.config.presets.push(u);if(t.userTimer=null,t.waitTimer=null,t._state=xg,t.isError=!1,t._hasStart=!1,t.isSeeking=!1,t.isCanplay=!1,t._useAutoplay=!1,t.rotateDeg=0,t.isActive=!1,t.fullscreen=!1,t.cssfullscreen=!1,t.isRotateFullscreen=!1,t._fullscreenEl=null,t.timeSegments=[],t._cssfullscreenEl=null,t.curDefinition=null,t._orgCss="",t._fullScreenOffset=null,t._videoHeight=0,t._videoWidth=0,t.videoPos={pi:1,scale:0,rotate:-1,x:0,y:0,h:-1,w:-1,vy:0,vx:0},t.sizeInfo={width:0,height:0,left:0,top:0},t._accPlayed={t:0,acc:0,loopAcc:0},t._offsetInfo={currentTime:-1,duration:0},t.innerContainer=null,t.controls=null,t.topBar=null,t.root=null,t.__i18n=Fr.init(t._pluginInfoId),D.os.isAndroid&&D.osVersion>0&&D.osVersion<6&&(t.config.autoplay=!1),t.database=new dn,t.isUserActive=!1,t._onceSeekCanplay=null,t._isPauseBeforeSeek=0,t.innerStates={isActiveLocked:!1},!t._initDOM())return console.error(new Error("can't find the dom which id is ".concat(t.config.id," or this.config.el does not exist"))),I(t);var y=t.config,k=y.definition,R=k===void 0?{}:k;if(!y.url&&R.list&&R.list.length>0){var G=R.list.find(function(X){return X.definition&&X.definition===R.defaultDefinition});G||(R.defaultDefinition=R.list[0].definition,G=R.list[0]),t.config.url=G.url,t.curDefinition=G}return t._bindEvents(),t._registerPresets(),t._registerPlugins(),bt.onPluginsReady(b(t)),t.getInitDefinition(),t.setState(Gn),v.setTimeout(b(t),function(){t.emit(Ue)},0),t.onReady&&t.onReady(),(t.config.videoInit||t.config.autoplay)&&(!t.hasStart||t.state<Nr)&&t.start(),t}return _(n,[{key:"_initDOM",value:function(){var e=this;if(this.root=this.config.id?document.getElementById(this.config.id):null,!this.root){var t=this.config.el;if(!t||t.nodeType!==1)return this.emit(we,new he("use",this.config.vid,{line:32,handle:"Constructor",msg:"container id can't be empty"})),console.error("this.confg.id or this.config.el can't be empty"),!1;this.root=t}var r=bt.checkPlayerRoot(this.root);r&&(j.logWarn("The is an Player instance already exists in this.root, destroy it and reinitialize"),r.destroy()),this.root.setAttribute(Dt,this.playerId),bt.init(this),this._initBaseDoms();var i=this.constructor.XgVideoProxy;if(i&&this.mediaConfig.mediaType===i.mediaType){var u=this.innerContainer||this.root;this.detachVideoEvents(this.media);var h=new i(u,this.config,this.mediaConfig);this.attachVideoEvents(h),this.media=h}if(this.media.setAttribute(Dt,this.playerId),this.config.controls){var y=this.config.controls.root||null,k=bt.register(this,Rg,{root:y});this.controls=k}var R=this.config.isMobileSimulateMode==="mobile"?"mobile":D.device;if(this.addClass("".concat(ye.DEFAULT," ").concat(ye.INACTIVE," xgplayer-").concat(R," ").concat(this.config.controls?"":ye.NO_CONTROLS)),this.config.autoplay?this.addClass(ye.ENTER):this.addClass(ye.NO_START),this.config.fluid){var G=this.config,X=G.width,J=G.height;typeof X=="number"&&typeof J=="number"||(X=600,J=337.5);var oe={width:"100%",height:"0","max-width":"100%","padding-top":"".concat(100*J/X,"%")};Object.keys(oe).forEach(function(xe){e.root.style[xe]=oe[xe]})}else["width","height"].forEach(function(xe){e.config[xe]&&(typeof e.config[xe]!="number"?e.root.style[xe]=e.config[xe]:e.root.style[xe]="".concat(e.config[xe],"px"))});var ve=this.root.getBoundingClientRect(),fe=ve.width,Ce=ve.height,Be=ve.left,Ze=ve.top;return this.sizeInfo.width=fe,this.sizeInfo.height=Ce,this.sizeInfo.left=Be,this.sizeInfo.top=Ze,!0}},{key:"_initBaseDoms",value:function(){this.topBar=null,this.leftBar=null,this.rightBar=null,this.config.marginControls&&(this.innerContainer=v.createDom("xg-video-container","",{"data-index":-1},"xg-video-container"),this.root.appendChild(this.innerContainer))}},{key:"_bindEvents",value:function(){var e=this;["focus","blur"].forEach(function(t){e.on(t,e["on"+t.charAt(0).toUpperCase()+t.slice(1)])}),Kt.forEach(function(t){document&&document.addEventListener(t,e.onFullscreenChange)}),D.os.isIos&&(this.media.addEventListener("webkitbeginfullscreen",this._onWebkitbeginfullscreen),this.media.addEventListener("webkitendfullscreen",this._onWebkitendfullscreen)),this.once(He,this.resize),this.playFunc=function(){e.config.closeFocusVideoFocus||e.media.focus()},this.once(de,this.playFunc)}},{key:"_unbindEvents",value:function(){var e=this;this.root.removeEventListener("mousemove",this.mousemoveFunc),Kt.forEach(function(t){document.removeEventListener(t,e.onFullscreenChange)}),this.playFunc&&this.off(de,this.playFunc),this.off(Ae,this.canPlayFunc),this.media.removeEventListener("webkitbeginfullscreen",this._onWebkitbeginfullscreen),this.media.removeEventListener("webkitendfullscreen",this._onWebkitendfullscreen)}},{key:"_startInit",value:function(e){var t=this;if(this.media&&(e&&e!==""&&(v.typeOf(e)!=="Array"||e.length!==0)||(e="",this.emit(z),j.logWarn("config.url is null, please get url and run player._startInit(url)"),!this.config.nullUrlStart))){this._detachSourceEvents(this.media),v.typeOf(e)==="Array"&&e.length>0?this._attachSourceEvents(this.media,e):this.media.src&&this.media.src===e?e||this.media.removeAttribute("src"):this.media.src=e,v.typeOf(this.config.volume)==="Number"&&(this.volume=this.config.volume);var r=this.innerContainer?this.innerContainer:this.root;this.media instanceof window.Element&&!r.contains(this.media)&&r.insertBefore(this.media,r.firstChild);var i=this.media.readyState;j.logInfo("_startInit readyState",i),this.config.autoplay&&(!v.isMSE(this.media)&&this.load(),(D.os.isIpad||D.os.isPhone)&&this.mediaPlay()),i>=2?this.canPlayFunc():this.once(Ae,this.canPlayFunc),(!this.hasStart||this.state<Nr)&&bt.afterInit(this),this.hasStart=!0,this.setState(Nr),v.setTimeout(this,function(){t.emit(Ee)},0)}}},{key:"_registerPlugins",value:function(){var e=this,t=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this._loadingPlugins=[];var r=this.config.ignores||[],i=this.config.plugins||[],u=this.config.i18n||[];t&&Fr.extend(u,this.__i18n);var h=r.join("||").toLowerCase().split("||"),y=this.plugins;i.forEach(function(k){try{var R=k.plugin?k.plugin.pluginName:k.pluginName;if(R&&h.indexOf(R.toLowerCase())>-1)return null;if(!t&&y[R.toLowerCase()])return;if(k.lazy&&k.loader){var G=bt.lazyRegister(e,k);return void(k.forceBeforeInit&&(G.then(function(){e._loadingPlugins.splice(e._loadingPlugins.indexOf(G),1)}).catch(function(X){j.logError("_registerPlugins:loadingPlugin",X),e._loadingPlugins.splice(e._loadingPlugins.indexOf(G),1)}),e._loadingPlugins.push(G)))}return e.registerPlugin(k)}catch(X){j.logError("_registerPlugins:",X)}})}},{key:"_registerPresets",value:function(){var e=this;this.config.presets.forEach(function(t){(function(r,i){var u,h,y=i.preset&&i.options?new i.preset(i.options,r.config):new i({},r.config),k=y.plugins,R=k===void 0?[]:k,G=y.ignores,X=G===void 0?[]:G,J=y.icons,oe=J===void 0?{}:J,ve=y.i18n,fe=ve===void 0?[]:ve;r.config.plugins||(r.config.plugins=[]),r.config.ignores||(r.config.ignores=[]),(u=r.config.plugins).push.apply(u,B(R)),(h=r.config.ignores).push.apply(h,B(X)),Object.keys(oe).map(function(Be){r.config.icons[Be]||(r.config.icons[Be]=oe[Be])});var Ce=r.config.i18n||[];fe.push.apply(fe,B(Ce)),r.config.i18n=fe})(e,t)})}},{key:"_getRootByPosition",value:function(e){var t=null;switch(e){case Qe.ROOT_RIGHT:this.rightBar||(this.rightBar=v.createPositionBar("xg-right-bar",this.root)),t=this.rightBar;break;case Qe.ROOT_LEFT:this.leftBar||(this.leftBar=v.createPositionBar("xg-left-bar",this.root)),t=this.leftBar;break;case Qe.ROOT_TOP:this.topBar||(this.topBar=v.createPositionBar("xg-top-bar",this.root),this.config.topBarAutoHide&&v.addClass(this.topBar,ye.TOP_BAR_AUTOHIDE)),t=this.topBar;break;default:t=this.innerContainer||this.root}return t}},{key:"registerPlugin",value:function(e,t){var r=bt.formatPluginInfo(e,t),i=r.PLUFGIN,u=r.options,h=this.config.plugins;!bt.checkPluginIfExits(i.pluginName,h)&&h.push(i);var y=bt.getRootByConfig(i.pluginName,this.config);y.root&&(u.root=y.root),y.position&&(u.position=y.position);var k=u.position?u.position:u.config&&u.config.position||i.defaultConfig&&i.defaultConfig.position;return!u.root&&typeof k=="string"&&k.indexOf("controls")>-1?this.controls&&this.controls.registerPlugin(i,u,i.pluginName):(u.root||(u.root=this._getRootByPosition(k)),bt.register(this,i,u))}},{key:"deregister",value:function(e){typeof e=="string"?bt.unRegister(this,e):e instanceof Te&&bt.unRegister(this,e.pluginName)}},{key:"unRegisterPlugin",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.deregister(e),t&&this.removePluginFromConfig(e)}},{key:"removePluginFromConfig",value:function(e){var t;if(typeof e=="string"?t=e:e instanceof Te&&(t=e.pluginName),t){for(var r=this.config.plugins.length-1;r>-1;r--)if(this.config.plugins[r].pluginName.toLowerCase()===t.toLowerCase()){this.config.plugins.splice(r,1);break}}}},{key:"plugins",get:function(){return bt.getPlugins(this)}},{key:"getPlugin",value:function(e){var t=bt.findPlugin(this,e);return t&&t.pluginName?t:null}},{key:"addClass",value:function(e){this.root&&(v.hasClass(this.root,e)||v.addClass(this.root,e))}},{key:"removeClass",value:function(e){this.root&&v.removeClass(this.root,e)}},{key:"hasClass",value:function(e){if(this.root)return v.hasClass(this.root,e)}},{key:"setAttribute",value:function(e,t){this.root&&this.root.setAttribute(e,t)}},{key:"removeAttribute",value:function(e,t){this.root&&this.root.removeAttribute(e,t)}},{key:"start",value:function(e){var t=this;if(!(this.state>gu))return e||this.config.url||this.getInitDefinition(),this.hasStart=!0,this.setState(gu),this._registerPlugins(!1),bt.beforeInit(this).then(function(){if(t.config){e||(e=t.url||t.config.url);var r=t.preProcessUrl(e);return t._startInit(r.url)}}).catch(function(r){throw r.fileName="player",r.lineNumber="236",j.logError("start:beforeInit:",r),r})}},{key:"switchURL",value:function(e,t){var r=this,i=e;v.typeOf(e)==="Object"&&(i=e.url),i=this.preProcessUrl(i).url;var u=this.currentTime,h=this.paused&&!this.isError;return this.src=i,new Promise(function(y,k){var R=function(X){r.off("timeupdate",G),r.off("canplay",G),k(X)},G=function(){r.currentTime=u,h&&r.pause(),r.off("error",R),y(!0)};r.once("error",R),i?(D.os.isAndroid?r.once("timeupdate",G):r.once("canplay",G),r.play()):r.errorHandler("error",{code:6,message:"empty_src"})})}},{key:"videoPlay",value:function(){this.mediaPlay()}},{key:"mediaPlay",value:function(){var e=this;if(!this.hasStart&&this.state<Nr)return this.removeClass(ye.NO_START),this.addClass(ye.ENTER),this.start(),void(this._useAutoplay=!0);this.state<Ot&&(this.removeClass(ye.NO_START),!this.isCanplay&&this.addClass(ye.ENTER));var t=P(T(n.prototype),"play",this).call(this);return t!==void 0&&t&&t.then?t.then(function(){e.removeClass(ye.NOT_ALLOW_AUTOPLAY),e.addClass(ye.PLAYING),e.state<Ot&&(j.logInfo(">>>>playPromise.then"),e.setState(Ot),e.emit(re))}).catch(function(r){if(j.logWarn(">>>>playPromise.catch",r.name),e.media&&e.media.error)return e.onError(),void e.removeClass(ye.ENTER);r.name==="NotAllowedError"&&(e._errorTimer=v.setTimeout(e,function(){e._errorTimer=null,e.emit(me),e.addClass(ye.NOT_ALLOW_AUTOPLAY),e.removeClass(ye.ENTER),e.pause(),e.setState(Ag)},0))}):(j.logWarn("video.play not return promise"),this.state<Ot&&(this.setState(Ot),this.removeClass(ye.NOT_ALLOW_AUTOPLAY),this.removeClass(ye.NO_START),this.removeClass(ye.ENTER),this.addClass(ye.PLAYING),this.emit(re))),t}},{key:"mediaPause",value:function(){P(T(n.prototype),"pause",this).call(this)}},{key:"videoPause",value:function(){P(T(n.prototype),"pause",this).call(this)}},{key:"play",value:function(){var e=this;return this.removeClass(ye.PAUSED),ne(this,"play",function(){return e.mediaPlay()})}},{key:"pause",value:function(){var e=this;ne(this,"pause",function(){P(T(n.prototype),"pause",e).call(e)})}},{key:"seek",value:function(e,t){var r=this;if(this.media&&!Number.isNaN(Number(e))&&this.hasStart){var i=this.config,u=i.isSeekedPlay,h=i.seekedStatus,y=t||(u?"play":h);e=e<0?0:e>this.duration?parseInt(this.duration,10):e,!this._isPauseBeforeSeek&&(this._isPauseBeforeSeek=this.paused?2:1),this._onceSeekCanplay&&this.off(pe,this._onceSeekCanplay),this._onceSeekCanplay=function(){switch(r.removeClass(ye.ENTER),r.isSeeking=!1,y){case"play":r.play();break;case"pause":r.pause();break;default:r._isPauseBeforeSeek>1||r.paused?r.pause():r.play()}r._isPauseBeforeSeek=0,r._onceSeekCanplay=null},this.once(pe,this._onceSeekCanplay),this.state<Ot?(this.removeClass(ye.NO_START),this.currentTime=e,this.play()):this.currentTime=e}}},{key:"getInitDefinition",value:function(){var e=this,t=this.config,r=t.definition;!t.url&&r&&r.list&&r.list.length>0&&r.defaultDefinition&&r.list.map(function(i){i.definition===r.defaultDefinition&&(e.config.url=i.url,e.curDefinition=i)})}},{key:"changeDefinition",value:function(e,t){var r=this,i=this.config.definition;if(Array.isArray(i==null?void 0:i.list)&&i.list.forEach(function(h){(e==null?void 0:e.definition)===h.definition&&(r.curDefinition=h)}),e!=null&&e.bitrate&&typeof e.bitrate!="number"&&(e.bitrate=parseInt(e.bitrate,10)||0),this.emit(Z,{from:t,to:e}),this.hasStart){var u=this.switchURL(e.url,f({seamless:i.seamless!==!1&&typeof MediaSource<"u"&&typeof MediaSource.isTypeSupported=="function"},e));u&&u.then?u.then(function(){r.emit(te,{from:t,to:e})}):this.emit(te,{from:t,to:e})}else this.config.url=e.url}},{key:"reload",value:function(){this.load(),this.reloadFunc=function(){this.play()},this.once(He,this.reloadFunc)}},{key:"resetState",value:function(){var e=this,t=[ye.NOT_ALLOW_AUTOPLAY,ye.PLAYING,ye.NO_START,ye.PAUSED,ye.REPLAY,ye.ENTER,ye.ENDED,ye.ERROR,ye.LOADING];this.hasStart=!1,this.isError=!1,this._useAutoplay=!1,this.mediaPause(),this._accPlayed.acc=0,this._accPlayed.t=0,this._accPlayed.loopAcc=0,t.forEach(function(r){e.removeClass(r)}),this.addClass(ye.ENTER),this.emit(qt)}},{key:"reset",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0;this.resetState();var i=this.plugins;if(i&&(t.map(function(h){e.deregister(h)}),r)){var u=pu();Object.keys(this.config).keys(function(h){e.config[h]==="undefined"||h!=="plugins"&&h!=="presets"&&h!=="el"&&h!=="id"||(e.config[h]=u[h])})}}},{key:"destroy",value:function(){var e=this,t=this.innerContainer,r=this.root,i=this.media;if(r&&i){if(this.hasStart=!1,this._useAutoplay=!1,r.removeAttribute(Dt),this.updateAcc("destroy"),this._unbindEvents(),this._detachSourceEvents(this.media),v.clearAllTimers(this),this.emit(Ve),bt.destroy(this),H(this),P(T(n.prototype),"destroy",this).call(this),this.fullscreen&&this._fullscreenEl===this.root&&this.exitFullscreen(),t)for(var u=t.children,h=0;h<u.length;h++)t.removeChild(u[h]);!t&&i instanceof window.Node&&r.contains(i)&&r.removeChild(i),["topBar","leftBar","rightBar","innerContainer"].map(function(k){e[k]&&r.removeChild(e[k]),e[k]=null});var y=r.className.split(" ");y.length>0?r.className=y.filter(function(k){return k.indexOf("xgplayer")<0}).join(" "):r.className="",this.removeAttribute("data-xgfill"),["isSeeking","isCanplay","isActive","cssfullscreen","fullscreen"].forEach(function(k){e[k]=!1})}}},{key:"replay",value:function(){var e=this;this.removeClass(ye.ENDED),this.currentTime=0,this.isSeeking=!1,ne(this,"replay",function(){e.once(pe,function(){var t=e.mediaPlay();t&&t.catch&&t.catch(function(r){console.log(r)})}),e.play(),e.emit(Se),e.onPlay()})}},{key:"retry",value:function(){var e=this;this.removeClass(ye.ERROR),this.addClass(ye.LOADING),ne(this,"retry",function(){var t=e.currentTime,r=e.config.url,i=v.isMSE(e.media)?{url:r}:e.preProcessUrl(r);e.src=i.url,!e.config.isLive&&(e.currentTime=t),e.once(Ae,function(){e.mediaPlay()})})}},{key:"changeFullStyle",value:function(e,t,r,i){e&&(i||(i=ye.PARENT_FULLSCREEN),this._orgCss||(this._orgCss=v.filterStyleFromText(e)),v.addClass(e,r),t&&t!==e&&!this._orgPCss&&(this._orgPCss=v.filterStyleFromText(t),v.addClass(t,i),t.setAttribute(Dt,this.playerId)))}},{key:"recoverFullStyle",value:function(e,t,r,i){i||(i=ye.PARENT_FULLSCREEN),this._orgCss&&(v.setStyleFromCsstext(e,this._orgCss),this._orgCss=""),v.removeClass(e,r),t&&t!==e&&this._orgPCss&&(v.setStyleFromCsstext(t,this._orgPCss),this._orgPCss="",v.removeClass(t,i),t.removeAttribute(Dt))}},{key:"getFullscreen",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.config.fullscreenTarget,t=this.root,r=this.media;e||(e=t),this._fullScreenOffset={top:v.scrollTop(),left:v.scrollLeft()},this._fullscreenEl=e,this._fullActionFrom="get";var i=v.getFullScreenEl();if(i===this._fullscreenEl)return this.onFullscreenChange(),Promise.resolve();try{for(var u=0;u<Ht.length;u++){var h=Ht[u];if(e[h]){var y=h==="webkitRequestFullscreen"?e.webkitRequestFullscreen(window.Element.ALLOW_KEYBOARD_INPUT):e[h]();return y&&y.then?y:Promise.resolve()}}return r.fullscreenEnabled||r.webkitSupportsFullscreen?(r.webkitEnterFullscreen(),Promise.resolve()):Promise.reject(new Error("call getFullscreen fail"))}catch(k){return Promise.reject(new Error("call getFullscreen fail"))}}},{key:"exitFullscreen",value:function(e){if(this.isRotateFullscreen&&this.exitRotateFullscreen(),this._fullscreenEl||v.getFullScreenEl()){this.root;var t=this.media;this._fullActionFrom="exit";try{for(var r=0;r<Mr.length;r++){var i=Mr[r];if(document[i]){var u=document[i]();return u&&u.then?u:Promise.resolve()}}return t&&t.webkitSupportsFullscreen?(t.webkitExitFullScreen(),Promise.resolve()):Promise.reject(new Error("call exitFullscreen fail"))}catch(h){return Promise.reject(new Error("call exitFullscreen fail"))}}}},{key:"getCssFullscreen",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.config.fullscreenTarget;this.isRotateFullscreen?this.exitRotateFullscreen():this.fullscreen&&this.exitFullscreen();var t=e?"".concat(ye.INNER_FULLSCREEN," ").concat(ye.CSS_FULLSCREEN):ye.CSS_FULLSCREEN;this.changeFullStyle(this.root,e,t);var r=this.config.fullscreen,i=r===void 0?{}:r,u=i.useCssFullscreen===!0||typeof i.useCssFullscreen=="function"&&i.useCssFullscreen();u&&(this.fullscreen=!0,this.emit(Pe,!0)),this._cssfullscreenEl=e,this.cssfullscreen=!0,this.emit(Oe,!0)}},{key:"exitCssFullscreen",value:function(){var e=this._cssfullscreenEl?"".concat(ye.INNER_FULLSCREEN," ").concat(ye.CSS_FULLSCREEN):ye.CSS_FULLSCREEN;if(this.fullscreen){var t=this.config.fullscreen,r=t===void 0?{}:t;r.useCssFullscreen===!0||typeof r.useCssFullscreen=="function"&&r.useCssFullscreen()?(this.recoverFullStyle(this.root,this._cssfullscreenEl,e),this.fullscreen=!1,this.emit(Pe,!1)):this.removeClass(e)}else this.recoverFullStyle(this.root,this._cssfullscreenEl,e);this._cssfullscreenEl=null,this.cssfullscreen=!1,this.emit(Oe,!1)}},{key:"getRotateFullscreen",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.config.fullscreenTarget;this.cssfullscreen&&this.exitCssFullscreen(e);var t=e?"".concat(ye.INNER_FULLSCREEN," ").concat(ye.ROTATE_FULLSCREEN):ye.ROTATE_FULLSCREEN;this._fullscreenEl=e||this.root,this.changeFullStyle(this.root,e,t,ye.PARENT_ROTATE_FULLSCREEN),this.isRotateFullscreen=!0,this.fullscreen=!0,this.setRotateDeg(90),this._rootStyle=this.root.getAttribute("style"),this.root.style.width="".concat(window.innerHeight,"px"),this.emit(Pe,!0)}},{key:"exitRotateFullscreen",value:function(e){var t=this._fullscreenEl!==this.root?"".concat(ye.INNER_FULLSCREEN," ").concat(ye.ROTATE_FULLSCREEN):ye.ROTATE_FULLSCREEN;this.recoverFullStyle(this.root,this._fullscreenEl,t,ye.PARENT_ROTATE_FULLSCREEN),this.isRotateFullscreen=!1,this.fullscreen=!1,this.setRotateDeg(0),this.emit(Pe,!1),this._rootStyle&&(this.root.style.style=this._rootStyle,this._rootStyle=!1)}},{key:"setRotateDeg",value:function(e){window.orientation===90||window.orientation===-90?this.rotateDeg=0:this.rotateDeg=e}},{key:"focus",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{autoHide:!this.config.closeDelayBlur,delay:this.config.inactive};this.isActive?this.onFocus(e):this.emit(Le,f({paused:this.paused,ended:this.ended},e))}},{key:"blur",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{ignorePaused:!1};this.isActive?this.emit(Ne,f({paused:this.paused,ended:this.ended},e)):this.onBlur(e)}},{key:"onFocus",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{autoHide:!0,delay:3e3},r=this.innerStates;if(this.isActive=!0,this.removeClass(ye.INACTIVE),this.userTimer&&(v.clearTimeout(this,this.userTimer),this.userTimer=null),t.isLock!==void 0&&(r.isActiveLocked=t.isLock),t.autoHide===!1||t.isLock===!0||r.isActiveLocked)this.userTimer&&(v.clearTimeout(this,this.userTimer),this.userTimer=null);else{var i=t&&t.delay?t.delay:this.config.inactive;this.userTimer=v.setTimeout(this,function(){e.userTimer=null,e.blur()},i)}}},{key:"onBlur",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.ignorePaused,r=t!==void 0&&t;if(this.isActive&&!this.innerStates.isActiveLocked){var i=this.config.closePauseVideoFocus;this.isActive=!1,(r||i||!this.paused&&!this.ended)&&this.addClass(ye.INACTIVE)}}},{key:"onEmptied",value:function(){this.updateAcc("emptied")}},{key:"onCanplay",value:function(){this.removeClass(ye.ENTER),this.removeClass(ye.ERROR),this.removeClass(ye.LOADING),this.isCanplay=!0,this.waitTimer&&v.clearTimeout(this,this.waitTimer)}},{key:"onLoadeddata",value:function(){this.isError=!1,this.isSeeking=!1}},{key:"onLoadstart",value:function(){this.removeClass(ye.ERROR),this.isCanplay=!1}},{key:"onPlay",value:function(){this.state===Vn&&this.setState(Ot),this.removeClass(ye.PAUSED),this.ended&&this.removeClass(ye.ENDED),!this.config.closePlayVideoFocus&&this.focus()}},{key:"onPause",value:function(){this.addClass(ye.PAUSED),this.updateAcc("pause"),this.config.closePauseVideoFocus||(this.userTimer&&(v.clearTimeout(this,this.userTimer),this.userTimer=null),this.focus())}},{key:"onEnded",value:function(){this.updateAcc("ended"),this.addClass(ye.ENDED),this.setState(Vn)}},{key:"onError",value:function(){this.isError=!0,this.updateAcc("error"),this.removeClass(ye.NOT_ALLOW_AUTOPLAY),this.removeClass(ye.NO_START),this.removeClass(ye.ENTER),this.removeClass(ye.LOADING),this.addClass(ye.ERROR)}},{key:"onSeeking",value:function(){this.isSeeking||this.updateAcc("seeking"),this.isSeeking=!0,this.addClass(ye.SEEKING)}},{key:"onSeeked",value:function(){this.isSeeking=!1,this.waitTimer&&v.clearTimeout(this,this.waitTimer),this.removeClass(ye.LOADING),this.removeClass(ye.SEEKING)}},{key:"onWaiting",value:function(){var e=this;this.waitTimer&&v.clearTimeout(this,this.waitTimer),this.updateAcc("waiting"),this.waitTimer=v.setTimeout(this,function(){e.addClass(ye.LOADING),v.clearTimeout(e,e.waitTimer),e.waitTimer=null},this.config.minWaitDelay)}},{key:"onPlaying",value:function(){var e=this;this.isError=!1,[ye.NO_START,ye.PAUSED,ye.ENDED,ye.ERROR,ye.REPLAY,ye.LOADING].forEach(function(t){e.removeClass(t)})}},{key:"onTimeupdate",value:function(){!this._videoHeight&&this.media.videoHeight&&this.resize(),(this.waitTimer||this.hasClass(ye.LOADING))&&this.media.readyState>2&&(this.removeClass(ye.LOADING),v.clearTimeout(this,this.waitTimer),this.waitTimer=null),!this.paused&&this.state<Ot&&this.duration&&(this.setState(Ot),this.emit(re)),this._accPlayed.t||this.paused||this.ended||(this._accPlayed.t=new Date().getTime())}},{key:"onVolumechange",value:function(){v.typeOf(this.config.volume)==="Number"&&(this.config.volume=this.volume)}},{key:"onRatechange",value:function(){this.config.defaultPlaybackRate=this.playbackRate}},{key:"emitUserAction",value:function(e,t,r){if(this.media&&t&&e){var i=v.typeOf(e)==="String"?e:e.type||"";r.props&&v.typeOf(r.props)!=="Array"&&(r.props=[r.props]),this.emit(kt,f({eventType:i,action:t,currentTime:this.currentTime,duration:this.duration,ended:this.ended,event:e},r))}}},{key:"updateAcc",value:function(e){if(this._accPlayed.t){var t=new Date().getTime()-this._accPlayed.t;this._accPlayed.acc+=t,this._accPlayed.t=0,(e==="ended"||this.ended)&&(this._accPlayed.loopAcc=this._accPlayed.acc)}}},{key:"checkBuffer",value:function(e){var t=this.media.buffered;if(!t||t.length===0||!this.duration)return!0;for(var r=e||this.media.currentTime||.2,i=t.length,u=0;u<i;u++)if(t.start(u)<=r&&t.end(u)>r)return!0;return!1}},{key:"resizePosition",value:function(){var e=this.videoPos,t=e.rotate,r=e.vy,i=e.vx,u=e.h,h=e.w;if(!(t<0)||r||i){var y=this.videoPos._pi;if(!y&&this.media.videoHeight&&(y=this.media.videoWidth/this.media.videoHeight*100),y){this.videoPos.pi=y;var k={rotate:t},R=0,G=0,X=1,J=Math.abs(t/90),oe=this.root,ve=this.innerContainer,fe=oe.offsetWidth,Ce=ve?ve.offsetHeight:oe.offsetHeight,Be=Ce,Ze=fe;if(J%2==0)X=u>0?100/u:h>0?100/h:1,k.scale=X,R=r>0?(100-u)/2-r:0,k.y=J===2?0-R:R,G=i>0?(100-h)/2-i:0,k.x=J===2?0-G:G,this.media.style.width="".concat(Ze,"px"),this.media.style.height="".concat(Be,"px");else if(J%2==1){Be=fe;var xe=Ce-fe;G=-xe/2/(Ze=Ce)*100,k.x=J===3?G+r/2:G-r/2,R=xe/2/Be*100,k.y=J===3?R+i/2:R-i/2,k.scale=X,this.media.style.width="".concat(Ze,"px"),this.media.style.height="".concat(Be,"px")}var dt=v.getTransformStyle(k,this.media.style.transform||this.media.style.webkitTransform);this.media.style.transform=dt,this.media.style.webkitTransform=dt}}}},{key:"position",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{h:0,y:0,x:0,w:0};if(this.media&&e&&e.h){var t=this.videoPos;t.h=100*e.h||0,t.w=100*e.w||0,t.vx=100*e.x||0,t.vy=100*e.y||0,this.resizePosition()}}},{key:"setConfig",value:function(e){var t=this;e&&Object.keys(e).map(function(r){if(r!=="plugins"){t.config[r]=e[r];var i=t.plugins[r.toLowerCase()];i&&v.typeOf(i.setConfig)==="Function"&&i.setConfig(e[r])}})}},{key:"playNext",value:function(e){var t=this;this.resetState(),this.setConfig(e),this._currentTime=0,this._duration=0,ne(this,"playnext",function(){t.start(),t.emit(st,e)})}},{key:"resize",value:function(){var e=this;if(this.media){var t=this.root.getBoundingClientRect();this.sizeInfo.width=t.width,this.sizeInfo.height=t.height,this.sizeInfo.left=t.left,this.sizeInfo.top=t.top;var r=this.media,i=r.videoWidth,u=r.videoHeight,h=this.config,y=h.fitVideoSize,k=h.videoFillMode;if(k!=="fill"&&k!=="cover"&&k!=="contain"||this.setAttribute("data-xgfill",k),u&&i){this._videoHeight=u,this._videoWidth=i;var R=this.controls&&this.innerContainer?this.controls.root.getBoundingClientRect().height:0,G=t.width,X=t.height-R,J=parseInt(i/u*1e3,10),oe=parseInt(G/X*1e3,10),ve=G,fe=X,Ce={};y==="auto"&&oe>J||y==="fixWidth"?(fe=G/J*1e3,this.config.fluid?Ce.paddingTop="".concat(100*fe/ve,"%"):Ce.height="".concat(fe+R,"px")):(y==="auto"&&oe<J||y==="fixHeight")&&(ve=J*X/1e3,Ce.width="".concat(ve,"px")),this.fullscreen||this.cssfullscreen||Object.keys(Ce).forEach(function(Ze){e.root.style[Ze]=Ce[Ze]}),(k==="fillHeight"&&oe<J||k==="fillWidth"&&oe>J)&&this.setAttribute("data-xgfill","cover");var Be={videoScale:J,vWidth:ve,vHeight:fe,cWidth:ve,cHeight:fe+R};this.resizePosition(),this.emit(ge,Be)}}}},{key:"updateObjectPosition",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.media.updateObjectPosition?this.media.updateObjectPosition(e,t):this.media.style.objectPosition="".concat(100*e,"% ").concat(100*t,"%")}},{key:"setState",value:function(e){j.logInfo("setState","state from:".concat(yu[this.state]," to:").concat(yu[e])),this._state=e}},{key:"preProcessUrl",value:function(e,t){var r=this.config.preProcessUrl;return!v.isBlob(e)&&r&&typeof r=="function"?r(e,t):{url:e}}},{key:"state",get:function(){return this._state}},{key:"isFullscreen",get:function(){return this.fullscreen}},{key:"isCssfullScreen",get:function(){return this.cssfullscreen}},{key:"hasStart",get:function(){return this._hasStart},set:function(e){typeof e=="boolean"&&(this._hasStart=e,e===!1&&this.setState(Gn),this.emit("hasstart"))}},{key:"isPlaying",get:function(){return this._state===Ot||this._state===Vn},set:function(e){e?this.setState(Ot):this._state>=Ot&&this.setState(Nr)}},{key:"definitionList",get:function(){return this.config&&this.config.definition&&this.config.definition.list||[]},set:function(e){var t=this,r=this.config.definition,i=null,u=null;r.list=e,this.emit("resourceReady",e),e.forEach(function(h){var y;((y=t.curDefinition)===null||y===void 0?void 0:y.definition)===h.definition&&(i=h),r.defaultDefinition===h.definition&&(u=h)}),!u&&e.length>0&&(u=e[0]),i?this.changeDefinition(i):u&&this.changeDefinition(u)}},{key:"videoFrameInfo",get:function(){var e={total:0,dropped:0,corrupted:0,droppedRate:0,droppedDuration:0};if(!this.media||!this.media.getVideoPlaybackQuality)return e;var t=this.media.getVideoPlaybackQuality();return e.dropped=t.droppedVideoFrames||0,e.total=t.totalVideoFrames||0,e.corrupted=t.corruptedVideoFrames||0,e.total>0&&(e.droppedRate=e.dropped/e.total*100,e.droppedDuration=parseInt(this.cumulateTime/e.total*e.dropped,0)),e}},{key:"lang",get:function(){return this.config.lang},set:function(e){Fr.langKeys.filter(function(t){return t===e}).length!==0||e==="zh"?(this.config.lang=e,bt.setLang(e,this)):console.error("Sorry, set lang fail, because the language [".concat(e,"] is not supported now, list of all supported languages is [").concat(Fr.langKeys.join(),"] "))}},{key:"i18n",get:function(){var e=this.config.lang;return e==="zh"&&(e="zh-cn"),this.__i18n.lang[e]||this.__i18n.lang.en}},{key:"i18nKeys",get:function(){return this.__i18n.textKeys||{}}},{key:"version",get:function(){return Y}},{key:"playerId",get:function(){return this._pluginInfoId}},{key:"url",get:function(){return this.__url||this.config.url},set:function(e){this.__url=e}},{key:"poster",get:function(){return this.plugins.poster?this.plugins.poster.config.poster:this.config.poster},set:function(e){this.plugins.poster&&this.plugins.poster.update(e)}},{key:"readyState",get:function(){return P(T(n.prototype),"readyState",this)}},{key:"error",get:function(){var e=P(T(n.prototype),"error",this);return this.i18n[e]||e}},{key:"networkState",get:function(){return P(T(n.prototype),"networkState",this)}},{key:"fullscreenChanging",get:function(){return this._fullScreenOffset!==null}},{key:"cumulateTime",get:function(){var e=this._accPlayed,t=e.acc,r=e.t;return r?new Date().getTime()-r+t:t}},{key:"zoom",get:function(){return this.config.zoom},set:function(e){this.config.zoom=e}},{key:"videoRotateDeg",get:function(){return this.videoPos.rotate},set:function(e){(e=v.convertDeg(e))%90==0&&e!==this.videoPos.rotate&&(this.videoPos.rotate=e,this.resizePosition())}},{key:"avgSpeed",get:function(){return bu},set:function(e){bu=e}},{key:"realTimeSpeed",get:function(){return _u},set:function(e){_u=e}},{key:"offsetCurrentTime",get:function(){return this._offsetInfo.currentTime||0},set:function(e){this._offsetInfo.currentTime=e}},{key:"offsetDuration",get:function(){return this._offsetInfo.duration||0},set:function(e){this._offsetInfo.duration=e||0}},{key:"hook",value:function(e,t){return wt.call.apply(wt,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"useHooks",value:function(e,t){return gr.call.apply(gr,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"removeHooks",value:function(e,t){return yr.call.apply(yr,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"usePluginHooks",value:function(e,t,r){for(var i=arguments.length,u=new Array(i>3?i-3:0),h=3;h<i;h++)u[h-3]=arguments[h];return $.call.apply($,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"removePluginHooks",value:function(e,t,r){for(var i=arguments.length,u=new Array(i>3?i-3:0),h=3;h<i;h++)u[h-3]=arguments[h];return ue.call.apply(ue,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"setUserActive",value:function(e,t){typeof t=="boolean"&&t!==this.muted&&(this.addInnerOP("volumechange"),this.muted=t),bt.setCurrentUserActive(this.playerId,e)}}],[{key:"debugger",get:function(){return j.config.debug},set:function(e){j.config.debug=e}},{key:"getCurrentUserActivePlayerId",value:function(){return bt.getCurrentUseActiveId()}},{key:"setCurrentUserActive",value:function(e,t){bt.setCurrentUserActive(e,t)}},{key:"isHevcSupported",value:function(){return D.isHevcSupported()}},{key:"probeConfigSupported",value:function(e){return D.probeConfigSupported(e)}},{key:"install",value:function(e,t){n.plugins||(n.plugins={}),n.plugins[e]||(n.plugins[e]=t)}},{key:"use",value:function(e,t){n.plugins||(n.plugins={}),n.plugins[e]=t}}]),n}(jt);g(Wn,"defaultPreset",null),g(Wn,"XgVideoProxy",null);function Pt(){return new Date().getTime()}var Pg="loadstart",Lg="loadeddata",Dg="firstFrame",Su="waitingStart",Mg="waitingEnd",Ng="seekStart",Fg="seekEnd",qg=function(o){S(n,o);var a=E(n);function n(){var e;d(this,n);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return g(b(e=a.call.apply(a,[this].concat(r))),"_onTimeupdate",function(){e._state.isTimeUpdate=!0,e._state.autoplayStart&&(j.logInfo("[xgLogger]".concat(e.player.playerId," _onTimeupdate")),e._sendFF("onTimeupdate"))}),g(b(e),"_onAutoplayStart",function(){j.logInfo("[xgLogger]".concat(e.player.playerId," _onAutoplayStart")),e._state.autoplayStart=!0,e.vt&&e._sendFF("onAutoplayStart")}),g(b(e),"_onReset",function(){e._state={autoplayStart:!1,isFFLoading:!1,isTimeUpdate:!1,isFFSend:!1,isLs:!1},e.vt=0,e.pt=0,e.fvt=0,e.newPointTime=Pt(),e.loadedCostTime=0,e.startCostTime=0,e._isSeeking=!1,e.seekingStart=0,e.waitingStart=0,e.fixedWaitingStart=0,e._isWaiting=!1,e._waitTimer&&v.clearTimeout(b(e),e._waitTimer),e._waittTimer&&v.clearTimeout(b(e),e._waittTimer),e._waitTimer=null,e._waittTimer=null,e._waitType=0}),g(b(e),"_onSeeking",function(){e.seekingStart||(e.suspendWaitingStatus("seek"),e.seekingStart=Pt(),e.emitLog(Ng,{start:Pt()}))}),g(b(e),"_onSeeked",function(){e.suspendSeekingStatus("seeked")}),g(b(e),"_onWaitingLoadStart",function(){e._isWaiting||e.vt||(e._isWaiting=!0,e.waitingStart=Pt(),e.fixedWaitingStart=Pt(),e._waitType=1,e.emitLog(Su,{fixedStart:e.fixedWaitingStart,start:e.waitingStart,type:1,endType:"loadstart"}))}),g(b(e),"_onWaiting",function(){!e._isWaiting&&e.vt&&(e._isWaiting=!0,e.vt?e.seekingStart?e._waitType=2:e._waitType=0:e._waitType=1,e.fixedWaitingStart=Pt(),e._waitTimer=v.setTimeout(b(e),function(){e._isWaiting&&(e.waitingStart=Pt(),v.clearTimeout(b(e),e._waitTimer),e._waitTimer=null,e._startWaitTimeout(),e.emitLog(Su,{fixedStart:e.fixedWaitingStart,start:e.waitingStart,type:e._waitType,endType:e._waitType===2?"seek":"playing"}))},200))}),g(b(e),"_onError",function(){e.suspendSeekingStatus("error"),e.suspendWaitingStatus("error")}),g(b(e),"_onPlaying",function(){e._isWaiting&&e.suspendWaitingStatus("playing")}),e}return _(n,[{key:"afterCreate",value:function(){var e=this;this._onReset(),this._waitType="firstFrame",this._initOnceEvents(),this.newPointTime=Pt(),this.loadedCostTime=0,this.startCostTime=0,this.on(ft,function(){var t=e._state,r=t.autoplayStart,i=t.isFFSend;e.startCostTime=Pt()-e.newPointTime,j.logInfo("[xgLogger]".concat(e.player.playerId," LOAD_START"),"autoplayStart:".concat(r," isFFSend:").concat(i," startCostTime:").concat(e.startCostTime," newPointTime").concat(e.newPointTime)),i||(!t.isLs&&e.emitLog(Pg,{}),t.isLs=!0,t.isTimeUpdate=!1,t.isFFLoading=!0,e.pt=Pt(),e.vt=0,e.fvt=0,e._initOnceEvents(),e._onWaitingLoadStart())}),this.on(He,function(){e.vt=Pt(),e.fvt=e.vt-e.pt,e.loadedCostTime=e.vt-e.newPointTime;var t=e._state,r=t.isTimeUpdate,i=t.isFFSend,u=t.autoplayStart;j.logInfo("[xgLogger]".concat(e.player.playerId," LOADED_DATA"),"fvt:".concat(e.fvt," isTimeUpdate:").concat(e._state.isTimeUpdate," loadedCostTime:").concat(e.loadedCostTime)),(r||u)&&e._sendFF("loadedData"),i||e.emitLog(Lg,{}),e.suspendWaitingStatus("loadeddata")}),this.on(ce,this._onSeeking),this.on(pe,this._onSeeked),this.on(Ve,function(){e.endState("destroy")}),this.on(Xe,function(){e.endState("urlChange"),j.logInfo("[xgLogger]".concat(e.player.playerId," URL_CHANGE")),e._state.isFFSend&&e._onReset()}),this.on([be,Ae],this._onPlaying),this.on(Ie,this._onWaiting),this.on(we,this._onError),this.on(qt,function(){j.logInfo("[xgLogger]".concat(e.player.playerId," RESET")),e.endState("reset"),e._initOnceEvents(),e._onReset()})}},{key:"_initOnceEvents",value:function(){this.off(re,this._onAutoplayStart),this.off(_e,this._onTimeupdate),this.once(re,this._onAutoplayStart),this.once(_e,this._onTimeupdate)}},{key:"_sendFF",value:function(e){this.s=Pt();var t=this._state,r=t.isFFLoading,i=t.isFFSend;j.logInfo("[xgLogger]".concat(this.player.playerId," _sendFF"),"".concat(e," fvt:").concat(this.fvt," isFFLoading:").concat(r," !isFFSend:").concat(!i)),this.vt>0&&r&&!i&&(j.logInfo("[xgLogger]".concat(this.player.playerId," emitLog_firstFrame"),e),this._state.isFFLoading=!1,this._state.isFFSend=!0,this.emitLog(Dg,{fvt:this.fvt,costTime:this.fvt,vt:this.vt,startCostTime:this.startCostTime,loadedCostTime:this.loadedCostTime}))}},{key:"_startWaitTimeout",value:function(){var e=this;this._waittTimer&&v.clearTimeout(this,this._waittTimer),this._waittTimer=v.setTimeout(this,function(){e.suspendWaitingStatus("timeout"),v.clearTimeout(e,e._waittTimer),e._waittTimer=null},this.config.waitTimeout)}},{key:"endState",value:function(e){this.suspendWaitingStatus(e),this.suspendSeekingStatus(e)}},{key:"suspendSeekingStatus",value:function(e){if(this.seekingStart){var t=Pt(),r=t-this.seekingStart;this.seekingStart=0,this.emitLog(Fg,{end:t,costTime:r,endType:e})}}},{key:"suspendWaitingStatus",value:function(e){if(this._waitTimer&&(v.clearTimeout(this,this._waitTimer),this._waitTimer=null),this._waittTimer&&(v.clearTimeout(this,this._waittTimer),this._waittTimer=null),this._isWaiting=!1,this.waitingStart){var t=Pt(),r=t-this.waitingStart,i=t-this.fixedWaitingStart,u=this.config.waitTimeout;this._isWaiting=!1,this.waitingStart=0,this.fixedWaitingStart=0,this.emitLog(Mg,{fixedCostTime:i>u?u:i,costTime:r>u?u:r,type:e==="loadeddata"?1:this._waitType,endType:this._waitType===2?"seek":e})}}},{key:"emitLog",value:function(e,t){var r=this.player;this.emit(ht,f({t:Pt(),host:v.getHostFromUrl(r.currentSrc),vtype:r.vtype,eventType:e,currentTime:this.player.currentTime,readyState:r.video.readyState,networkState:r.video.networkState},t))}}],[{key:"pluginName",get:function(){return"xgLogger"}},{key:"defaultConfig",get:function(){return{waitTimeout:1e4}}}]),n}(tt);function Bg(){return new DOMParser().parseFromString('<svg class="xgplayer-replay-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 78 78" width="78" height="78">\n  <path fill="#fff" transform="translate(20, 20)" d="M8.22708362,13.8757234 L11.2677371,12.6472196 C11.7798067,12.4403301 12.3626381,12.6877273 12.5695276,13.1997969 L12.9441342,14.1269807 C13.1510237,14.6390502 12.9036264,15.2218816 12.3915569,15.4287712 L6.8284538,17.6764107 L5.90126995,18.0510173 C5.38920044,18.2579068 4.80636901,18.0105096 4.5994795,17.49844 L1.97723335,11.0081531 C1.77034384,10.4960836 2.0177411,9.91325213 2.52981061,9.70636262 L3.45699446,9.33175602 C3.96906396,9.12486652 4.5518954,9.37226378 4.75878491,9.88433329 L5.67885163,12.1615783 C7.99551726,6.6766934 13.3983951,3 19.5,3 C27.7842712,3 34.5,9.71572875 34.5,18 C34.5,26.2842712 27.7842712,33 19.5,33 C15.4573596,33 11.6658607,31.3912946 8.87004692,28.5831991 C8.28554571,27.9961303 8.28762719,27.0463851 8.87469603,26.4618839 C9.46176488,25.8773827 10.4115101,25.8794641 10.9960113,26.466533 C13.2344327,28.7147875 16.263503,30 19.5,30 C26.127417,30 31.5,24.627417 31.5,18 C31.5,11.372583 26.127417,6 19.5,6 C14.4183772,6 9.94214483,9.18783811 8.22708362,13.8757234 Z"></path>\n</svg>\n',"image/svg+xml").firstChild}var Ug=function(o){S(n,o);var a=E(n);function n(){return d(this,n),a.apply(this,arguments)}return _(n,[{key:"registerIcons",value:function(){return{replay:Bg}}},{key:"afterCreate",value:function(){var e=this;tt.insert(this.icons.replay,this.root,0),this.__handleReplay=this.hook("replayClick",function(){e.player.replay()},{pre:function(t){t.preventDefault(),t.stopPropagation()}}),this.bind(".xgplayer-replay",["click","touchend"],this.__handleReplay),this.on(ke,function(){if(e.playerConfig.loop||v.addClass(e.player.root,"replay"),!e.config.disable){e.show();var t=e.root.querySelector("path");if(t){var r=window.getComputedStyle(t).getPropertyValue("transform");if(typeof r=="string"&&r.indexOf("none")>-1)return null;t.setAttribute("transform",r)}}}),this.on(de,function(){e.hide()})}},{key:"handleReplay",value:function(e){e.preventDefault(),e.stopPropagation(),this.player.replay(),v.removeClass(this.player.root,"replay")}},{key:"show",value:function(){this.config.disable||(this.root.style.display="flex")}},{key:"enable",value:function(){this.config.disable=!1}},{key:"disable",value:function(){this.config.disable=!0,this.hide()}},{key:"destroy",value:function(){this.unbind(".xgplayer-replay",["click","touchend"],this.__handleReplay)}},{key:"render",value:function(){return'<xg-replay class="xgplayer-replay">\n      <xg-replay-txt class="xgplayer-replay-txt" lang-key="'.concat(this.i18nKeys.REPLAY,'">').concat(this.i18n.REPLAY,"</xg-replay-txt>\n    </xg-replay>")}}],[{key:"pluginName",get:function(){return"replay"}},{key:"defaultConfig",get:function(){return{disable:!1}}}]),n}(tt),jg=function(o){S(n,o);var a=E(n);function n(){return d(this,n),a.apply(this,arguments)}return _(n,[{key:"isEndedShow",get:function(){return this.config.isEndedShow},set:function(e){this.config.isEndedShow=e}},{key:"hide",value:function(){v.addClass(this.root,"hide")}},{key:"show",value:function(){v.removeClass(this.root,"hide")}},{key:"beforeCreate",value:function(e){typeof e.player.config.poster=="string"&&(e.config.poster=e.player.config.poster)}},{key:"afterCreate",value:function(){var e=this;this.on(ke,function(){e.isEndedShow&&v.removeClass(e.root,"hide")}),this.config.hideCanplay?(this.once(_e,function(){e.onTimeUpdate()}),this.on(Xe,function(){v.removeClass(e.root,"hide"),v.addClass(e.root,"xg-showplay"),e.once(_e,function(){e.onTimeUpdate()})})):this.on(de,function(){v.addClass(e.root,"hide")})}},{key:"onTimeUpdate",value:function(){var e=this;this.player.currentTime?v.removeClass(this.root,"xg-showplay"):this.once(_e,function(){e.onTimeUpdate()})}},{key:"update",value:function(e){e&&(this.config.poster=e,this.root.style.backgroundImage="url(".concat(e,")"))}},{key:"render",value:function(){var e=this.config,t=e.poster,r=e.hideCanplay,i=t?"background-image:url(".concat(t,");"):"";return'<xg-poster class="xgplayer-poster '.concat(r?"xg-showplay":"",'" style="').concat(i,'">\n    </xg-poster>')}}],[{key:"pluginName",get:function(){return"poster"}},{key:"defaultConfig",get:function(){return{isEndedShow:!0,hideCanplay:!1,poster:""}}}]),n}(tt);function Kn(){return new DOMParser().parseFromString('<svg class="play" xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="3 -4 28 40">\n  <path fill="#fff" transform="scale(0.0320625 0.0320625)" d="M576,363L810,512L576,661zM342,214L576,363L576,661L342,810z"></path>\n</svg>\n',"image/svg+xml").firstChild}function Yn(){return new DOMParser().parseFromString('<svg class="pause" xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="3 -4 28 40">\n  <path fill="#fff" transform="scale(0.0320625 0.0320625)" d="M598,214h170v596h-170v-596zM256 810v-596h170v596h-170z"></path>\n</svg>\n',"image/svg+xml").firstChild}var Yt={};function Tu(o){o?window.clearTimeout(o):Object.keys(Yt).map(function(a){window.clearTimeout(Yt[a].id),delete Yt[a]})}var Hg=function(o){S(n,o);var a=E(n);function n(e){var t;return d(this,n),g(b(t=a.call(this,e)),"onPlayerReset",function(){t.autoPlayStart=!1;var r=t.config.mode==="auto"?"auto-hide":"hide";t.setAttr("data-state","play"),v.removeClass(t.root,r),t.show()}),g(b(t),"onAutoplayStart",function(){if(!t.autoPlayStart){var r=t.config.mode==="auto"?"auto-hide":"hide";v.addClass(t.root,r),t.autoPlayStart=!0,t.onPlayPause("play")}}),t.autoPlayStart=!1,t}return _(n,[{key:"afterCreate",value:function(){var e=this,t=this.player,r=this.playerConfig;this.initIcons(),this.once(Ue,function(){r&&(r.lang&&r.lang==="en"?v.addClass(t.root,"lang-is-en"):r.lang==="jp"&&v.addClass(t.root,"lang-is-jp"))}),this.on(re,this.onAutoplayStart),r.autoplay||this.show(),this.on(me,function(){var i=e.config.mode==="auto"?"auto-hide":"hide";e.setAttr("data-state","play"),v.removeClass(e.root,i),e.show()}),this.on(de,function(){e.onPlayPause("play")}),this.on(Re,function(){e.onPlayPause("pause")}),this.on(qt,function(){e.onPlayerReset()}),this.clickHandler=this.hook("startClick",this.switchPausePlay,{pre:function(i){i.cancelable&&i.preventDefault(),i.stopPropagation();var u=e.player.paused;e.emitUserAction(i,"switch_play_pause",{props:"paused",from:u,to:!u})}}),this.bind(["click","touchend"],this.clickHandler)}},{key:"registerIcons",value:function(){return{startPlay:{icon:Kn,class:"xg-icon-play"},startPause:{icon:Yn,class:"xg-icon-pause"}}}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild("xg-start-inner",e.startPlay),this.appendChild("xg-start-inner",e.startPause)}},{key:"hide",value:function(){v.addClass(this.root,"hide")}},{key:"show",value:function(){v.removeClass(this.root,"hide")}},{key:"focusHide",value:function(){v.addClass(this.root,"focus-hide")}},{key:"recover",value:function(){v.removeClass(this.root,"focus-hide")}},{key:"switchStatus",value:function(e){e?this.setAttr("data-state",this.player.paused?"pause":"play"):this.setAttr("data-state",this.player.paused?"play":"pause")}},{key:"animate",value:function(e){var t=this;this._animateId=function(r,i){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{start:null,end:null};return Yt[r]&&window.clearTimeout(Yt[r].id),Yt[r]={},u.start&&u.start(),Yt[r].id=window.setTimeout(function(){u.end&&u.end(),window.clearTimeout(Yt[r].id),delete Yt[r]},i),Yt[r].id}("pauseplay",400,{start:function(){v.addClass(t.root,"interact"),t.show(),t.switchStatus(!0)},end:function(){v.removeClass(t.root,"interact"),!e&&t.hide(),t._animateId=null}})}},{key:"endAnimate",value:function(){v.removeClass(this.root,"interact"),Tu(this._animateId),this._animateId=null}},{key:"switchPausePlay",value:function(e){var t=this.player;e.cancelable&&e.preventDefault(),e.stopPropagation(),t.state<Gn||(this.player.paused||t.state!==Ot?t.play():t.pause())}},{key:"onPlayPause",value:function(e){var t=this.config,r=this.player;if(r&&!(r.state<Ot)&&this.autoPlayStart){if(t.mode==="show")return this.switchStatus(),void this.show();if(t.mode!=="auto"){if(t.isShowPause&&r.paused&&!r.ended||t.isShowEnd&&r.ended)return this.switchStatus(),this.show(),void this.endAnimate();if(t.disableAnimate)return this.switchStatus(),void this.hide();if(e==="play")this.autoPlayStart?this.animate():this.hide();else{if(!this.autoPlayStart||r.ended)return;this.animate()}}else this.switchStatus()}}},{key:"destroy",value:function(){this.unbind(["click","touchend"],this.clickHandler),Tu(this._animateId)}},{key:"render",value:function(){var e=this.playerConfig.autoplay?this.config.mode==="auto"?"auto-hide":"hide":"";return'\n    <xg-start class="xgplayer-start '.concat(e,'">\n    <xg-start-inner></xg-start-inner>\n    </xg-start>')}}],[{key:"pluginName",get:function(){return"start"}},{key:"defaultConfig",get:function(){return{isShowPause:!1,isShowEnd:!1,disableAnimate:!1,mode:"hide"}}}]),n}(tt),Gg=function(o){S(n,o);var a=E(n);function n(){return d(this,n),a.apply(this,arguments)}return _(n,[{key:"render",value:function(){var e=this.config.innerHtml,t=v.createDom("xg-enter","",{},"xgplayer-enter");if(e&&e instanceof window.HTMLElement)t.appendChild(e);else if(e&&typeof e=="string")t.innerHTML=e;else{for(var r="",i=1;i<=12;i++)r+='<div class="xgplayer-enter-bar'.concat(i,'"></div>');t.innerHTML='<div class="xgplayer-enter-spinner">'.concat(r,"</div>")}return t}}],[{key:"pluginName",get:function(){return"enter"}},{key:"defaultConfig",get:function(){return{innerHtml:"",logo:""}}}]),n}(tt);function or(o,a,n){try{return' <div class="xg-tips '.concat(n?"hide":" ",'" lang-key="').concat(o.i18nKeys[a],'">\n    ').concat(o.i18n[a],"\n    </div>")}catch(e){return'<div class="xg-tips hide"></div>'}}var ku=function(o){S(n,o);var a=E(n);function n(){return d(this,n),a.apply(this,arguments)}return _(n,[{key:"afterCreate",value:function(){this.getMini=this.getMini.bind(this),this.exitMini=this.exitMini.bind(this),this.bind("click",this.getMini)}},{key:"getMini",value:function(){this.config.onClick&&this.config.onClick()}},{key:"exitMini",value:function(){this.config.onClick&&this.config.onClick()}},{key:"destroy",value:function(){this.unbind(["click","touchend"],this.getMini)}},{key:"render",value:function(){var e="MINISCREEN";return'\n      <xg-icon class="xgplayer-miniicon">\n      <div class="xgplayer-icon btn-text"><span class="icon-text" lang-key="'.concat(this.i18nKeys[e],'">').concat(this.i18n[e],"</span></div>\n      </xg-icon>")}}],[{key:"pluginName",get:function(){return"miniscreenIcon"}},{key:"defaultConfig",get:function(){return{position:Qe.CONTROLS_RIGHT,index:10}}}]),n}(tt);function Eu(o){var a=parseFloat(o);return o.indexOf("%")===-1&&!Number.isNaN(a)&&a}var zn=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],Cu=zn.length;function wu(o){if(typeof o=="string"&&(o=document.querySelector(o)),o&&p(o)==="object"&&o.nodeType){var a=function(fe){return window.getComputedStyle(fe)}(o);if(a.display==="none")return function(){for(var fe={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},Ce=0;Ce<Cu;Ce++)fe[zn[Ce]]=0;return fe}();var n={};n.width=o.offsetWidth,n.height=o.offsetHeight;for(var e=n.isBorderBox=a.boxSizing==="border-box",t=0;t<Cu;t++){var r=zn[t],i=a[r],u=parseFloat(i);n[r]=Number.isNaN(u)?0:u}var h=n.paddingLeft+n.paddingRight,y=n.paddingTop+n.paddingBottom,k=n.marginLeft+n.marginRight,R=n.marginTop+n.marginBottom,G=n.borderLeftWidth+n.borderRightWidth,X=n.borderTopWidth+n.borderBottomWidth,J=e,oe=Eu(a.width);oe!==!1&&(n.width=oe+(J?0:h+G));var ve=Eu(a.height);return ve!==!1&&(n.height=ve+(J?0:y+X)),n.innerWidth=n.width-(h+G),n.innerHeight=n.height-(y+X),n.outerWidth=n.width+k,n.outerHeight=n.height+R,n}}function Xn(o,a){for(var n=0;n<o.length;n++){var e=o[n];if(e.identifier===a)return e}}var Vg="dragStart",$g="dragMove",Wg="dragEnded",Iu={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"]},Kg=function(o){S(n,o);var a=E(n);function n(e){var t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return d(this,n),(t=a.call(this)).isEnabled=!0,t.isDragging=!1,t.isDown=!1,t.position={},t.downPoint={},t.dragPoint={x:0,y:0},t.startPos={x:0,y:0},t._root=e instanceof Element?e:document.querySelector(e),t._handlerDom=r.handle instanceof Element?r.handle:document.querySelector(r.handle),t._root&&t._handlerDom?(t._bindStartEvent(),t):I(t)}return _(n,[{key:"_bindStartEvent",value:function(){var e=this;"ontouchstart"in window?this._startKey="touchstart":this._startKey="mousedown",this["on".concat(this._startKey)]=this["on".concat(this._startKey)].bind(this),this._handlerDom.addEventListener(this._startKey,this["on".concat(this._startKey)]),Iu[this._startKey].map(function(t){e["on".concat(t)]=e["on".concat(t)].bind(e)})}},{key:"_unbindStartEvent",value:function(){this._handlerDom.removeEventListener(this._startKey,this["on".concat(this._startKey)])}},{key:"_bindPostStartEvents",value:function(e){var t=this;if(e){var r=Iu[this._startKey];r.map(function(i){window.addEventListener(i,t["on".concat(i)])}),this._boundPointerEvents=r}}},{key:"_unbindPostStartEvents",value:function(){var e=this;this._boundPointerEvents&&(this._boundPointerEvents.map(function(t){window.removeEventListener(t,e["on".concat(t)])}),delete this._boundPointerEvents)}},{key:"enable",value:function(){this.isEnabled=!0}},{key:"disable",value:function(){this.isEnabled=!1,this.isDragging&&this.onUp()}},{key:"onDocUp",value:function(e){this.onUp()}},{key:"animate",value:function(){var e=this;this.isDragging&&(this.positionDrag(),window.requestAnimationFrame(function(){e.animate()}))}},{key:"positionDrag",value:function(){var e="translate3d(".concat(this.dragPoint.x,"px, ").concat(this.dragPoint.y,"px, 0)");this._root.style.transform=e,this._root.style.webKitTransform=e}},{key:"setLeftTop",value:function(){this._root.style.left=this.position.x+"px",this._root.style.top=this.position.y+"px"}},{key:"onmousedown",value:function(e){this.dragStart(e,e)}},{key:"onmousemove",value:function(e){this.dragMove(e,e)}},{key:"onmouseup",value:function(e){this.dragEnd(e,e)}},{key:"ontouchstart",value:function(e){var t=e.changedTouches[0];this.dragStart(e,t),this.touchIdentifier=t.pointerId!==void 0?t.pointerId:t.identifier,e.preventDefault()}},{key:"ontouchmove",value:function(e){var t=Xn(e.changedTouches,this.touchIdentifier);t&&this.dragMove(e,t)}},{key:"ontouchend",value:function(e){var t=Xn(e.changedTouches,this.touchIdentifier);t&&this.dragEnd(e,t),e.preventDefault()}},{key:"ontouchcancel",value:function(e){var t=Xn(e.changedTouches,this.touchIdentifier);t&&this.dragCancel(e,t)}},{key:"dragStart",value:function(e,t){if(this._root&&!this.isDown&&this.isEnabled){this.downPoint=t,this.dragPoint.x=0,this.dragPoint.y=0,this._getPosition();var r=wu(this._root);this.startPos.x=this.position.x,this.startPos.y=this.position.y,this.startPos.maxY=window.innerHeight-r.height,this.startPos.maxX=window.innerWidth-r.width,this.setLeftTop(),this.isDown=!0,this._bindPostStartEvents(e)}}},{key:"dragRealStart",value:function(e,t){this.isDragging=!0,this.animate(),this.emit(Vg,this.startPos)}},{key:"dragEnd",value:function(e,t){this._root&&(this._unbindPostStartEvents(),this.isDragging&&(this._root.style.transform="",this.setLeftTop(),this.emit(Wg)),this.presetInfo())}},{key:"_dragPointerMove",value:function(e,t){var r={x:t.pageX-this.downPoint.pageX,y:t.pageY-this.downPoint.pageY};return!this.isDragging&&this.hasDragStarted(r)&&this.dragRealStart(e,t),r}},{key:"dragMove",value:function(e,t){if(e=e||window.event,this.isDown){var r=this.startPos,i=r.x,u=r.y,h=this._dragPointerMove(e,t),y=h.x,k=h.y;y=this.checkContain("x",y,i),k=this.checkContain("y",k,u),this.position.x=i+y,this.position.y=u+k,this.dragPoint.x=y,this.dragPoint.y=k,this.emit($g,this.position)}}},{key:"dragCancel",value:function(e,t){this.dragEnd(e,t)}},{key:"presetInfo",value:function(){this.isDragging=!1,this.startPos={x:0,y:0},this.dragPoint={x:0,y:0},this.isDown=!1}},{key:"destroy",value:function(){this._unbindStartEvent(),this._unbindPostStartEvents(),this.isDragging&&this.dragEnd(),this.removeAllListeners(),this._handlerDom=null}},{key:"hasDragStarted",value:function(e){return Math.abs(e.x)>3||Math.abs(e.y)>3}},{key:"checkContain",value:function(e,t,r){return t+r<0?0-r:e==="x"&&t+r>this.startPos.maxX?this.startPos.maxX-r:e==="y"&&t+r>this.startPos.maxY?this.startPos.maxY-r:t}},{key:"_getPosition",value:function(){var e=window.getComputedStyle(this._root),t=this._getPositionCoord(e.left,"width"),r=this._getPositionCoord(e.top,"height");this.position.x=Number.isNaN(t)?0:t,this.position.y=Number.isNaN(r)?0:r,this._addTransformPosition(e)}},{key:"_addTransformPosition",value:function(e){var t=e.transform;if(t.indexOf("matrix")===0){var r=t.split(","),i=t.indexOf("matrix3d")===0?12:4,u=parseInt(r[i],10),h=parseInt(r[i+1],10);this.position.x+=u,this.position.y+=h}}},{key:"_getPositionCoord",value:function(e,t){if(e.indexOf("%")!==-1){var r=wu(this._root.parentNode);return r?parseFloat(e)/100*r[t]:0}return parseInt(e,10)}}]),n}(N),Yg=function(o){S(n,o);var a=E(n);function n(e){var t;d(this,n),g(b(t=a.call(this,e)),"onCancelClick",function(i){t.exitMini(),t.isClose=!0}),g(b(t),"onCenterClick",function(i){var u=b(t).player;u.paused?u.play():u.pause()}),g(b(t),"onScroll",function(i){if(!(!window.scrollY&&window.scrollY!==0||Math.abs(window.scrollY-t.pos.scrollY)<50)){var u=parseInt(v.getCss(t.player.root,"height"));u+=t.config.scrollTop,t.pos.scrollY=window.scrollY,window.scrollY>u+5?!t.isMini&&!t.isClose&&t.getMini():window.scrollY<=u&&(t.isMini&&t.exitMini(),t.isClose=!1)}}),t.isMini=!1,t.isClose=!1;var r=b(t).config;return t.pos={left:r.left<0?window.innerWidth-r.width-20:r.left,top:r.top<0?window.innerHeight-r.height-20:r.top,height:t.config.height,width:t.config.width,scrollY:window.scrollY||0},t.lastStyle=null,t}return _(n,[{key:"beforeCreate",value:function(e){typeof e.player.config.mini=="boolean"&&(e.config.isShowIcon=e.player.config.mini)}},{key:"afterCreate",value:function(){var e=this;this.initIcons(),this.on(Re,function(){e.setAttr("data-state","pause")}),this.on(de,function(){e.setAttr("data-state","play")})}},{key:"onPluginsReady",value:function(){var e=this,t=this.player;if(!this.config.disable){if(this.config.isShowIcon){var r={config:{onClick:function(){e.getMini()}}};t.controls.registerPlugin(ku,r,ku.pluginName)}var i=v.checkTouchSupport()?"touchend":"click";this.bind(".mini-cancel-btn",i,this.onCancelClick),this.bind(".play-icon",i,this.onCenterClick),this.config.disableDrag||(this._draggabilly=new Kg(this.player.root,{handle:this.root})),this.config.isScrollSwitch&&window.addEventListener("scroll",this.onScroll)}}},{key:"registerIcons",value:function(){return{play:{icon:Kn,class:"xg-icon-play"},pause:{icon:Yn,class:"xg-icon-pause"}}}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild(".play-icon",e.play),this.appendChild(".play-icon",e.pause)}},{key:"getMini",value:function(){var e=this;if(!this.isMini){var t=this.player,r=this.playerConfig,i=this.config.target||this.player.root;this.lastStyle={},v.addClass(t.root,"xgplayer-mini"),["width","height","top","left"].map(function(u){e.lastStyle[u]=i.style[u],i.style[u]="".concat(e.pos[u],"px")}),r.fluid&&(i.style["padding-top"]=""),this.emit(Fe,!0),t.isMini=this.isMini=!0}}},{key:"exitMini",value:function(){var e=this;if(!this.isMini)return!1;var t=this.player,r=this.playerConfig,i=this.config.target||this.player.root;v.removeClass(t.root,"xgplayer-mini"),this.lastStyle&&Object.keys(this.lastStyle).map(function(u){i.style[u]=e.lastStyle[u]}),this.lastStyle=null,r.fluid&&(t.root.style.width="100%",t.root.style.height="0",t.root.style["padding-top"]="".concat(100*r.height/r.width,"%")),this.emit(Fe,!1),this.isMini=t.isMini=!1}},{key:"destroy",value:function(){window.removeEventListener("scroll",this.onScroll);var e=v.checkTouchSupport()?"touchend":"click";this.unbind(".mini-cancel-btn",e,this.onCancelClick),this.unbind(".play-icon",e,this.onCenterClick),this._draggabilly&&this._draggabilly.destroy(),this._draggabilly=null,this.exitMini()}},{key:"render",value:function(){if(!this.config.disable)return'\n      <xg-mini-layer class="xg-mini-layer">\n      <xg-mini-header class="xgplayer-mini-header">\n      '.concat(or(this,"MINI_DRAG",this.playerConfig.isHideTips),'\n      </xg-mini-header>\n      <div class="mini-cancel-btn">\n        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20">\n          <path fill="#fff" fill-rule="evenodd" d="M3.99 3.49a1 1 0 0 1 1.414 0L10 8.085l4.596-4.595a1 1 0 1 1 1.414 1.414L11.414 9.5l4.596 4.596a1 1 0 0 1 .084 1.32l-.084.094a1 1 0 0 1-1.414 0L10 10.914 5.404 15.51a1 1 0 0 1-1.414-1.414L8.585 9.5 3.99 4.904a1 1 0 0 1-.084-1.32z"></path>\n        </svg>\n      </div>\n      <div class="play-icon">\n      </div>\n      </xg-mini-layer>')}}],[{key:"pluginName",get:function(){return"miniscreen"}},{key:"defaultConfig",get:function(){return{index:10,disable:!1,width:320,height:180,left:-1,top:-1,isShowIcon:!1,isScrollSwitch:!1,scrollTop:0,disableDrag:!1}}}]),n}(tt),gn={mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mousemove:"onMouseMove"},Jn=["videoClick","videoDbClick"],Zn=function(o){S(n,o);var a=E(n);function n(){var e;d(this,n);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return g(b(e=a.call.apply(a,[this].concat(r))),"onMouseMove",function(u){var h=b(e),y=h.player,k=h.playerConfig;y.isActive||(y.focus({autoHide:!k.closeDelayBlur}),!k.closeFocusVideoFocus&&y.media.focus())}),g(b(e),"onMouseEnter",function(u){var h=b(e),y=h.playerConfig,k=h.player;!y.closeFocusVideoFocus&&k.media.focus(),y.closeDelayBlur?k.focus({autoHide:!1}):k.focus()}),g(b(e),"onMouseLeave",function(u){var h=e.playerConfig,y=h.closePlayerBlur,k=h.leavePlayerTime,R=h.closeDelayBlur;y||R||(k?e.player.focus({autoHide:!0,delay:k}):e.player.blur())}),g(b(e),"onVideoClick",function(u){var h=b(e),y=h.player,k=h.playerConfig;u.target&&k.closeVideoClick||u.target!==y.root&&u.target!==y.media&&u.target!==y.innerContainer&&u.target!==y.media.__canvas||(u.preventDefault(),k.closeVideoStopPropagation||u.stopPropagation(),e._clickCount++,e.clickTimer&&(clearTimeout(e.clickTimer),e.clickTimer=null),e.clickTimer=setTimeout(function(){e._clickCount&&(e._clickCount--,ne(b(e),Jn[0],function(R,G){e.switchPlayPause(G.e)},{e:u,paused:y.paused}),clearTimeout(e.clickTimer),e.clickTimer=null)},300))}),g(b(e),"onVideoDblClick",function(u){var h=b(e),y=h.player,k=h.playerConfig;k.closeVideoDblclick||!u.target||u.target!==y.media&&u.target!==y.media.__canvas||(!k.closeVideoClick&&e._clickCount<2?e._clickCount=0:(e._clickCount=0,e.clickTimer&&(clearTimeout(e.clickTimer),e.clickTimer=null),u.preventDefault(),u.stopPropagation(),ne(b(e),Jn[1],function(R,G){e.emitUserAction(G.e,"switch_fullscreen",{props:"fullscreen",from:y.fullscreen,to:!y.fullscreen}),y.fullscreen?y.exitFullscreen():y.getFullscreen()},{e:u,fullscreen:y.fullscreen})))}),e}return _(n,[{key:"afterCreate",value:function(){var e=this;this._clickCount=0,Jn.map(function(t){e.__hooks[t]=null}),this.playerConfig.isMobileSimulateMode==="mobile"||D.device==="mobile"&&!D.os.isIpad||this.initEvents()}},{key:"initEvents",value:function(){var e=this,t=this.player,r=t.video,i=t.root,u=this.playerConfig.enableContextmenu;i&&i.addEventListener("click",this.onVideoClick,!1),i&&i.addEventListener("dblclick",this.onVideoDblClick,!1),Object.keys(gn).map(function(h){i.addEventListener(h,e[gn[h]],!1)}),u&&r&&r.addEventListener("contextmenu",this.onContextmenu,!1)}},{key:"switchPlayPause",value:function(e){var t=this.player;this.emitUserAction(e,"switch_play_pause",{props:"paused",from:t.paused,to:!t.paused}),t.ended?t.duration!==1/0&&t.duration>0&&t.replay():t.paused?t.play():t.pause()}},{key:"onContextmenu",value:function(e){(e=e||window.event).preventDefault&&e.preventDefault(),e.stopPropagation?e.stopPropagation():(e.returnValue=!1,e.cancelBubble=!0)}},{key:"destroy",value:function(){var e=this,t=this.player,r=t.video,i=t.root;this.clickTimer&&clearTimeout(this.clickTimer),i.removeEventListener("click",this.onVideoClick,!1),i.removeEventListener("dblclick",this.onVideoDblClick,!1),r.removeEventListener("contextmenu",this.onContextmenu,!1),Object.keys(gn).map(function(u){i.removeEventListener(u,e[gn[u]],!1)})}}],[{key:"pluginName",get:function(){return"pc"}},{key:"defaultConfig",get:function(){return{}}}]),n}(Te),zg="press",xu="pressend",Xg="doubleclick",Jg="click",Zg="touchmove",Qg="touchstart",ey="touchend",ty={start:"touchstart",end:"touchend",move:"touchmove",cancel:"touchcancel"},ry={start:"mousedown",end:"mouseup",move:"mousemove",cancel:"mouseleave"};function Au(o){return o&&o.length>0?o[o.length-1]:null}var ny=function(){function o(a){var n=this,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{eventType:"touch"};d(this,o),g(this,"onTouchStart",function(t){var r=n._pos,i=n.root,u=Au(t.touches);r.x=u?parseInt(u.pageX,10):t.pageX,r.y=u?parseInt(u.pageX,10):t.pageX,r.start=!0,n.__setPress(t),i.addEventListener(n.events.end,n.onTouchEnd),i.addEventListener(n.events.cancel,n.onTouchCancel),i.addEventListener(n.events.move,n.onTouchMove),n.trigger(Qg,t)}),g(this,"onTouchCancel",function(t){n.onTouchEnd(t)}),g(this,"onTouchEnd",function(t){var r=n._pos,i=n.root;n.__clearPress(),i.removeEventListener(n.events.cancel,n.onTouchCancel),i.removeEventListener(n.events.end,n.onTouchEnd),i.removeEventListener(n.events.move,n.onTouchMove),t.moving=r.moving,t.press=r.press,r.press&&n.trigger(xu,t),n.trigger(ey,t),!r.press&&!r.moving&&n.__setDb(t),r.press=!1,r.start=!1,r.moving=!1}),g(this,"onTouchMove",function(t){var r=n._pos,i=n.config,u=Au(t.touches),h=u?parseInt(u.pageX,10):t.pageX,y=u?parseInt(u.pageY,10):t.pageX,k=h-r.x,R=y-r.y;Math.abs(R)<i.miniStep&&Math.abs(k)<i.miniStep||(n.__clearPress(),r.press&&n.trigger(xu,t),r.press=!1,r.moving=!0,n.trigger(Zg,t))}),this._pos={moving:!1,start:!1,x:0,y:0},this.config={pressDelay:600,dbClickDelay:200,disablePress:!1,disableDbClick:!1,miniStep:2,needPreventDefault:!0},Object.keys(e).map(function(t){n.config[t]=e[t]}),this.root=a,this.events=e.eventType==="mouse"?ry:ty,this.pressIntrvalId=null,this.dbIntrvalId=null,this.__handlers={},this._initEvent()}return _(o,[{key:"_initEvent",value:function(){this.root.addEventListener(this.events.start,this.onTouchStart)}},{key:"__setPress",value:function(a){var n=this,e=this.config;this.pressIntrvalId&&this.__clearPress(),this.pressIntrvalId=setTimeout(function(){n.trigger(zg,a),n._pos.press=!0,n.__clearPress()},e.pressDelay)}},{key:"__clearPress",value:function(){window.clearTimeout(this.pressIntrvalId),this.pressIntrvalId=null}},{key:"__setDb",value:function(a){var n=this,e=this.config;if(this.dbIntrvalId)return this.__clearDb(),void this.trigger(Xg,a);this.dbIntrvalId=setTimeout(function(){n.__clearDb(),n._pos.start||n._pos.press||n._pos.moving||n.trigger(Jg,a)},e.dbClickDelay)}},{key:"__clearDb",value:function(){clearTimeout(this.dbIntrvalId),this.dbIntrvalId=null}},{key:"on",value:function(a,n){this.__handlers[a]||(this.__handlers[a]=[]),this.__handlers[a].push(n)}},{key:"off",value:function(a,n){if(this.__handlers[a]){for(var e=this.__handlers[a],t=-1,r=0;r<e.length;r++)if(e[r]===n){t=r;break}t>=0&&this.__handlers[a].splice(t,1)}}},{key:"trigger",value:function(a,n){this.__handlers[a]&&this.__handlers[a].map(function(e){try{e(n)}catch(t){console.error("trigger>>:".concat(a),t)}})}},{key:"destroy",value:function(){var a=this,n={touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"};Object.keys(n).forEach(function(e){a.root.removeEventListener(e,a[n[e]])})}}]),o}();function iy(){return new DOMParser().parseFromString('<svg width="20" height="9" viewBox="0 0 8 9" fill="none" xmlns="http://www.w3.org/2000/svg"\n  xmlns:xlink="http://www.w3.org/1999/xlink">\n  <path opacity="0.54"\n    d="M7.5 3.63397C8.16667 4.01887 8.16667 4.98113 7.5 5.36603L1.5 8.83013C0.833334 9.21503 0 8.7339 0 7.9641L0 1.0359C0 0.266098 0.833333 -0.215027 1.5 0.169873L7.5 3.63397Z"\n    fill="white" />\n  <path transform="translate(5 0)" d="M7.5 3.63397C8.16667 4.01887 8.16667 4.98113 7.5 5.36603L1.5 8.83013C0.833334 9.21503 0 8.7339 0 7.9641L0 1.0359C0 0.266098 0.833333 -0.215027 1.5 0.169873L7.5 3.63397Z" fill="white"/>\n</svg>',"image/svg+xml").firstChild}var yn="auto",ay="seeking",oy="playbackrate",Qn=["videoClick","videoDbClick"],sy=function(o){S(n,o);var a=E(n);function n(e){var t;return d(this,n),g(b(t=a.call(this,e)),"onTouchStart",function(r){var i=b(t),u=i.player,h=i.config,y=i.pos,k=i.playerConfig,R=t.getTouche(r);if(R&&!h.disableGesture&&t.duration>0&&!u.ended){y.isStart=!0,v.checkIsFunction(k.disableSwipeHandler)&&k.disableSwipeHandler(),t.find(".xg-dur").innerHTML=v.format(t.duration);var G=t.root.getBoundingClientRect();u.rotateDeg===90?(y.top=G.left,y.left=G.top,y.width=G.height,y.height=G.width):(y.top=G.top,y.left=G.left,y.width=G.width,y.height=G.height);var X=parseInt(R.pageX-y.left,10),J=parseInt(R.pageY-y.top,10);y.x=u.rotateDeg===90?J:X,y.y=u.rotateDeg===90?X:J,y.scopeL=h.scopeL*y.width,y.scopeR=(1-h.scopeR)*y.width,y.scopeM1=y.width*(1-h.scopeM)/2,y.scopeM2=y.width-y.scopeM1}}),g(b(t),"onTouchMove",function(r){var i=t.getTouche(r),u=b(t),h=u.pos,y=u.config,k=u.player;if(i&&!y.disableGesture&&t.duration&&h.isStart){var R=y.miniMoveStep,G=y.hideControlsActive,X=parseInt(i.pageX-h.left,10),J=parseInt(i.pageY-h.top,10),oe=k.rotateDeg===90?J:X,ve=k.rotateDeg===90?X:J;if(Math.abs(oe-h.x)>R||Math.abs(ve-h.y)>R){var fe=oe-h.x,Ce=ve-h.y,Be=h.scope;if(Be===-1&&((Be=t.checkScope(oe,ve,fe,Ce,h))===0&&(G?k.blur():k.focus({autoHide:!1}),!h.time&&(h.time=parseInt(1e3*k.currentTime,10)+1e3*t.timeOffset)),h.scope=Be),Be===-1||Be>0&&!y.gestureY||Be===0&&!y.gestureX)return;r.cancelable&&r.preventDefault(),t.executeMove(fe,Ce,Be,h.width,h.height),h.x=oe,h.y=ve}}}),g(b(t),"onTouchEnd",function(r){var i=b(t),u=i.player,h=i.pos,y=i.playerConfig;if(h.isStart){h.scope>-1&&r.cancelable&&r.preventDefault();var k=t.config,R=k.disableGesture,G=k.gestureX;!R&&G?(t.endLastMove(h.scope),setTimeout(function(){u.getPlugin("progress")&&u.getPlugin("progress").resetSeekState()},10)):h.time=0,h.scope=-1,t.resetPos(),v.checkIsFunction(y.enableSwipeHandler)&&y.enableSwipeHandler(),t.changeAction(yn)}}),g(b(t),"onRootTouchMove",function(r){!t.config.disableGesture&&t.config.gestureX&&t.checkIsRootTarget(r)&&(r.stopPropagation(),t.pos.isStart?t.onTouchMove(r):t.onTouchStart(r))}),g(b(t),"onRootTouchEnd",function(r){t.pos.isStart&&t.checkIsRootTarget(r)&&(r.stopPropagation(),t.onTouchEnd(r))}),t.pos={isStart:!1,x:0,y:0,time:0,volume:0,rate:1,light:0,width:0,height:0,scopeL:0,scopeR:0,scopeM1:0,scopeM2:0,scope:-1},t.timer=null,t}return _(n,[{key:"duration",get:function(){return this.playerConfig.customDuration||this.player.duration}},{key:"timeOffset",get:function(){return this.playerConfig.timeOffset||0}},{key:"registerIcons",value:function(){return{seekTipIcon:{icon:iy,class:"xg-seek-pre"}}}},{key:"afterCreate",value:function(){var e=this;Qn.map(function(k){e.__hooks[k]=null});var t=this.playerConfig,r=this.config,i=this.player;t.closeVideoDblclick===!0&&(r.closedbClick=!0),this.resetPos(),v.isUndefined(t.disableGesture)||(r.disableGesture=!!t.disableGesture),this.appendChild(".xg-seek-icon",this.icons.seekTipIcon),this.xgMask=v.createDom("xg-mask","",{},"xgmask"),i.root.appendChild(this.xgMask),this.initCustomStyle(),this.registerThumbnail();var u=this.domEventType==="mouse"?"mouse":"touch";this.touch=new ny(this.root,{eventType:u,needPreventDefault:!this.config.disableGesture}),this.root.addEventListener("contextmenu",function(k){k.preventDefault()}),i.root.addEventListener("touchmove",this.onRootTouchMove,!0),i.root.addEventListener("touchend",this.onRootTouchEnd,!0),this.on(Me,function(){var k=e.player,R=e.config;1e3*k.duration<R.moveDuration&&(R.moveDuration=1e3*k.duration)}),this.on([Ae,ke],function(){var k=e.pos,R=k.time;!k.isStart&&R>0&&(e.pos.time=0)});var h={touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd",press:"onPress",pressend:"onPressEnd",click:"onClick",doubleclick:"onDbClick"};if(Object.keys(h).map(function(k){e.touch.on(k,function(R){e[h[k]](R)})}),!r.disableActive){var y=i.plugins.progress;y&&(y.addCallBack("dragmove",function(k){e.activeSeekNote(k.currentTime,k.forward)}),y.addCallBack("dragend",function(){e.changeAction(yn)}))}}},{key:"registerThumbnail",value:function(){var e=this.player.plugins.thumbnail;if(e&&e.usable){this.thumbnail=e.createThumbnail(null,"mobile-thumbnail");var t=this.find(".time-preview");t.insertBefore(this.thumbnail,t.children[0])}}},{key:"initCustomStyle",value:function(){var e=(this.playerConfig||{}).commonStyle,t=e.playedColor,r=e.progressColor;t&&(this.find(".xg-curbar").style.backgroundColor=t,this.find(".xg-cur").style.color=t),r&&(this.find(".xg-bar").style.backgroundColor=r,this.find(".time-preview").style.color=r),this.config.disableTimeProgress&&v.addClass(this.find(".xg-timebar"),"hide")}},{key:"resetPos",value:function(){var e=this;this.pos?(this.pos.isStart=!1,this.pos.scope=-1,["x","y","width","height","scopeL","scopeR","scopeM1","scopeM2"].map(function(t){e.pos[t]=0})):this.pos={isStart:!1,x:0,y:0,volume:0,rate:1,light:0,width:0,height:0,scopeL:0,scopeR:0,scopeM1:0,scopeM2:0,scope:-1,time:0}}},{key:"changeAction",value:function(e){var t=this.player;this.root.setAttribute("data-xg-action",e);var r=t.plugins.start;r&&r.recover()}},{key:"getTouche",value:function(e){this.player.rotateDeg;var t=e.touches&&e.touches.length>0?e.touches[e.touches.length-1]:e;return{pageX:t.pageX,pageY:t.pageY}}},{key:"checkScope",value:function(e,t,r,i,u){var h=u.width,y=-1;if(e<0||e>h)return y;var k=Math.abs(i===0?r:r/i);return Math.abs(r)>0&&k>=1.73&&e>u.scopeM1&&e<u.scopeM2?y=0:(Math.abs(r)===0||k<=.57)&&(y=e<u.scopeL?1:e>u.scopeR?2:3),y}},{key:"executeMove",value:function(e,t,r,i,u){switch(r){case 0:this.updateTime(e/i*this.config.scopeM);break;case 1:this.updateBrightness(t/u);break;case 2:D.os.isIos||this.updateVolume(t/u)}}},{key:"endLastMove",value:function(e){var t=this,r=this.pos,i=this.player,u=this.config,h=(r.time-this.timeOffset)/1e3;e===0&&(i.seek(Number(h).toFixed(1)),u.hideControlsEnd?i.blur():i.focus(),this.timer=setTimeout(function(){t.pos.time=0},500)),this.changeAction(yn)}},{key:"checkIsRootTarget",value:function(e){var t=this.player.plugins||{};return(!t.progress||!t.progress.root.contains(e.target))&&(t.start&&t.start.root.contains(e.target)||t.controls&&t.controls.root.contains(e.target))}},{key:"sendUseAction",value:function(e){var t=this.player.paused;this.emitUserAction(e,"switch_play_pause",{prop:"paused",from:t,to:!t})}},{key:"clickHandler",value:function(e){var t=this.player,r=this.config,i=this.playerConfig;t.state<Ot?i.closeVideoClick||(this.sendUseAction(v.createEvent("click")),t.play()):!r.closedbClick||i.closeVideoClick?t.isActive?t.blur():t.focus():i.closeVideoClick||((t.isActive||r.focusVideoClick)&&(this.sendUseAction(v.createEvent("click")),this.switchPlayPause()),t.focus())}},{key:"dbClickHandler",value:function(e){var t=this.config,r=this.player;!t.closedbClick&&r.state>=Ot&&(this.sendUseAction(v.createEvent("dblclick")),this.switchPlayPause())}},{key:"onClick",value:function(e){var t=this,r=this.player;ne(this,Qn[0],function(i,u){t.clickHandler(u.e)},{e,paused:r.paused})}},{key:"onDbClick",value:function(e){var t=this,r=this.player;ne(this,Qn[1],function(i,u){t.dbClickHandler(u.e)},{e,paused:r.paused})}},{key:"onPress",value:function(e){var t=this.pos,r=this.config,i=this.player;r.disablePress||(t.rate=this.player.playbackRate,this.emitUserAction("press","change_rate",{prop:"playbackRate",from:i.playbackRate,to:r.pressRate}),i.playbackRate=r.pressRate,this.changeAction(oy))}},{key:"onPressEnd",value:function(e){var t=this.pos,r=this.config,i=this.player;r.disablePress||(this.emitUserAction("pressend","change_rate",{prop:"playbackRate",from:i.playbackRate,to:t.rate}),i.playbackRate=t.rate,t.rate=1,this.changeAction(yn))}},{key:"updateTime",value:function(e){var t=this.player,r=this.config,i=this.player.duration;e=Number(e.toFixed(4));var u=parseInt(e*r.moveDuration,10)+this.timeOffset;u=(u+=this.pos.time)<0?0:u>1e3*i?1e3*i-200:u,t.getPlugin("time")&&t.getPlugin("time").updateTime(u/1e3),t.getPlugin("progress")&&t.getPlugin("progress").updatePercent(u/1e3/this.duration,!0),this.activeSeekNote(u/1e3,e>0),r.isTouchingSeek&&t.seek(Number((u-this.timeOffset)/1e3).toFixed(1)),this.pos.time=u}},{key:"updateVolume",value:function(e){this.player.rotateDeg&&(e=-e);var t=this.player,r=this.pos;if(e=parseInt(100*e,10),r.volume+=e,!(Math.abs(r.volume)<10)){var i=parseInt(10*t.volume,10)-parseInt(r.volume/10,10);i=i>10?10:i<1?0:i,t.volume=i/10,r.volume=0}}},{key:"updateBrightness",value:function(e){this.player.rotateDeg&&(e=-e);var t=this.pos,r=this.config,i=this.xgMask,u=t.light+.8*e;u=u>r.maxDarkness?r.maxDarkness:u<0?0:u,i&&(i.style.backgroundColor="rgba(0,0,0,".concat(u,")")),t.light=u}},{key:"activeSeekNote",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=this.player,i=this.config,u=!(this.duration!==1/0&&this.duration>0);if(e&&typeof e=="number"&&!u&&!i.disableActive){e<0?e=0:e>r.duration&&(e=r.duration-.2),this.changeAction(ay);var h=r.plugins.start;h&&h.focusHide(),this.find(".xg-dur").innerHTML=v.format(this.duration),this.find(".xg-cur").innerHTML=v.format(e),this.find(".xg-curbar").style.width="".concat(e/this.duration*100,"%"),t?v.removeClass(this.find(".xg-seek-show"),"xg-back"):v.addClass(this.find(".xg-seek-show"),"xg-back"),this.updateThumbnails(e)}}},{key:"updateThumbnails",value:function(e){var t=this.player.plugins.thumbnail;t&&t.usable&&this.thumbnail&&t.update(this.thumbnail,e,160,90)}},{key:"switchPlayPause",value:function(){var e=this.player;if(e.state<Nr)return!1;e.ended||(e.paused?e.play():e.pause())}},{key:"disableGesture",value:function(){this.config.disableGesture=!1}},{key:"enableGesture",value:function(){this.config.disableGesture=!0}},{key:"destroy",value:function(){var e=this.player;this.timer&&clearTimeout(this.timer),this.thumbnail=null,e.root.removeChild(this.xgMask),this.xgMask=null,this.touch&&this.touch.destroy(),this.touch=null,e.root.removeEventListener("touchmove",this.onRootTouchMove,!0),e.root.removeEventListener("touchend",this.onRootTouchEnd,!0)}},{key:"render",value:function(){var e=this.config.gradient!=="normal"?"gradient ".concat(this.config.gradient):"gradient";return'\n     <xg-trigger class="trigger">\n     <div class="'.concat(e,'"></div>\n        <div class="time-preview">\n            <div class="xg-seek-show ').concat(this.config.disableSeekIcon?" hide-seek-icon":"",'">\n              <i class="xg-seek-icon"></i>\n              <span class="xg-cur">00:00</span>\n              <span>/</span>\n              <span class="xg-dur">00:00</span>\n            </div>\n              <div class="xg-bar xg-timebar">\n                <div class="xg-curbar"></div>\n              </div>\n        </div>\n        <div class="xg-playbackrate xg-top-note">\n            <span><i>').concat(this.config.pressRate,"X</i>").concat(this.i18n.FORWARD,"</span>\n        </div>\n     </xg-trigger>\n    ")}}],[{key:"pluginName",get:function(){return"mobile"}},{key:"defaultConfig",get:function(){return{index:0,disableGesture:!1,gestureX:!0,gestureY:!0,gradient:"normal",isTouchingSeek:!1,miniMoveStep:5,miniYPer:5,scopeL:.25,scopeR:.25,scopeM:.9,pressRate:2,darkness:!0,maxDarkness:.8,disableActive:!1,disableTimeProgress:!1,hideControlsActive:!1,hideControlsEnd:!1,moveDuration:36e4,closedbClick:!1,disablePress:!0,disableSeekIcon:!1,focusVideoClick:!1}}}]),n}(tt);function Ru(o){var a=o.tagName;return!(a!=="INPUT"&&a!=="TEXTAREA"&&!o.isContentEditable)}var Ou=function(o){S(n,o);var a=E(n);function n(){var e;d(this,n);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return g(b(e=a.call.apply(a,[this].concat(r))),"onBodyKeyDown",function(u){if(e.player){var h=u||window.event,y=h.keyCode,k=b(e),R=k._keyState,G=k.player,X=e.config,J=X.disable,oe=X.disableBodyTrigger,ve=X.isIgnoreUserActive;J||oe||!G.isUserActive&&!ve||Ru(h.target)||!e.checkIsVisible()||h.metaKey||h.altKey||h.ctrlKey?R.isBodyKeyDown=!1:(u.repeat||R.isKeyDown||((h.target===document.body||e.config.isGlobalTrigger&&!Ru(h.target))&&e.checkCode(y,!0)&&(R.isBodyKeyDown=!0),document.addEventListener("keyup",e.onBodyKeyUp)),R.isBodyKeyDown&&e.handleKeyDown(h))}}),g(b(e),"onBodyKeyUp",function(u){e.player&&(document.removeEventListener("keyup",e.onBodyKeyUp),e.handleKeyUp(u))}),g(b(e),"onKeydown",function(u){if(e.player){var h=u||window.event,y=b(e)._keyState;if(!h.repeat){if(e.config.disable||e.config.disableRootTrigger||h.metaKey||h.altKey||h.ctrlKey||!e.player.isUserActive&&!e.config.isIgnoreUserActive)return;!h||h.keyCode!==37&&!e.checkCode(h.keyCode)||h.target!==e.player.root&&h.target!==e.player.video&&h.target!==e.player.controls.el||(y.isKeyDown=!0),e.player.root.addEventListener("keyup",e.onKeyup)}y.isKeyDown&&e.handleKeyDown(h)}}),g(b(e),"onKeyup",function(u){e.player&&(e.player.root.removeEventListener("keyup",e.onKeyup),e.handleKeyUp(u))}),e}return _(n,[{key:"mergekeyCodeMap",value:function(){var e=this,t=this.config.keyCodeMap;t&&Object.keys(t).map(function(r){e.keyCodeMap[r]?["keyCode","action","disable","pressAction","disablePress","isBodyTarget"].map(function(i){t[r][i]&&(e.keyCodeMap[r][i]=t[r][i])}):e.keyCodeMap[r]=t[r]})}},{key:"afterCreate",value:function(){this.config.disable=!this.playerConfig.keyShortcut;var e=typeof this.config.seekStep=="function"?this.config.seekStep(this.player):this.config.seekStep;e&&typeof e=="number"&&(this.seekStep=e),this.keyCodeMap={space:{keyCode:32,action:"playPause",disable:!1,disablePress:!1,noBodyTarget:!1},up:{keyCode:38,action:"upVolume",disable:!1,disablePress:!1,noBodyTarget:!0},down:{keyCode:40,action:"downVolume",disable:!1,disablePress:!1,noBodyTarget:!0},left:{keyCode:37,action:"seekBack",disablePress:!1,disable:!1},right:{keyCode:39,action:"seek",pressAction:"changePlaybackRate",disablePress:!1,disable:!1},esc:{keyCode:27,action:"exitFullscreen",disablePress:!0,disable:!1}},this.mergekeyCodeMap(),this._keyState={isKeyDown:!1,isBodyKeyDown:!1,isPress:!1,tt:0,playbackRate:0},this.player.root.addEventListener("keydown",this.onKeydown),document.addEventListener("keydown",this.onBodyKeyDown)}},{key:"checkIsVisible",value:function(){if(!this.config.checkVisible)return!0;var e=this.player.root.getBoundingClientRect(),t=e.height,r=e.top,i=e.bottom,u=window.innerHeight;return!(r<0&&r<0-.9*t||i>0&&i-u>.9*t)}},{key:"checkCode",value:function(e,t){var r=this,i=!1;return Object.keys(this.keyCodeMap).map(function(u){r.keyCodeMap[u]&&e===r.keyCodeMap[u].keyCode&&!r.keyCodeMap[u].disable&&(i=!t||t&&!r.keyCodeMap[u].noBodyTarget)}),i}},{key:"downVolume",value:function(e){var t=this.player;if(!(t.volume<=0)){var r=parseFloat((t.volume-.1).toFixed(1)),i={volume:{from:t.volume,to:r}};this.emitUserAction(e,"change_volume",{props:i}),t.volume=r>=0?r:0}}},{key:"upVolume",value:function(e){var t=this.player;if(!(t.volume>=1)){var r=parseFloat((t.volume+.1).toFixed(1)),i={volume:{from:t.volume,to:r}};this.emitUserAction(e,"change_volume",{props:i}),t.volume=r<=1?r:1}}},{key:"seek",value:function(e){var t=this.player,r=t.currentTime,i=t.offsetCurrentTime,u=t.duration,h=t.offsetDuration,y=t.timeSegments,k=i>-1?i:r,R=h||u,G=e.repeat&&this.seekStep>=4?parseInt(this.seekStep/2,10):this.seekStep;k+G<=R?k+=G:k=R;var X=v.getCurrentTimeByOffset(k,y),J={currentTime:{from:r,to:X}};this.emitUserAction(e,"seek",{props:J}),this.player.currentTime=X}},{key:"seekBack",value:function(e){var t=this.player,r=t.currentTime,i=t.offsetCurrentTime,u=t.timeSegments,h=(i>-1?i:r)-(e.repeat?parseInt(this.seekStep/2,10):this.seekStep);h<0&&(h=0);var y={currentTime:{from:r,to:h=v.getCurrentTimeByOffset(h,u)}};this.emitUserAction(e,"seek",{props:y}),this.player.currentTime=h}},{key:"changePlaybackRate",value:function(e){var t=this._keyState,r=this.config,i=this.player;t.playbackRate===0&&(t.playbackRate=i.playbackRate,i.playbackRate=r.playbackRate)}},{key:"playPause",value:function(e){var t=this.player;t&&(this.emitUserAction(e,"switch_play_pause"),t.paused?t.play():t.pause())}},{key:"exitFullscreen",value:function(e){var t=this.player,r=t.fullscreen,i=t.cssfullscreen;r&&(this.emitUserAction("keyup","switch_fullscreen",{prop:"fullscreen",from:r,to:!r}),t.exitFullscreen()),i&&(this.emitUserAction("keyup","switch_css_fullscreen",{prop:"cssfullscreen",from:i,to:!i}),t.exitCssFullscreen())}},{key:"handleKeyDown",value:function(e){var t=this._keyState;if(e.repeat){t.isPress=!0;var r=Date.now();if(r-t.tt<200)return;t.tt=r}(function(i){i.preventDefault(),i.returnValue=!1})(e),this.handleKeyCode(e.keyCode,e,t.isPress)}},{key:"handleKeyUp",value:function(e){var t=this._keyState;t.playbackRate>0&&(this.player.playbackRate=t.playbackRate,t.playbackRate=0),t.isKeyDown=!1,t.isPress=!1,t.tt=0}},{key:"handleKeyCode",value:function(e,t,r){for(var i=Object.keys(this.keyCodeMap),u=0;u<i.length;u++){var h=this.keyCodeMap[i[u]],y=h.action,k=h.keyCode,R=h.disable,G=h.pressAction,X=h.disablePress;if(k===e){if(!(R||r&&X)){var J=r&&G||y;typeof J=="function"?y(t,this.player,r):typeof J=="string"&&typeof this[J]=="function"&&this[J](t,this.player,r),this.emit(it,f({key:i[u],target:t.target,isPress:r},this.keyCodeMap[i[u]]))}break}}}},{key:"destroy",value:function(){this.player.root.removeEventListener("keydown",this.onKeydown),document.removeEventListener("keydown",this.onBodyKeyDown),this.player.root.removeEventListener("keyup",this.onKeyup),document.removeEventListener("keyup",this.onBodyKeyUp)}},{key:"disable",value:function(){this.config.disable=!0}},{key:"enable",value:function(){this.config.disable=!1}}],[{key:"pluginName",get:function(){return"keyboard"}},{key:"defaultConfig",get:function(){return{seekStep:10,checkVisible:!1,disableBodyTrigger:!1,disableRootTrigger:!1,isGlobalTrigger:!1,keyCodeMap:{},disable:!1,playbackRate:2,isIgnoreUserActive:!1}}}]),n}(Te);function uy(){return new DOMParser().parseFromString('<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="-5 -5 110 110">\n  <path d="M100,50A50,50,0,1,1,50,0" stroke-width="5" stroke="#ddd" stroke-dasharray="236" fill="none"></path>\n</svg>\n',"image/svg+xml").firstChild}var ly=function(o){S(n,o);var a=E(n);function n(){return d(this,n),a.apply(this,arguments)}return _(n,[{key:"registerIcons",value:function(){return{loadingIcon:uy}}},{key:"afterCreate",value:function(){this.appendChild("xg-loading-inner",this.icons.loadingIcon)}},{key:"render",value:function(){return'\n    <xg-loading class="xgplayer-loading">\n      <xg-loading-inner></xg-loading-inner>\n    </xg-loading>'}}],[{key:"pluginName",get:function(){return"loading"}},{key:"defaultConfig",get:function(){return{position:Qe.ROOT}}}]),n}(tt),cy=[{tag:"xg-cache",className:"xgplayer-progress-cache",styleKey:"cachedColor"},{tag:"xg-played",className:"xgplayer-progress-played",styleKey:"playedColor"}],fy=function(){function o(a){d(this,o),this.fragments=a.fragments||[],this.fragments.length===0&&this.fragments.push({percent:1}),this._callBack=a.actionCallback,this.fragConfig={fragFocusClass:a.fragFocusClass||"inner-focus-point",fragAutoFocus:!!a.fragAutoFocus,fragClass:a.fragClass||""},this.style=a.style||{playedColor:"",cachedColor:"",progressColor:""},this.duration=0,this.cachedIndex=0,this.playedIndex=0,this.focusIndex=-1}return _(o,[{key:"updateDuration",value:function(a){var n=this;this.duration=a;var e=0,t=this.fragments;this.fragments=t.map(function(r){return r.start=parseInt(e,10),r.end=parseInt(e+r.percent*n.duration,10),r.duration=parseInt(r.percent*n.duration,10),e+=r.percent*n.duration,r})}},{key:"updateProgress",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"played",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{newIndex:0,curIndex:0,millisecond:0},e=this.progressList,t=this.fragments;if(!(e.length<1)){var r=n.newIndex,i=n.curIndex,u=n.millisecond;r!==i&&e.map(function(k,R){R<r?k[a].style.width="100%":R>r&&(k[a].style.width=0)});var h=t[r],y=u===0?0:(u-h.start)/h.duration;e[r][a].style.width=y<0?0:"".concat(100*y,"%")}}},{key:"updateFocus",value:function(a){if(this.fragConfig.fragAutoFocus&&!(this.fragments.length<2)){if(a){var n=this.findIndex(1e3*a.currentTime,this.focusIndex);if(n>=0&&n!==this.focusIndex){this.focusIndex>-1&&this.unHightLight(this.focusIndex),this.setHightLight(n);var e={index:n,preIndex:this.focusIndex,fragment:this.fragments[this.focusIndex]};this.focusIndex=n,this._callBack&&this._callBack(e)}}else if(this.focusIndex>-1){this.unHightLight(this.focusIndex);var t={index:-1,preIndex:this.focusIndex,fragment:null};this._callBack&&this._callBack(t),this.focusIndex=-1}}}},{key:"update",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{cached:0,played:0},n=arguments.length>1?arguments[1]:void 0;if(!this.duration||parseInt(1e3*n,10)!==this.duration){if(!n&&n!==0)return;this.updateDuration(parseInt(1e3*n,10))}var e=this.playedIndex,t=this.cachedIndex;if(v.typeOf(a.played)!=="Undefined"){var r=this.findIndex(1e3*a.played,e);if(r<0)return;this.updateProgress("played",{newIndex:r,curIndex:e,millisecond:parseInt(1e3*a.played,10)}),this.playedIndex=r}if(v.typeOf(a.cached)!=="Undefined"){var i=this.findIndex(1e3*a.cached,t);if(i<0)return;this.updateProgress("cached",{newIndex:i,curIndex:t,millisecond:parseInt(1e3*a.cached,10)}),this.cachedIndex=i}}},{key:"findIndex",value:function(a,n){var e=this.fragments;if(!e||e.length===0)return-1;if(e.length===1)return 0;if(n>-1&&n<e.length&&a>e[n].start&&a<e[n].end)return n;if(a>e[e.length-1].start)return e.length-1;for(var t=0;t<e.length;t++)if(a>e[t].start&&a<=e[t].end){n=t;break}return n}},{key:"findHightLight",value:function(){for(var a=this.root.children,n=0;n<a.length;n++)if(v.hasClass(a[n],this.fragConfig.fragFocusClass))return{dom:a[n],pos:a[n].getBoundingClientRect()}}},{key:"findFragment",value:function(a){var n=this.root.children;return a<0||a>=n.length?null:{dom:n[a],pos:n[a].getBoundingClientRect()}}},{key:"unHightLight",value:function(){for(var a=this.root.children,n=0;n<a.length;n++)v.removeClass(a[n],this.fragConfig.fragFocusClass)}},{key:"setHightLight",value:function(a){var n=this.root.children;if(a<n.length)return v.addClass(n[a],this.fragConfig.fragFocusClass),{dom:n[a],pos:n[a].getBoundingClientRect()}}},{key:"destroy",value:function(){this.progressList=null,this.fragments=null,this.root.innerHTML=""}},{key:"reset",value:function(a){var n=this;if(Object.keys(this.fragConfig).forEach(function(t){a[t]!==void 0&&(n.fragConfig[t]=a[t])}),a.fragments){if(this.fragments=a.fragments.length===0?[{percent:1}]:a.fragments,this.updateDuration(this.duration),this.playedIndex=0,this.cachedIndex=0,this.root)for(var e=this.root.children;e.length>0;)this.root.removeChild(e[0]);this.render()}}},{key:"render",value:function(){var a=this,n=this.style.progressColor;if(this.root||(this.root=v.createDom("xg-inners","",{},"progress-list")),this.fragments){var e=this.fragConfig,t=e.fragClass,r=e.fragFocusClass;this.progressList=this.fragments.map(function(i){var u=v.createDom("xg-inner","",{style:n?"background:".concat(n,"; flex: ").concat(i.percent):"flex: ".concat(i.percent)},"".concat(i.isFocus?r:""," xgplayer-progress-inner ").concat(t));return a.root.appendChild(u),cy.forEach(function(h){u.appendChild(v.createDom(h.tag,"",{style:h.styleKey?"background: ".concat(a.style[h.styleKey],"; width:0;"):"width:0;"},h.className))}),{cached:u.children[0],played:u.children[1]}})}return this.root}}]),o}(),Pu={POINT:"inner-focus-point",HIGHLIGHT:"inner-focus-highlight"},hy=function(o){S(n,o);var a=E(n);function n(e){var t;return d(this,n),g(b(t=a.call(this,e)),"onMoveOnly",function(r,i){var u=b(t),h=u.pos,y=u.config,k=u.player,R=i;if(r){v.event(r);var G=v.getEventPos(r,k.zoom),X=k.rotateDeg===90?G.clientY:G.clientX;if(h.moving&&Math.abs(h.x-X)<y.miniMoveStep)return;h.moving=!0,h.x=X,R=t.computeTime(r,X)}t.triggerCallbacks("dragmove",R,r),t._updateInnerFocus(R)}),g(b(t),"onBodyClick",function(r){t.pos.isLocked&&(t.pos.isLocked=!1,r.preventDefault(),r.stopPropagation())}),g(b(t),"_mouseDownHandler",function(r,i){t._state.time=i.currentTime,t.updateWidth(i.currentTime,i.seekTime,i.percent,0),t._updateInnerFocus(i)}),g(b(t),"_mouseUpHandler",function(r,i){b(t).pos.moving&&t.updateWidth(i.currentTime,i.seekTime,i.percent,2)}),g(b(t),"_mouseMoveHandler",function(r,i){var u=b(t),h=u._state,y=u.pos,k=u.config,R=u.player;h.time<i.currentTime?i.forward=!0:i.forward=!1,h.time=i.currentTime,y.isDown&&!y.moving&&(y.moving=!0,k.isPauseMoving&&R.pause(),t.triggerCallbacks("dragstart",i,r),t.emitUserAction("drag","dragstart",i)),t.updateWidth(i.currentTime,i.seekTime,i.percent,1),t.triggerCallbacks("dragmove",i,r),t._updateInnerFocus(i)}),g(b(t),"onMouseDown",function(r){var i=b(t),u=i._state,h=i.player,y=i.pos,k=i.config,R=i.playerConfig,G=v.getEventPos(r,h.zoom),X=h.rotateDeg===90?G.clientY:G.clientX;if(!(h.isMini||k.closeMoveSeek||!R.allowSeekAfterEnded&&h.ended)){if(h.duration||h.isPlaying){r.stopPropagation(),t.focus(),v.checkIsFunction(R.disableSwipeHandler)&&R.disableSwipeHandler(),v.checkIsFunction(k.onMoveStart)&&k.onMoveStart(),v.event(r),y.x=X,y.isDown=!0,y.moving=!1,u.prePlayTime=h.currentTime,h.focus({autoHide:!1}),t.isProgressMoving=!0,v.addClass(t.progressBtn,"active");var J=t.computeTime(r,X);return J.prePlayTime=u.prePlayTime,t._mouseDownHandlerHook(r,J),r.type==="touchstart"?(t.root.addEventListener("touchmove",t.onMouseMove),t.root.addEventListener("touchend",t.onMouseUp)):(t.unbind("mousemove",t.onMoveOnly),document.addEventListener("mousemove",t.onMouseMove,!1),document.addEventListener("mouseup",t.onMouseUp,!1)),!0}h.play()}}),g(b(t),"onMouseUp",function(r){var i=b(t),u=i.player,h=i.config,y=i.pos,k=i.playerConfig,R=i._state;r.stopPropagation(),r.preventDefault(),v.checkIsFunction(k.enableSwipeHandler)&&k.enableSwipeHandler(),v.checkIsFunction(h.onMoveEnd)&&h.onMoveEnd(),v.event(r),v.removeClass(t.progressBtn,"active");var G=t.computeTime(r,y.x);G.prePlayTime=R.prePlayTime,y.moving?(t.triggerCallbacks("dragend",G,r),t.emitUserAction("drag","dragend",G)):(t.triggerCallbacks("click",G,r),t.emitUserAction("click","click",G)),t._mouseUpHandlerHook(r,G),y.moving=!1,y.isDown=!1,y.x=0,y.y=0,y.isLocked=!0,R.prePlayTime=0,R.time=0,r.type==="touchend"?(t.root.removeEventListener("touchmove",t.onMouseMove),t.root.removeEventListener("touchend",t.onMouseUp),t.blur()):(document.removeEventListener("mousemove",t.onMouseMove,!1),document.removeEventListener("mouseup",t.onMouseUp,!1),y.isEnter?k.isMobileSimulateMode!=="mobile"&&t.bind("mousemove",t.onMoveOnly):t.onMouseLeave(r)),v.setTimeout(b(t),function(){t.resetSeekState()},10),u.focus()}),g(b(t),"onMouseMove",function(r){var i=b(t),u=i._state,h=i.pos,y=i.player,k=i.config;v.checkTouchSupport()&&r.preventDefault(),v.event(r);var R=v.getEventPos(r,y.zoom),G=y.rotateDeg===90?R.clientY:R.clientX,X=Math.abs(h.x-G);if(!(h.moving&&X<k.miniMoveStep||!h.moving&&X<k.miniStartStep)){h.x=G;var J=t.computeTime(r,G);J.prePlayTime=u.prePlayTime,t._mouseMoveHandlerHook(r,J)}}),g(b(t),"onMouseOut",function(r){t.triggerCallbacks("mouseout",null,r)}),g(b(t),"onMouseOver",function(r){t.triggerCallbacks("mouseover",null,r)}),g(b(t),"onMouseEnter",function(r){var i=b(t),u=i.player,h=i.pos;if(!(h.isDown||h.isEnter||u.isMini||!u.config.allowSeekAfterEnded&&u.ended)){h.isEnter=!0,t.bind("mousemove",t.onMoveOnly),t.bind("mouseleave",t.onMouseLeave),v.event(r);var y=v.getEventPos(r,u.zoom),k=u.rotateDeg===90?y.clientY:y.clientX,R=t.computeTime(r,k);t.triggerCallbacks("mouseenter",R,r),t.focus()}}),g(b(t),"onMouseLeave",function(r){t.triggerCallbacks("mouseleave",null,r),t.unlock(),t._updateInnerFocus(null)}),g(b(t),"onVideoResize",function(){var r=t.pos,i=r.x,u=r.isDown;if(r.isEnter&&!u){var h=t.computeTime(null,i);t.onMoveOnly(null,h)}}),t.useable=!1,t.isProgressMoving=!1,t.__dragCallBacks=[],t._state={now:-1,direc:0,time:0,prePlayTime:-1},t._disableBlur=!1,t}return _(n,[{key:"offsetDuration",get:function(){return this.playerConfig.customDuration||this.player.offsetDuration||this.player.duration}},{key:"duration",get:function(){return this.playerConfig.customDuration||this.player.duration}},{key:"timeOffset",get:function(){return this.playerConfig.timeOffset||0}},{key:"currentTime",get:function(){var e=this.player,t=e.offsetCurrentTime,r=e.currentTime;return t>=0?t:r+this.timeOffset}},{key:"changeState",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.useable=e}},{key:"show",value:function(){this.root&&(this.root.style.display="flex")}},{key:"_initInner",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};t&&t.length!==0||(t=[{percent:1}]);var i=f(f({fragments:t},r),{},{actionCallback:function(u){e.emitUserAction("fragment_focus","fragment_focus",u)}});this.innerList?this.innerList.reset(i):(this.innerList=new fy(i),this.outer.insertBefore(this.innerList.render(),this.outer.children[0]),["findHightLight","unHightLight","setHightLight","findFragment"].map(function(u){e[u]=e.innerList[u].bind(e.innerList)}))}},{key:"_updateInnerFocus",value:function(e){this.innerList&&this.innerList.updateFocus(e)}},{key:"afterCreate",value:function(){var e=this;if(!this.config.disable&&!this.playerConfig.isLive){this.pos={x:0,y:0,moving:!1,isDown:!1,isEnter:!1,isLocked:!1},this.outer=this.find("xg-outer");var t=this.config,r=t.fragFocusClass,i=t.fragAutoFocus,u=t.fragClass;this._initInner(this.config.fragments,{fragFocusClass:r,fragAutoFocus:i,fragClass:u,style:this.playerConfig.commonStyle||{}}),D.device==="mobile"&&(this.config.isDragingSeek=!1,this.isMobile=!0),this.progressBtn=this.find(".xgplayer-progress-btn"),this.on(Me,function(){e.onMouseLeave()}),this.on(_e,function(){e.onTimeupdate()}),this.on(pe,function(){e.onTimeupdate(),e.onCacheUpdate()}),this.on($e,function(){e.onCacheUpdate()}),this.on(ke,function(){e.onCacheUpdate(!0),e.onTimeupdate(!0),e._state.now=0}),this.on(We,function(){e.onReset()}),this.on(ge,function(){e.onVideoResize()}),this.bindDomEvents(),this.initCustomStyle()}}},{key:"setConfig",value:function(e){var t=this,r=null;Object.keys(e).forEach(function(i){t.config[i]=e[i],i==="fragments"&&(r=e[i])}),r&&this._initInner(r,e)}},{key:"initCustomStyle",value:function(){var e=(this.playerConfig||{}).commonStyle.sliderBtnStyle,t=this.progressBtn;e&&(typeof e=="string"?t.style.boxShadow=e:p(e)==="object"&&Object.keys(e).map(function(r){t.style[r]=e[r]}))}},{key:"triggerCallbacks",value:function(e,t,r){this.__dragCallBacks.length>0&&this.__dragCallBacks.map(function(i){if(i&&i.handler&&i.type===e)try{i.handler(t,r)}catch(u){console.error("[XGPLAYER][triggerCallbacks] ".concat(i," error"),u)}})}},{key:"addCallBack",value:function(e,t){t&&typeof t=="function"&&this.__dragCallBacks.push({type:e,handler:t})}},{key:"removeCallBack",value:function(e,t){var r=this.__dragCallBacks,i=-1;r.map(function(u,h){u&&u.type===e&&u.handler===t&&(i=h)}),i>-1&&r.splice(i,1)}},{key:"unlock",value:function(){var e=this.player,t=this.pos;t.isEnter=!1,e.isMini||(this.unbind("mousemove",this.onMoveOnly),t.isDown?this.unbind("mouseleave",this.onMouseLeave):this.blur())}},{key:"bindDomEvents",value:function(){var e=this.player,t=e.controls,r=e.config;this._mouseDownHandlerHook=this.hook("dragstart",this._mouseDownHandler),this._mouseUpHandlerHook=this.hook("dragend",this._mouseUpHandler),this._mouseMoveHandlerHook=this.hook("drag",this._mouseMoveHandler),this.domEventType!=="touch"&&this.domEventType!=="compatible"||(this.root.addEventListener("touchstart",this.onMouseDown),t&&(t.root&&t.root.addEventListener("touchmove",v.stopPropagation),t.center&&t.center.addEventListener("touchend",v.stopPropagation))),this.domEventType!=="mouse"&&this.domEventType!=="compatible"||(this.bind("mousedown",this.onMouseDown),r.isMobileSimulateMode!=="mobile"&&this.bind("mouseenter",this.onMouseEnter),this.bind("mouseover",this.onMouseOver),this.bind("mouseout",this.onMouseOut),this.player.root.addEventListener("click",this.onBodyClick,!0))}},{key:"focus",value:function(){this.player.controls.pauseAutoHide(),v.addClass(this.root,"active")}},{key:"blur",value:function(){this._disableBlur||(this.player.controls.recoverAutoHide(),v.removeClass(this.root,"active"))}},{key:"disableBlur",value:function(){this._disableBlur=!0}},{key:"enableBlur",value:function(){this._disableBlur=!1}},{key:"updateWidth",value:function(e,t,r,i){var u=this.config,h=this.player;if(!u.isCloseClickSeek||i!==0){var y=t=t>=h.duration?h.duration-u.endedDiff:Number(t).toFixed(1);this.updatePercent(r),this.updateTime(e),(i!==1||u.isDragingSeek&&h.config.mediaType!=="audio")&&(this._state.now=y,this._state.direc=y>h.currentTime?0:1,h.seek(y))}}},{key:"computeTime",value:function(e,t){var r,i,u=this.player,h=this.root.getBoundingClientRect(),y=h.width,k=h.height,R=h.top,G=h.left,X=t;u.rotateDeg===90?(r=k,i=R):(r=y,i=G);var J=X-i,oe=(J=J>r?r:J<0?0:J)/r;oe=oe<0?0:oe>1?1:oe;var ve=parseInt(oe*this.offsetDuration*1e3,10)/1e3;return{percent:oe,currentTime:ve,seekTime:v.getCurrentTimeByOffset(ve,u.timeSegments),offset:J,width:r,left:i,e}}},{key:"updateTime",value:function(e){var t=this.player,r=this.duration;e>r?e=r:e<0&&(e=0);var i=t.plugins.time;i&&i.updateTime(e)}},{key:"resetSeekState",value:function(){this.isProgressMoving=!1;var e=this.player.plugins.time;e&&e.resetActive()}},{key:"updatePercent",value:function(e,t){if(this.isProgressMoving=!0,!this.config.disable){e=e>1?1:e<0?0:e,this.progressBtn.style.left="".concat(100*e,"%"),this.innerList.update({played:e*this.offsetDuration},this.offsetDuration);var r=this.player.plugins.miniprogress;r&&r.update({played:e*this.offsetDuration},this.offsetDuration)}}},{key:"onTimeupdate",value:function(e){var t=this.player,r=this._state,i=this.offsetDuration;if(!t.isSeeking&&!this.isProgressMoving){if(r.now>-1){var u=parseInt(1e3*r.now,10)-parseInt(1e3*t.currentTime,10);if(r.direc===0&&u>300||r.direc===1&&u>-300)return void(r.now=-1);r.now=-1}var h=this.currentTime;h=v.adjustTimeByDuration(h,i,e),this.innerList.update({played:h},i),this.progressBtn.style.left="".concat(h/i*100,"%");var y=this.player.plugins.miniprogress;y&&y.update({played:h},i)}}},{key:"onCacheUpdate",value:function(e){var t=this.player,r=this.duration;if(t){var i=t.bufferedPoint.end;i=v.adjustTimeByDuration(i,r,e),this.innerList.update({cached:i},r);var u=this.player.plugins.miniprogress;u&&u.update({cached:i},r)}}},{key:"onReset",value:function(){this.innerList.update({played:0,cached:0},0);var e=this.player.plugins.miniprogress;e&&e.update({cached:0,played:0},0)}},{key:"destroy",value:function(){var e=this.player,t=e.controls;this.thumbnailPlugin=null,this.innerList.destroy(),this.innerList=null;var r=this.domEventType;r!=="touch"&&r!=="compatible"||(this.root.removeEventListener("touchstart",this.onMouseDown),this.root.removeEventListener("touchmove",this.onMouseMove),this.root.removeEventListener("touchend",this.onMouseUp),t&&(t.root&&t.root.removeEventListener("touchmove",v.stopPropagation),t.center&&t.center.removeEventListener("touchend",v.stopPropagation))),r!=="mouse"&&r!=="compatible"||(this.unbind("mousedown",this.onMouseDown),this.unbind("mouseenter",this.onMouseEnter),this.unbind("mousemove",this.onMoveOnly),this.unbind("mouseleave",this.onMouseLeave),document.removeEventListener("mousemove",this.onMouseMove,!1),document.removeEventListener("mouseup",this.onMouseUp,!1),e.root.removeEventListener("click",this.onBodyClick,!0))}},{key:"render",value:function(){if(!this.config.disable&&!this.playerConfig.isLive){var e=this.player.controls?this.player.controls.config.mode:"";return'\n    <xg-progress class="xgplayer-progress '.concat(e==="bottom"?"xgplayer-progress-bottom":"",'">\n      <xg-outer class="xgplayer-progress-outer">\n        <xg-progress-btn class="xgplayer-progress-btn"></xg-progress-btn>\n      </xg-outer>\n    </xg-progress>\n    ')}}}],[{key:"pluginName",get:function(){return"progress"}},{key:"defaultConfig",get:function(){return{position:Qe.CONTROLS_CENTER,index:0,disable:!1,isDragingSeek:!0,closeMoveSeek:!1,isPauseMoving:!1,isCloseClickSeek:!1,fragments:[{percent:1}],fragFocusClass:Pu.POINT,fragClass:"",fragAutoFocus:!1,miniMoveStep:5,miniStartStep:2,onMoveStart:function(){},onMoveEnd:function(){},endedDiff:.2}}},{key:"FRAGMENT_FOCUS_CLASS",get:function(){return Pu}}]),n}(tt),_r=function(o){S(n,o);var a=E(n);function n(){var e;d(this,n);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return g(b(e=a.call.apply(a,[this].concat(r))),"_onMouseenter",function(u){e.emit("icon_mouseenter",{pluginName:e.pluginName})}),g(b(e),"_onMouseLeave",function(u){e.emit("icon_mouseleave",{pluginName:e.pluginName})}),e}return _(n,[{key:"afterCreate",value:function(){this.bind("mouseenter",this._onMouseenter),this.bind("mouseleave",this._onMouseLeave)}},{key:"destroy",value:function(){this.unbind("mouseenter",this._onMouseenter),this.unbind("mouseleave",this._onMouseLeave)}}]),n}(tt),dy=function(o){S(n,o);var a=E(n);function n(){return d(this,n),a.apply(this,arguments)}return _(n,[{key:"afterCreate",value:function(){var e=this;P(T(n.prototype),"afterCreate",this).call(this);var t=this.player;this.config.disable||(this.initIcons(),this.btnClick=this.btnClick.bind(this),this.bind(["touchend","click"],this.btnClick),this.on([Re,we,We],function(){e.animate(t.paused)}),this.on(de,function(){e.animate(t.paused)}),this.animate(!0))}},{key:"registerIcons",value:function(){return{play:{icon:Kn,class:"xg-icon-play"},pause:{icon:Yn,class:"xg-icon-pause"}}}},{key:"btnClick",value:function(e){e.preventDefault(),e.stopPropagation();var t=this.player;return this.emitUserAction(e,"switch_play_pause",{prop:"paused",from:t.paused,to:!t.paused}),t.ended?t.replay():t.paused?(t.play(),this.animate(!1)):(t.pause(),this.animate(!0)),!1}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild(".xgplayer-icon",e.play),this.appendChild(".xgplayer-icon",e.pause)}},{key:"animate",value:function(e){if(this.player){var t=this.i18nKeys,r=this.find(".xg-tips");e?(this.setAttr("data-state","pause"),r&&this.changeLangTextKey(r,t.PLAY_TIPS)):(this.setAttr("data-state","play"),r&&this.changeLangTextKey(r,t.PAUSE_TIPS))}}},{key:"destroy",value:function(){P(T(n.prototype),"destroy",this).call(this),this.unbind(["touchend","click"],this.btnClick)}},{key:"render",value:function(){if(!this.config.disable)return'<xg-icon class="xgplayer-play">\n    <div class="xgplayer-icon">\n    </div>\n    '.concat(or(this,"PLAY_TIPS",this.playerConfig.isHideTips),"\n    </xg-icon>")}}],[{key:"pluginName",get:function(){return"play"}},{key:"defaultConfig",get:function(){return{position:Qe.CONTROLS_LEFT,index:0,disable:!1}}}]),n}(_r);function vy(){return new DOMParser().parseFromString('<svg width="32px" height="40px" viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <path d="M11.2374369,14 L17.6187184,7.61871843 C17.9604272,7.27700968 17.9604272,6.72299032 17.6187184,6.38128157 C17.2770097,6.03957281 16.7229903,6.03957281 16.3812816,6.38128157 L9.38128157,13.3812816 C9.03957281,13.7229903 9.03957281,14.2770097 9.38128157,14.6187184 L16.3812816,21.6187184 C16.7229903,21.9604272 17.2770097,21.9604272 17.6187184,21.6187184 C17.9604272,21.2770097 17.9604272,20.7229903 17.6187184,20.3812816 L11.2374369,14 L11.2374369,14 Z" fill="#FFFFFF"></path>\n    </g>\n</svg>',"image/svg+xml").firstChild}var py=function(o){S(n,o);var a=E(n);function n(){return d(this,n),a.apply(this,arguments)}return _(n,[{key:"afterCreate",value:function(){var e=this;this.initIcons(),this.onClick=function(t){t.preventDefault(),t.stopPropagation(),e.config.onClick(t)},this.bind(["click","touchend"],this.onClick)}},{key:"registerIcons",value:function(){return{screenBack:{icon:vy,class:"xg-fullscreen-back"}}}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild(this.root,e.screenBack)}},{key:"show",value:function(){v.addClass(this.root,"show")}},{key:"hide",value:function(){v.removeClass(this.root,"show")}},{key:"render",value:function(){return'<xg-icon class="xgplayer-back">\n    </xg-icon>'}}],[{key:"pluginName",get:function(){return"topbackicon"}},{key:"defaultConfig",get:function(){return{position:Qe.ROOT_TOP,index:0}}}]),n}(tt);function gy(){return new DOMParser().parseFromString('<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="2 -4 28 40">\n  <path fill="#fff" transform="scale(0.0320625 0.0320625)" d="M598 214h212v212h-84v-128h-128v-84zM726 726v-128h84v212h-212v-84h128zM214 426v-212h212v84h-128v128h-84zM298 598v128h128v84h-212v-212h84z"></path>\n</svg>\n',"image/svg+xml").firstChild}function yy(){return new DOMParser().parseFromString('<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="2 -4 28 40">\n  <path fill="#fff" transform="scale(0.0320625 0.0320625)" d="M682 342h128v84h-212v-212h84v128zM598 810v-212h212v84h-128v128h-84zM342 342v-128h84v212h-212v-84h128zM214 682v-84h212v212h-84v-128h-128z"></path>\n</svg>\n',"image/svg+xml").firstChild}var my=function(o){S(n,o);var a=E(n);function n(){var e;d(this,n);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return g(b(e=a.call.apply(a,[this].concat(r))),"_onOrientationChange",function(u){e.player.fullscreen&&e.config.rotateFullscreen&&(window.orientation===90||window.orientation===-90?e.player.setRotateDeg(0):e.player.setRotateDeg(90))}),e}return _(n,[{key:"afterCreate",value:function(){var e=this;P(T(n.prototype),"afterCreate",this).call(this);var t=this.config,r=this.playerConfig;if(!t.disable){t.target&&(this.playerConfig.fullscreenTarget=this.config.target);var i=v.getFullScreenEl();r.fullscreenTarget===i&&this.player.getFullscreen().catch(function(u){}),this.initIcons(),this.handleFullscreen=this.hook("fullscreenChange",this.toggleFullScreen,{pre:function(u){var h=e.player.fullscreen;e.emitUserAction(u,"switch_fullscreen",{prop:"fullscreen",from:h,to:!h})}}),this.bind(".xgplayer-fullscreen",["touchend","click"],this.handleFullscreen),this.on(Pe,function(u){var h=e.find(".xg-tips");h&&e.changeLangTextKey(h,u?e.i18nKeys.EXITFULLSCREEN_TIPS:e.i18nKeys.FULLSCREEN_TIPS),e.animate(u)}),this.config.needBackIcon&&(this.topBackIcon=this.player.registerPlugin({plugin:py,options:{config:{onClick:function(u){e.handleFullscreen(u)}}}})),D.device==="mobile"&&window.addEventListener("orientationchange",this._onOrientationChange)}}},{key:"registerIcons",value:function(){return{fullscreen:{icon:gy,class:"xg-get-fullscreen"},exitFullscreen:{icon:yy,class:"xg-exit-fullscreen"}}}},{key:"destroy",value:function(){P(T(n.prototype),"destroy",this).call(this),this.unbind(".xgplayer-icon",D.device==="mobile"?"touchend":"click",this.handleFullscreen),D.device==="mobile"&&window.removeEventListener("orientationchange",this._onOrientationChange)}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild(".xgplayer-icon",e.fullscreen),this.appendChild(".xgplayer-icon",e.exitFullscreen)}},{key:"toggleFullScreen",value:function(e){e&&(e.preventDefault(),e.stopPropagation());var t=this.player,r=this.config;r.useCssFullscreen===!0||typeof r.useCssFullscreen=="function"&&r.useCssFullscreen()?(t.fullscreen?t.exitCssFullscreen():t.getCssFullscreen(),this.animate(t.fullscreen)):r.rotateFullscreen?(t.fullscreen?t.exitRotateFullscreen():t.getRotateFullscreen(),this.animate(t.fullscreen)):r.switchCallback&&typeof r.switchCallback=="function"?r.switchCallback(t.fullscreen):t.fullscreen?t.exitFullscreen():t.getFullscreen().catch(function(i){})}},{key:"animate",value:function(e){e?this.setAttr("data-state","full"):this.setAttr("data-state","normal"),this.topBackIcon&&(e?(this.topBackIcon.show(),this.hide()):(this.topBackIcon.hide(),this.show()))}},{key:"show",value:function(){P(T(n.prototype),"show",this).call(this)}},{key:"hide",value:function(){P(T(n.prototype),"hide",this).call(this)}},{key:"render",value:function(){if(!this.config.disable)return'<xg-icon class="xgplayer-fullscreen">\n    <div class="xgplayer-icon">\n    </div>\n    '.concat(or(this,"FULLSCREEN_TIPS",this.playerConfig.isHideTips),"\n    </xg-icon>")}}],[{key:"pluginName",get:function(){return"fullscreen"}},{key:"defaultConfig",get:function(){return{position:Qe.CONTROLS_RIGHT,index:0,useCssFullscreen:!1,rotateFullscreen:!1,switchCallback:null,target:null,disable:!1,needBackIcon:!1}}}]),n}(_r),_y=function(o){S(n,o);var a=E(n);function n(e){var t;return d(this,n),(t=a.call(this,e)).isActiving=!1,t}return _(n,[{key:"duration",get:function(){var e=this.player,t=e.offsetDuration,r=e.duration;return this.playerConfig.customDuration||t||r}},{key:"currentTime",get:function(){var e=this.player,t=e.offsetCurrentTime,r=e.currentTime;return t>=0?t:r}},{key:"timeOffset",get:function(){return this.playerConfig.timeOffset||0}},{key:"afterCreate",value:function(){var e=this,t=this.player.controls.config.mode;this.mode=t==="flex"?"flex":"normal",this.config.disable||(this.mode==="flex"&&(this.createCenterTime(),this.root.style.display="none"),this.durationDom=this.find(".time-duration"),this.timeDom=this.find(".time-current"),this.on([Me,pe,_e],function(){e.onTimeUpdate()}),this.on(ke,function(){e.onTimeUpdate(!0)}),this.on(We,function(){e.onReset()}))}},{key:"show",value:function(){if(this.mode==="flex")return this.centerCurDom&&(this.centerCurDom.style.display="block"),void(this.centerDurDom&&(this.centerDurDom.style.display="block"));this.root.style.display="block"}},{key:"hide",value:function(){if(this.mode==="flex")return this.centerCurDom&&(this.centerCurDom.style.display="none"),void(this.centerDurDom&&(this.centerDurDom.style.display="none"));this.root.style.display="none"}},{key:"onTimeUpdate",value:function(e){var t=this.player,r=this.config,i=this.duration;if(!r.disable&&!this.isActiving&&t.hasStart){var u=this.currentTime+this.timeOffset;u=v.adjustTimeByDuration(u,i,e),this.mode==="flex"?(this.centerCurDom.innerHTML=this.minWidthTime(v.format(u)),i!==1/0&&i>0&&(this.centerDurDom.innerHTML=v.format(i))):(this.timeDom.innerHTML=this.minWidthTime(v.format(u)),i!==1/0&&i>0&&(this.durationDom.innerHTML=v.format(i)))}}},{key:"onReset",value:function(){this.mode==="flex"?(this.centerCurDom.innerHTML=this.minWidthTime(v.format(0)),this.centerDurDom.innerHTML=v.format(0)):(this.timeDom.innerHTML=this.minWidthTime(v.format(0)),this.durationDom.innerHTML=v.format(0))}},{key:"createCenterTime",value:function(){var e=this.player;if(e.controls&&e.controls.center){var t=e.controls.center;this.centerCurDom=v.createDom("xg-icon","00:00",{},"xgplayer-time xg-time-left"),this.centerDurDom=v.createDom("xg-icon","00:00",{},"xgplayer-time xg-time-right"),t.children.length>0?t.insertBefore(this.centerCurDom,t.children[0]):t.appendChild(this.centerCurDom),t.appendChild(this.centerDurDom)}}},{key:"afterPlayerInit",value:function(){var e=this.config;this.duration===1/0||this.playerConfig.isLive?(v.hide(this.durationDom),v.hide(this.timeDom),v.hide(this.find(".time-separator")),v.show(this.find(".time-live-tag"))):v.hide(this.find(".time-live-tag")),e.hide?this.hide():this.show()}},{key:"changeLiveState",value:function(e){e?(v.hide(this.durationDom),v.hide(this.timeDom),v.hide(this.find(".time-separator")),v.show(this.find(".time-live-tag"))):(v.hide(this.find(".time-live-tag")),v.show(this.find(".time-separator")),v.show(this.durationDom),v.show(this.timeDom))}},{key:"updateTime",value:function(e){this.isActiving=!0,!e&&e!==0||e>this.duration||(this.mode!=="flex"?this.timeDom.innerHTML=this.minWidthTime(v.format(e)):this.centerCurDom.innerHTML=this.minWidthTime(v.format(e)))}},{key:"minWidthTime",value:function(e){return e.split(":").map(function(t){return'<span class="time-min-width">'.concat(t,"</span>")}).join(":")}},{key:"resetActive",value:function(){var e=this,t=this.player,r=function(){e.isActiving=!1};this.off(pe,r),t.isSeeking?this.once(pe,r):this.isActiving=!1}},{key:"destroy",value:function(){var e=this.player.controls.center;this.centerCurDom&&e.removeChild(this.centerCurDom),this.centerCurDom=null,this.centerDurDom&&e.removeChild(this.centerDurDom),this.centerDurDom=null}},{key:"render",value:function(){if(!this.config.disable)return'<xg-icon class="xgplayer-time">\n    <span class="time-current">00:00</span>\n    <span class="time-separator">/</span>\n    <span class="time-duration">00:00</span>\n    <span class="time-live-tag">'.concat(this.i18n.LIVE_TIP,"</span>\n    </xg-icon>")}}],[{key:"pluginName",get:function(){return"time"}},{key:"defaultConfig",get:function(){return{position:Qe.CONTROLS_LEFT,index:2,disable:!1}}}]),n}(tt),by=function(o){S(n,o);var a=E(n);function n(){var e;d(this,n);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return g(b(e=a.call.apply(a,[this].concat(r))),"_onDurationChange",function(){e.updateSegments();var u=e.player,h=u.currentTime,y=u.timeSegments;if(e._checkIfEnabled(y)){var k=v.getIndexByTime(h,y),R=v.getOffsetCurrentTime(h,y,k);e.player.offsetCurrentTime=R,e.changeIndex(k,y)}}),g(b(e),"_onLoadedData",function(){var u=e.player.timeSegments;if(e._checkIfEnabled(u)){var h=v.getOffsetCurrentTime(0,u);e.player.offsetCurrentTime=h,e.changeIndex(0,u),e.curPos.start>0&&(e.player.currentTime=e.curPos.start)}}),g(b(e),"_onTimeupdate",function(){var u=e.player,h=u.currentTime,y=u.timeSegments;if(e._checkIfEnabled(y)){var k=y.length;e.lastCurrentTime=h;var R=v.getIndexByTime(h,y);R!==e.curIndex&&e.changeIndex(R,y);var G=v.getOffsetCurrentTime(h,y,R);if(e.player.offsetCurrentTime=G,e.curPos){var X=e.curPos,J=X.start,oe=X.end;h<J?e.player.currentTime=J:h>oe&&R>=k-1&&e.player.pause()}}}),g(b(e),"_onSeeking",function(){var u=e.player,h=u.currentTime,y=u.timeSegments;if(e._checkIfEnabled(y))if(h<y[0].start)e.player.currentTime=y[0].start;else if(h>y[y.length-1].end)e.player.currentTime=y[y.length-1].end;else{var k=v.getIndexByTime(h,y);if(k>=0){var R=e.getSeekTime(h,e.lastCurrentTime,k,y);R>=0&&(e.player.currentTime=R)}}}),g(b(e),"_onPlay",function(){var u=e.player,h=u.currentTime,y=u.timeSegments;e._checkIfEnabled(y)&&h>=y[y.length-1].end&&(e.player.currentTime=y[0].start)}),e}return _(n,[{key:"afterCreate",value:function(){this.curIndex=-1,this.curPos=null,this.lastCurrentTime=0,this.updateSegments(),this.on(Me,this._onDurationChange),this.on(He,this._onLoadedData),this.on(_e,this._onTimeupdate),this.on(ce,this._onSeeking),this.on(de,this._onPlay)}},{key:"setConfig",value:function(e){var t=this;if(e){var r=Object.keys(e);r.length<1||(r.forEach(function(i){t.config[i]=e[i]}),this.updateSegments())}}},{key:"updateSegments",value:function(){var e=this.config,t=e.disable,r=e.segments,i=this.player;if(t||!r||r.length===0)i.timeSegments=[],i.offsetDuration=0,i.offsetCurrentTime=-1;else{var u=this.formatTimeSegments(r,i.duration);i.timeSegments=u,i.offsetDuration=u.length>0?u[u.length-1].duration:0}}},{key:"formatTimeSegments",value:function(e,t){var r=[];return e?(e.sort(function(i,u){return i.start-u.start}),e.forEach(function(i,u){var h={};if(h.start=i.start<0?0:i.start,h.end=t>0&&i.end>t?t:i.end,!(t>0&&h.start>t)){r.push(h);var y=h.end-h.start;if(u===0)h.offset=i.start,h.cTime=0,h.segDuration=y,h.duration=y;else{var k=r[u-1];h.offset=k.offset+(h.start-k.end),h.cTime=k.duration+k.cTime,h.segDuration=y,h.duration=k.duration+y}}}),r):[]}},{key:"getSeekTime",value:function(e,t,r,i){var u=-1,h=i[r],y=h.start,k=h.end;if(e>=y&&e<=k)return u;var R=e-t;if(R<0&&e<y){var G=t>y?t-y:0;return u=r-1>=0?i[r-1].end+R+G:0}return-1}},{key:"_checkIfEnabled",value:function(e){return!(!e||e.length<1)}},{key:"changeIndex",value:function(e,t){this.curIndex=e,e>=0&&t.length>0?this.curPos=t[e]:this.curPos=null}}],[{key:"pluginName",get:function(){return"TimeSegmentsControls"}},{key:"defaultConfig",get:function(){return{disable:!0,segments:[]}}}]),n}(Te);function Sy(){return new DOMParser().parseFromString('<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="0 -10 28 40">\n  <path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z"></path>\n  <path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M940.632 837.632l-72.192-72.192c65.114-64.745 105.412-154.386 105.412-253.44s-40.299-188.695-105.396-253.424l-0.016-0.016 72.192-72.192c83.639 83.197 135.401 198.37 135.401 325.632s-51.762 242.434-135.381 325.612l-0.020 0.020zM795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021z"></path>\n</svg>\n',"image/svg+xml").firstChild}function Ty(){return new DOMParser().parseFromString('<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="0 -10 28 40">\n  <path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z"></path>\n  <path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021zM795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021z"></path>\n</svg>\n',"image/svg+xml").firstChild}function ky(){return new DOMParser().parseFromString('<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="0 -10 28 40">\n  <path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z"></path>\n  <path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M920.4 439.808l-108.544-109.056-72.704 72.704 109.568 108.544-109.056 108.544 72.704 72.704 108.032-109.568 108.544 109.056 72.704-72.704-109.568-108.032 109.056-108.544-72.704-72.704-108.032 109.568z"></path>\n</svg>\n',"image/svg+xml").firstChild}var Ey=function(o){S(n,o);var a=E(n);function n(){var e;d(this,n);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return g(b(e=a.call.apply(a,[this].concat(r))),"onBarMousedown",function(u){var h=b(e).player,y=e.find(".xgplayer-bar");v.event(u);var k=y.getBoundingClientRect(),R=v.getEventPos(u,h.zoom),G=k.height-(R.clientY-k.top);if(R.h=G,R.barH=k.height,e.pos=R,!(G<-2))return e.updateVolumePos(G,u),document.addEventListener("mouseup",e.onBarMouseUp),e._d.isStart=!0,!1}),g(b(e),"onBarMouseMove",function(u){var h=b(e)._d;if(h.isStart){var y=b(e),k=y.pos,R=y.player;u.preventDefault(),u.stopPropagation(),v.event(u);var G=v.getEventPos(u,R.zoom);h.isMoving=!0;var X=k.h-G.clientY+k.clientY;X>k.barH||e.updateVolumePos(X,u)}}),g(b(e),"onBarMouseUp",function(u){v.event(u),document.removeEventListener("mouseup",e.onBarMouseUp);var h=b(e)._d;h.isStart=!1,h.isMoving=!1}),g(b(e),"onMouseenter",function(u){e._d.isActive=!0,e.focus(),e.emit("icon_mouseenter",{pluginName:e.pluginName})}),g(b(e),"onMouseleave",function(u){e._d.isActive=!1,e.unFocus(100,!1,u),e.emit("icon_mouseleave",{pluginName:e.pluginName})}),g(b(e),"onVolumeChange",function(u){if(e.player){var h=e.player,y=h.muted,k=h.volume;e._d.isMoving||(e.find(".xgplayer-drag").style.height=y||k===0?"4px":"".concat(100*k,"%"),e.config.showValueLabel&&e.updateVolumeValue()),e.animate(y,k)}}),e}return _(n,[{key:"registerIcons",value:function(){return{volumeSmall:{icon:Ty,class:"xg-volume-small"},volumeLarge:{icon:Sy,class:"xg-volume"},volumeMuted:{icon:ky,class:"xg-volume-mute"}}}},{key:"afterCreate",value:function(){var e=this;if(this._timerId=null,this._d={isStart:!1,isMoving:!1,isActive:!1},!this.config.disable){this.initIcons();var t=this.playerConfig,r=t.commonStyle,i=t.volume;r.volumeColor&&(this.find(".xgplayer-drag").style.backgroundColor=r.volumeColor),this.changeMutedHandler=this.hook("mutedChange",function(u){e.changeMuted(u)},{pre:function(u){u.preventDefault(),u.stopPropagation()}}),this._onMouseenterHandler=this.hook("mouseenter",this.onMouseenter),this._onMouseleaveHandler=this.hook("mouseleave",this.onMouseleave),D.device!=="mobile"&&this.playerConfig.isMobileSimulateMode!=="mobile"&&(this.bind("mouseenter",this._onMouseenterHandler),this.bind(["blur","mouseleave"],this._onMouseleaveHandler),this.bind(".xgplayer-slider","mousedown",this.onBarMousedown),this.bind(".xgplayer-slider","mousemove",this.onBarMouseMove),this.bind(".xgplayer-slider","mouseup",this.onBarMouseUp)),this.bind(".xgplayer-icon",["touchend","click"],this.changeMutedHandler),this.on(Ye,this.onVolumeChange),this.once(He,this.onVolumeChange),v.typeOf(i)!=="Number"&&(this.player.volume=this.config.default),this.onVolumeChange()}}},{key:"updateVolumePos",value:function(e,t){var r=this.player,i=this.find(".xgplayer-drag"),u=this.find(".xgplayer-bar");if(u&&i){var h=parseInt(e/u.getBoundingClientRect().height*1e3,10);i.style.height="".concat(e,"px");var y=Math.max(Math.min(h/1e3,1),0),k={volume:{from:r.volume,to:y}};r.muted&&(k.muted={from:!0,to:!1}),this.emitUserAction(t,"change_volume",{muted:r.muted,volume:r.volume,props:k}),r.volume=Math.max(Math.min(h/1e3,1),0),r.muted&&(r.muted=!1),this.config.showValueLabel&&this.updateVolumeValue()}}},{key:"updateVolumeValue",value:function(){var e=this.player,t=e.volume,r=e.muted,i=this.find(".xgplayer-value-label"),u=Math.max(Math.min(t,1),0);i.innerText=r?0:Math.ceil(100*u)}},{key:"focus",value:function(){this.player.focus({autoHide:!1}),this._timerId&&(v.clearTimeout(this,this._timerId),this._timerId=null),v.addClass(this.root,"slide-show")}},{key:"unFocus",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100,r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],i=arguments.length>2?arguments[2]:void 0,u=this._d,h=this.player;u.isActive||(this._timerId&&(v.clearTimeout(this,this._timerId),this._timerId=null),this._timerId=v.setTimeout(this,function(){u.isActive||(r?h.blur():h.focus(),v.removeClass(e.root,"slide-show"),u.isStart&&e.onBarMouseUp(i)),e._timerId=null},t))}},{key:"changeMuted",value:function(e){e&&e.stopPropagation();var t=this.player;this._d.isStart&&this.onBarMouseUp(e),this.emitUserAction(e,"change_muted",{muted:t.muted,volume:t.volume,props:{muted:{from:t.muted,to:!t.muted}}}),t.volume>0&&(t.muted=!t.muted),t.volume<.01&&(t.volume=this.config.miniVolume)}},{key:"animate",value:function(e,t){e||t===0?this.setAttr("data-state","mute"):t<.5&&this.icons.volumeSmall?this.setAttr("data-state","small"):this.setAttr("data-state","normal")}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild(".xgplayer-icon",e.volumeSmall),this.appendChild(".xgplayer-icon",e.volumeLarge),this.appendChild(".xgplayer-icon",e.volumeMuted)}},{key:"destroy",value:function(){this._timerId&&(v.clearTimeout(this,this._timerId),this._timerId=null),this.unbind("mouseenter",this.onMouseenter),this.unbind(["blur","mouseleave"],this.onMouseleave),this.unbind(".xgplayer-slider","mousedown",this.onBarMousedown),this.unbind(".xgplayer-slider","mousemove",this.onBarMouseMove),this.unbind(".xgplayer-slider","mouseup",this.onBarMouseUp),document.removeEventListener("mouseup",this.onBarMouseUp),this.unbind(".xgplayer-icon",D.device==="mobile"?"touchend":"click",this.changeMutedHandler)}},{key:"render",value:function(){if(!this.config.disable){var e=this.config.default||this.player.volume,t=this.config.showValueLabel;return'\n    <xg-icon class="xgplayer-volume" data-state="normal">\n      <div class="xgplayer-icon">\n      </div>\n      <xg-slider class="xgplayer-slider">\n        '.concat(t?'<div class="xgplayer-value-label">'.concat(100*e,"</div>"):"",'\n        <div class="xgplayer-bar">\n          <xg-drag class="xgplayer-drag" style="height: ').concat(100*e,'%"></xg-drag>\n        </div>\n      </xg-slider>\n    </xg-icon>')}}}],[{key:"pluginName",get:function(){return"volume"}},{key:"defaultConfig",get:function(){return{position:Qe.CONTROLS_RIGHT,index:1,disable:!1,showValueLabel:!1,default:.6,miniVolume:.2}}}]),n}(tt);function Cy(){return new DOMParser().parseFromString('<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="-4 -6 40 40" fill="none">\n  <g clip-path="url(#clip0)">\n    <path transform="scale(1.5 1.5)" d="M11.6665 9.16663H4.1665C2.78579 9.16663 1.6665 10.2859 1.6665 11.6666V15.8333C1.6665 17.214 2.78579 18.3333 4.1665 18.3333H11.6665C13.0472 18.3333 14.1665 17.214 14.1665 15.8333V11.6666C14.1665 10.2859 13.0472 9.16663 11.6665 9.16663Z" fill="white"/>\n    <path transform="scale(1.5 1.5)" fill-rule="evenodd" clip-rule="evenodd" d="M3.88148 4.06298C3.75371 4.21005 3.67667 4.40231 3.67749 4.61242C3.67847 4.87253 3.79852 5.10435 3.98581 5.25646L6.99111 8.05895C7.32771 8.37283 7.85502 8.35443 8.16891 8.01782C8.48279 7.68122 8.46437 7.15391 8.12778 6.84003L6.62061 5.43457L9.8198 5.4224C9.82848 5.42239 9.8372 5.42221 9.84591 5.4219C10.9714 5.38233 12.0885 5.6285 13.0931 6.13744C14.0976 6.64635 14.957 7.40148 15.5908 8.33234C16.2246 9.2632 16.6122 10.3394 16.7177 11.4606C16.823 12.5819 16.6427 13.7115 16.1934 14.7442C16.0098 15.1661 16.203 15.6571 16.6251 15.8408C17.0471 16.0243 17.5381 15.8311 17.7216 15.4091C18.2833 14.1183 18.5087 12.7063 18.3771 11.3047C18.2453 9.90318 17.7607 8.55792 16.9684 7.39433C16.1761 6.23073 15.1021 5.28683 13.8463 4.65065C12.5946 4.01651 11.203 3.70872 9.80072 3.75583L6.43415 3.76862L7.96326 2.12885C8.27715 1.79225 8.25872 1.26494 7.92213 0.951061C7.58553 0.63718 7.05822 0.655585 6.74433 0.99219L3.90268 4.0395C3.89545 4.04724 3.88841 4.05509 3.88154 4.06303L3.88148 4.06298Z" fill="white"/>\n  </g>\n  <defs>\n    <clipPath id="clip0">\n      <rect width="40" height="40" fill="white"/>\n    </clipPath>\n  </defs>\n</svg>\n',"image/svg+xml").firstChild}var wy=function(o){S(n,o);var a=E(n);function n(e){var t;return d(this,n),(t=a.call(this,e)).rotateDeg=t.config.rotateDeg||0,t}return _(n,[{key:"afterCreate",value:function(){var e=this;if(!this.config.disable){P(T(n.prototype),"afterCreate",this).call(this),this.appendChild(".xgplayer-icon",this.icons.rotate),this.onBtnClick=this.onBtnClick.bind(this),this.bind(".xgplayer-icon",["click","touchend"],this.onBtnClick),this.on(ge,function(){e.rotateDeg&&e.config.innerRotate&&v.setTimeout(e,function(){e.updateRotateDeg(e.rotateDeg,e.config.innerRotate)},100)});var t=this.player.root;this.rootWidth=t.style.width||t.offsetWidth||t.clientWidth,this.rootHeight=t.style.height||t.offsetHeight||t.clientHeight,this.rotateDeg&&this.updateRotateDeg(this.rotateDeg,this.config.innerRotate)}}},{key:"destroy",value:function(){P(T(n.prototype),"destroy",this).call(this),this.unbind(".xgplayer-icon",["click","touchend"],this.onBtnClick)}},{key:"onBtnClick",value:function(e){e.preventDefault(),e.stopPropagation(),this.emitUserAction(e,"rotate"),this.rotate(this.config.clockwise,this.config.innerRotate,1)}},{key:"updateRotateDeg",value:function(e,t){if(e||(e=0),t)this.player.videoRotateDeg=e;else{var r=this.player,i=this.rootWidth,u=this.rootHeight,h=r.root,y=r.innerContainer,k=r.media,R=h.offsetWidth,G=y&&t?y.offsetHeight:h.offsetHeight,X=i,J=u,oe=0,ve=0;e!==.75&&e!==.25||(X="".concat(G,"px"),J="".concat(R,"px"),oe=-(G-R)/2,ve=-(R-G)/2);var fe="translate(".concat(oe,"px,").concat(ve,"px) rotate(").concat(e,"turn)"),Ce={transformOrigin:"center center",transform:fe,webKitTransform:fe,height:J,width:X},Be=t?k:h,Ze=t?r.getPlugin("poster"):null;Object.keys(Ce).map(function(xe){Be.style[xe]=Ce[xe],Ze&&Ze.root&&(Ze.root.style[xe]=Ce[xe])})}}},{key:"rotate",value:function(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0],t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=this.player;this.rotateDeg||(this.rotateDeg=0);var u=e?1:-1;this.rotateDeg=(this.rotateDeg+1+.25*u*r)%1,this.updateRotateDeg(this.rotateDeg,t),i.emit(je,360*this.rotateDeg)}},{key:"registerIcons",value:function(){return{rotate:Cy}}},{key:"render",value:function(){if(!this.config.disable)return'\n    <xg-icon class="xgplayer-rotate">\n      <div class="xgplayer-icon">\n      </div>\n      '.concat(or(this,"ROTATE_TIPS",this.playerConfig.isHideTips),"\n    </xg-icon>")}}],[{key:"pluginName",get:function(){return"rotate"}},{key:"defaultConfig",get:function(){return{position:Qe.CONTROLS_RIGHT,index:6,innerRotate:!0,clockwise:!1,rotateDeg:0,disable:!1}}}]),n}(_r);function Iy(){return new DOMParser().parseFromString('<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path fill-rule="evenodd" clip-rule="evenodd"\n    d="M16.5 4.3H3.5C3.38954 4.3 3.3 4.38954 3.3 4.5V15.5C3.3 15.6105 3.38954 15.7 3.5 15.7H8.50005L8.50006 17.5H3.5C2.39543 17.5 1.5 16.6046 1.5 15.5V4.5C1.5 3.39543 2.39543 2.5 3.5 2.5H16.5C17.6046 2.5 18.5 3.39543 18.5 4.5V8.5H16.7V4.5C16.7 4.38954 16.6105 4.3 16.5 4.3ZM12 11.5C11.4477 11.5 11 11.9477 11 12.5L11 16.5C11 17.0523 11.4478 17.5 12 17.5H17.5C18.0523 17.5 18.5 17.0523 18.5 16.5L18.5 12.5C18.5 11.9477 18.0523 11.5 17.5 11.5H12Z"\n    fill="white" />\n</svg>',"image/svg+xml").firstChild}function xy(){return new DOMParser().parseFromString('<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path fill-rule="evenodd" clip-rule="evenodd"\n    d="M16.5 4.3H3.5C3.38954 4.3 3.3 4.38954 3.3 4.5V15.5C3.3 15.6105 3.38954 15.7 3.5 15.7H8.50005L8.50006 17.5H3.5C2.39543 17.5 1.5 16.6046 1.5 15.5V4.5C1.5 3.39543 2.39543 2.5 3.5 2.5H16.5C17.6046 2.5 18.5 3.39543 18.5 4.5V8.5H16.7V4.5C16.7 4.38954 16.6105 4.3 16.5 4.3ZM12 11.5C11.4477 11.5 11 11.9477 11 12.5L11 16.5C11 17.0523 11.4478 17.5 12 17.5H17.5C18.0523 17.5 18.5 17.0523 18.5 16.5L18.5 12.5C18.5 11.9477 18.0523 11.5 17.5 11.5H12Z"\n    fill="white" />\n  <path fill-rule="evenodd" clip-rule="evenodd"\n    d="M9.4998 7.7C9.77595 7.7 9.9998 7.47614 9.9998 7.2V6.5C9.9998 6.22386 9.77595 6 9.4998 6H5.5402L5.52754 6.00016H5.5C5.22386 6.00016 5 6.22401 5 6.50016V10.4598C5 10.7359 5.22386 10.9598 5.5 10.9598H6.2C6.47614 10.9598 6.7 10.7359 6.7 10.4598V8.83005L8.76983 10.9386C8.96327 11.1357 9.27984 11.1386 9.47691 10.9451L9.97645 10.4548C10.1735 10.2613 10.1764 9.94476 9.983 9.7477L7.97289 7.7H9.4998Z"\n    fill="white" />\n</svg>',"image/svg+xml").firstChild}var Lu="picture-in-picture",Du="inline",Mu="fullscreen",Ay=function(o){S(n,o);var a=E(n);function n(){var e;d(this,n);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return g(b(e=a.call.apply(a,[this].concat(r))),"switchPIP",function(u){if(!e.isPIPAvailable())return!1;u.stopPropagation&&u.stopPropagation(),e.isPip?(e.exitPIP(),e.emitUserAction(u,"change_pip",{props:"pip",from:!0,to:!1}),e.setAttr("data-state","normal")):e.player.media.readyState===4&&(e.requestPIP(),e.emitUserAction(u,"change_pip",{props:"pip",from:!1,to:!0}),e.setAttr("data-state","pip"))}),e}return _(n,[{key:"beforeCreate",value:function(e){typeof e.player.config.pip=="boolean"&&(e.config.showIcon=e.player.config.pip)}},{key:"afterCreate",value:function(){var e=this;this.isPIPAvailable()&&(P(T(n.prototype),"afterCreate",this).call(this),this.pMode=Du,this.initPipEvents(),this.config.showIcon&&this.initIcons(),this.once(Ee,function(){e.config.showIcon&&(v.removeClass(e.find(".xgplayer-icon"),"xg-icon-disable"),e.bind("click",e.switchPIP))}))}},{key:"registerIcons",value:function(){return{pipIcon:{icon:Iy,class:"xg-get-pip"},pipIconExit:{icon:xy,class:"xg-exit-pip"}}}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild(".xgplayer-icon",e.pipIcon),this.appendChild(".xgplayer-icon",e.pipIconExit)}},{key:"initPipEvents",value:function(){var e=this,t=this.player;this.leavePIPCallback=function(){var r=t.paused;v.setTimeout(e,function(){!r&&t.mediaPlay()},0),!r&&t.mediaPlay(),e.setAttr("data-state","normal"),t.emit(De,!1)},this.enterPIPCallback=function(r){t.emit(De,!0),e.pipWindow=r.pictureInPictureWindow,e.setAttr("data-state","pip")},this.onWebkitpresentationmodechanged=function(r){var i=t.media.webkitPresentationMode;e.pMode===Mu&&i!==Mu&&t.onFullscreenChange(null,!1),e.pMode=i,i===Lu?e.enterPIPCallback(r):i===Du&&e.leavePIPCallback(r)},t.media&&(t.media.addEventListener("enterpictureinpicture",this.enterPIPCallback),t.media.addEventListener("leavepictureinpicture",this.leavePIPCallback),n.checkWebkitSetPresentationMode(t.media)&&t.media.addEventListener("webkitpresentationmodechanged",this.onWebkitpresentationmodechanged))}},{key:"requestPIP",value:function(){var e=this.player,t=this.playerConfig;if(this.isPIPAvailable()&&!this.isPip)try{var r=t.poster;return r&&(e.media.poster=v.typeOf(r)==="String"?r:r.poster),n.checkWebkitSetPresentationMode(e.media)?e.media.webkitSetPresentationMode("picture-in-picture"):e.media.requestPictureInPicture(),!0}catch(i){return console.error("requestPiP",i),!1}}},{key:"exitPIP",value:function(){var e=this.player;try{return this.isPIPAvailable()&&this.isPip&&(n.checkWebkitSetPresentationMode(e.media)?e.media.webkitSetPresentationMode("inline"):document.exitPictureInPicture()),!0}catch(t){return console.error("exitPIP",t),!1}}},{key:"isPip",get:function(){var e=this.player;return document.pictureInPictureElement&&document.pictureInPictureElement===e.media||e.media.webkitPresentationMode===Lu}},{key:"isPIPAvailable",value:function(){var e=this.player.media;return(v.typeOf(document.pictureInPictureEnabled)!=="Boolean"||document.pictureInPictureEnabled)&&(v.typeOf(e.disablePictureInPicture)==="Boolean"&&!e.disablePictureInPicture||e.webkitSupportsPresentationMode&&v.typeOf(e.webkitSetPresentationMode)==="Function")}},{key:"destroy",value:function(){P(T(n.prototype),"destroy",this).call(this);var e=this.player;e.media.removeEventListener("enterpictureinpicture",this.enterPIPCallback),e.media.removeEventListener("leavepictureinpicture",this.leavePIPCallback),n.checkWebkitSetPresentationMode(e.media)&&e.media.removeEventListener("webkitpresentationmodechanged",this.onWebkitpresentationmodechanged),this.exitPIP(),this.unbind("click",this.btnClick)}},{key:"render",value:function(){if(this.config.showIcon&&this.isPIPAvailable())return'<xg-icon class="xgplayer-pip">\n      <div class="xgplayer-icon xg-icon-disable">\n      </div>\n      '.concat(or(this,"PIP",this.playerConfig.isHideTips),"\n    </xg-icon>")}}],[{key:"pluginName",get:function(){return"pip"}},{key:"defaultConfig",get:function(){return{position:Qe.CONTROLS_RIGHT,index:6,showIcon:!1}}},{key:"checkWebkitSetPresentationMode",value:function(e){return typeof e.webkitSetPresentationMode=="function"}}]),n}(_r);function Ry(){return new DOMParser().parseFromString('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="40" viewBox="10 0 24 40">\n  <path transform="scale(0.038 0.028)" d="M800 380v768h-128v-352l-320 320v-704l320 320v-352z"></path>\n</svg>\n',"image/svg+xml").firstChild}var Oy=function(o){S(n,o);var a=E(n);function n(e){var t;return d(this,n),g(b(t=a.call(this,e)),"playNext",function(r){var i=b(t).player;r.preventDefault(),r.stopPropagation(),t.idx+1<t.config.urlList.length?(t.idx++,t.nextHandler(t.config.urlList[t.idx],t.idx),i.emit(st,t.idx+1)):(t.nextHandler(),i.emit(st))}),t.idx=-1,t}return _(n,[{key:"afterCreate",value:function(){this.config.urlList&&this.config.urlList.length!==0&&(this.appendChild(".xgplayer-icon",this.icons.playNext),this.initEvents())}},{key:"registerIcons",value:function(){return{playNext:Ry}}},{key:"initEvents",value:function(){this.nextHandler=this.hook("nextClick",this.changeSrc);var e=D.device==="mobile"?"touchend":"click";this.bind(e,this.playNext),this.show()}},{key:"changeSrc",value:function(e){var t=this.player;e&&(t.pause(),t.currentTime=0,t.switchURL?t.switchURL(e):t.src=e,t.config.url=e,t.play())}},{key:"destroy",value:function(){this.unbind(["touchend","click"],this.playNext)}},{key:"render",value:function(){if(this.config.urlList&&this.config.urlList.length!==0)return'\n     <xg-icon class="xgplayer-playnext">\n      <div class="xgplayer-icon">\n      </div>\n      '.concat(or(this,"PLAYNEXT_TIPS",this.playerConfig.isHideTips),"\n     </xg-icon>\n    ")}}],[{key:"pluginName",get:function(){return"playNext"}},{key:"defaultConfig",get:function(){return{position:Qe.CONTROLS_LEFT,index:1,url:null,urlList:[]}}}]),n}(tt),Nu={exports:{}};Nu.exports=function o(a,n,e){var t,r,i=window,u="application/octet-stream",h=e||u,y=a,k=!n&&!e&&y,R=document.createElement("a"),G=function(xe){return String(xe)},X=i.Blob||i.MozBlob||i.WebKitBlob||G,J=n||"download";if(X=X.call?X.bind(i):Blob,String(this)==="true"&&(h=(y=[y,h])[0],y=y[1]),k&&k.length<2048&&(J=k.split("/").pop().split("?")[0],R.href=k,R.href.indexOf(k)!==-1)){var oe=new XMLHttpRequest;return oe.open("GET",k,!0),oe.responseType="blob",oe.onload=function(xe){o(xe.target.response,J,u)},setTimeout(function(){oe.send()},0),oe}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(y)){if(!(y.length>2096103424e-3&&X!==G))return navigator.msSaveBlob?navigator.msSaveBlob(Be(y),J):Ze(y);h=(y=Be(y)).type||u}else if(/([\x80-\xff])/.test(y)){for(var ve=0,fe=new Uint8Array(y.length),Ce=fe.length;ve<Ce;++ve)fe[ve]=y.charCodeAt(ve);y=new X([fe],{type:h})}function Be(xe){for(var dt=xe.split(/[:;,]/),Et=dt[1],sr=(dt[2]=="base64"?atob:decodeURIComponent)(dt.pop()),Sr=sr.length,Sn=0,Vu=new Uint8Array(Sr);Sn<Sr;++Sn)Vu[Sn]=sr.charCodeAt(Sn);return new X([Vu],{type:Et})}function Ze(xe,dt){if("download"in R)return R.href=xe,R.setAttribute("download",J),R.className="download-js-link",R.innerHTML="downloading...",R.style.display="none",document.body.appendChild(R),setTimeout(function(){R.click(),document.body.removeChild(R),dt===!0&&setTimeout(function(){i.URL.revokeObjectURL(R.href)},250)},66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(xe)&&(xe="data:"+xe.replace(/^data:([\w\/\-\+]+)/,u)),window.open(xe)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=xe),!0;var Et=document.createElement("iframe");document.body.appendChild(Et),!dt&&/^data:/.test(xe)&&(xe="data:"+xe.replace(/^data:([\w\/\-\+]+)/,u)),Et.src=xe,setTimeout(function(){document.body.removeChild(Et)},333)}if(t=y instanceof X?y:new X([y],{type:h}),navigator.msSaveBlob)return navigator.msSaveBlob(t,J);if(i.URL)Ze(i.URL.createObjectURL(t),!0);else{if(typeof t=="string"||t.constructor===G)try{return Ze("data:"+h+";base64,"+i.btoa(t))}catch(xe){return Ze("data:"+h+","+encodeURIComponent(t))}(r=new FileReader).onload=function(xe){Ze(this.result)},r.readAsDataURL(t)}return!0};var Py=Nu.exports;function Ly(){return new DOMParser().parseFromString('<svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" viewBox="0 0 24 24">\n  <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n    <g transform="translate(-488.000000, -340.000000)" fill="#FFFFFF">\n      <g id="Group-2">\n        <g id="volme_big-copy" transform="translate(488.000000, 340.000000)">\n          <rect id="Rectangle-18" x="11" y="4" width="2" height="12" rx="1"></rect>\n          <rect id="Rectangle-2" x="3" y="18" width="18" height="2" rx="1"></rect>\n          <rect id="Rectangle-2" transform="translate(4.000000, 17.500000) rotate(90.000000) translate(-4.000000, -17.500000) " x="1.5" y="16.5" width="5" height="2" rx="1"></rect><rect id="Rectangle-2-Copy-3" transform="translate(20.000000, 17.500000) rotate(90.000000) translate(-20.000000, -17.500000) " x="17.5" y="16.5" width="5" height="2" rx="1"></rect>\n          <path d="M9.48791171,8.26502656 L9.48791171,14.2650266 C9.48791171,14.8173113 9.04019646,15.2650266 8.48791171,15.2650266 C7.93562696,15.2650266 7.48791171,14.8173113 7.48791171,14.2650266 L7.48791171,7.26502656 C7.48791171,6.71274181 7.93562696,6.26502656 8.48791171,6.26502656 L15.4879117,6.26502656 C16.0401965,6.26502656 16.4879117,6.71274181 16.4879117,7.26502656 C16.4879117,7.81731131 16.0401965,8.26502656 15.4879117,8.26502656 L9.48791171,8.26502656 Z" id="Combined-Shape" transform="translate(11.987912, 10.765027) scale(1, -1) rotate(45.000000) translate(-11.987912, -10.765027) "></path>\n        </g>\n      </g>\n    </g>\n  </g>\n</svg>\n',"image/svg+xml").firstChild}var Dy=function(o){S(n,o);var a=E(n);function n(e){var t;return d(this,n),g(b(t=a.call(this,e)),"download",function(r){if(!t.isLock){t.emitUserAction(r,"download");var i=t.playerConfig.url,u="";v.typeOf(i)==="String"?u=i:v.typeOf(i)==="Array"&&i.length>0&&(u=i[0].src);var h=t.getAbsoluteURL(u);Py(h),t.isLock=!0,t.timer=window.setTimeout(function(){t.isLock=!1,window.clearTimeout(t.timer),t.timer=null},300)}}),t.timer=null,t.isLock=!1,t}return _(n,[{key:"afterCreate",value:function(){P(T(n.prototype),"afterCreate",this).call(this),this.config.disable||(this.appendChild(".xgplayer-icon",this.icons.download),this._handler=this.hook("click",this.download,{pre:function(e){e.preventDefault(),e.stopPropagation()}}),this.bind(["click","touchend"],this._handler))}},{key:"registerIcons",value:function(){return{download:Ly}}},{key:"getAbsoluteURL",value:function(e){if(!e.match(/^https?:\/\//)){var t=document.createElement("div");t.innerHTML='<a href="'.concat(e,'">x</a>'),e=t.firstChild.href}return e}},{key:"destroy",value:function(){P(T(n.prototype),"destroy",this).call(this),this.unbind(["click","touchend"],this.download),window.clearTimeout(this.timer),this.timer=null}},{key:"render",value:function(){if(!this.config.disable)return'<xg-icon class="xgplayer-download">\n   <div class="xgplayer-icon">\n   </div>\n   '.concat(or(this,"DOWNLOAD_TIPS",this.playerConfig.isHideTips),"\n    </xg-icon>")}}],[{key:"pluginName",get:function(){return"download"}},{key:"defaultConfig",get:function(){return{position:Qe.CONTROLS_RIGHT,index:3,disable:!0}}}]),n}(_r),My=function(o){S(n,o);var a=E(n);function n(){return d(this,n),a.apply(this,arguments)}return _(n,[{key:"beforeCreate",value:function(e){typeof e.player.config.screenShot=="boolean"&&(e.config.disable=!e.player.config.screenShot)}},{key:"afterCreate",value:function(){P(T(n.prototype),"afterCreate",this).call(this),this.appendChild(".xgplayer-icon",this.icons.screenshotIcon);var e=this.config;this.initSize=function(t){e.fitVideo&&(e.width=t.vWidth,e.height=t.vHeight)},this.once(ge,this.initSize)}},{key:"onPluginsReady",value:function(){this.show(),this.onClickBtn=this.onClickBtn.bind(this),this.bind(["click","touchend"],this.onClickBtn)}},{key:"saveScreenShot",value:function(e,t){var r=document.createElement("a");r.href=e,r.download=t;var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),r.dispatchEvent(i)}},{key:"createCanvas",value:function(e,t){var r=document.createElement("canvas"),i=r.getContext("2d");this.canvasCtx=i,this.canvas=r,r.width=e||this.config.width,r.height=t||this.config.height,i.imageSmoothingEnabled=!0,i.imageSmoothingEnabled&&(i.imageSmoothingQuality="high")}},{key:"onClickBtn",value:function(e){var t=this;e.preventDefault(),e.stopPropagation(),this.emitUserAction(e,"shot"),this.shot().then(function(r){t.emit(Je,r),t.saveScreenShot(r,t.config.name+t.config.format)})}},{key:"shot",value:function(e,t){var r=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{quality:.92,type:"image/png"},u=this.config,h=this.player,y=i.quality||u.quality,k=i.type||u.type;return new Promise(function(R,G){var X,J=null;if(h.media.canvas)J=h.media.canvas;else{r.canvas?(r.canvas.width=e||u.width,r.canvas.height=t||u.height):r.createCanvas(e,t),J=r.canvas,X=r.canvasCtx;var oe,ve,fe,Ce,Be=h.media.videoWidth/h.media.videoHeight,Ze=J.width/J.height,xe=h.media.videoWidth,dt=h.media.videoHeight;Be>Ze?(fe=J.width,Ce=J.width/Be,oe=0,ve=Math.round((J.height-Ce)/2)):Be===Ze?(fe=J.width,Ce=J.height,oe=0,ve=0):Be<Ze&&(fe=J.height*Be,Ce=J.height,oe=Math.round((J.width-fe)/2),ve=0),X.drawImage(h.media,0,0,xe,dt,oe,ve,fe,Ce)}var Et=J.toDataURL(k,y).replace(k,"image/octet-stream");R(Et=Et.replace(/^data:image\/[^;]+/,"data:application/octet-stream"))})}},{key:"registerIcons",value:function(){return{screenshotIcon:null}}},{key:"destroy",value:function(){P(T(n.prototype),"destroy",this).call(this),this.unbind(["click","touchend"],this.onClickBtn),this.off(ge,this.initSize)}},{key:"render",value:function(){if(!this.config.disable){var e=this.icons.screenshotIcon?"xgplayer-icon":"xgplayer-icon btn-text",t="SCREENSHOT";return'\n      <xg-icon class="xgplayer-shot">\n      <div class="'.concat(e,'">\n      ').concat(this.icons.screenshotIcon?"":'<span lang-key="'.concat(this.i18nKeys[t],'">').concat(this.i18n[t],"</span>"),"\n      </div>\n    </xg-icon>")}}}],[{key:"pluginName",get:function(){return"screenShot"}},{key:"defaultConfig",get:function(){return{position:Qe.CONTROLS_RIGHT,index:5,quality:.92,type:"image/png",format:".png",width:600,height:337,fitVideo:!0,disable:!1,name:"screenshot"}}}]),n}(_r),Ny=function(){function o(a){d(this,o),this.config=a.config,this.parent=a.root,this.root=v.createDom("ul","",{},"xg-options-list xg-list-slide-scroll ".concat(this.config.className)),a.root.appendChild(this.root);var n=this.config.maxHeight;n&&this.setStyle({maxHeight:n}),this.onItemClick=this.onItemClick.bind(this),this.renderItemList();var e=D.device==="mobile"?"touchend":"click";this._delegates=tt.delegate.call(this,this.root,"li",e,this.onItemClick)}return _(o,[{key:"renderItemList",value:function(a){var n=this,e=this.config,t=this.root;a?e.data=a:a=e.data,e.style&&Object.keys(e.style).map(function(r){t.style[r]=e[r]}),a.length>0&&(this.attrKeys=Object.keys(a[0])),this.root.innerHTML="",a.map(function(r,i){var u=r.selected?"option-item selected":"option-item";r["data-index"]=i,n.root.appendChild(v.createDom("li","<span>".concat(r.showText,"</span>"),r,u))})}},{key:"onItemClick",value:function(a){a.delegateTarget||(a.delegateTarget=a.target);var n=a.delegateTarget;if(n&&v.hasClass(n,"selected"))return!1;var e=typeof this.config.onItemClick=="function"?this.config.onItemClick:null,t=this.root.querySelector(".selected");v.addClass(n,"selected"),t&&v.removeClass(t,"selected"),e(a,{from:t?this.getAttrObj(t,this.attrKeys):null,to:this.getAttrObj(n,this.attrKeys)})}},{key:"getAttrObj",value:function(a,n){if(!a||!n)return{};var e={};n.map(function(r){e[r]=a.getAttribute(r)});var t=a.getAttribute("data-index");return t&&(e.index=Number(t)),e}},{key:"show",value:function(){v.removeClass(this.root,"hide"),v.addClass(this.root,"active")}},{key:"hide",value:function(){v.removeClass(this.root,"active"),v.addClass(this.root,"hide")}},{key:"setStyle",value:function(a){var n=this;Object.keys(a).forEach(function(e){n.root.style[e]=a[e]})}},{key:"destroy",value:function(){this._delegates&&(this._delegates.map(function(a){a.destroy&&a.destroy()}),this._delegates=null),this.root.innerHTML=null,this.parent.removeChild(this.root),this.root=null}}]),o}(),br="side",ei="middle",Zr="click",Fy="hover",mn=D.device==="mobile",_n=function(o){S(n,o);var a=E(n);function n(e){var t;return d(this,n),g(b(t=a.call(this,e)),"onEnter",function(r){r.stopPropagation(),t.emit("icon_mouseenter",{pluginName:t.pluginName}),t.switchActiveState(r)}),g(b(t),"switchActiveState",function(r){r.stopPropagation(),t.config.toggleMode===Zr?t.toggle(!t.isActive):t.toggle(!0)}),g(b(t),"onLeave",function(r){r.stopPropagation(),t.emit("icon_mouseleave",{pluginName:t.pluginName}),t.config.listType!==br&&t.isActive&&t.toggle(!1)}),g(b(t),"onListEnter",function(r){t.enterType=2}),g(b(t),"onListLeave",function(r){t.enterType=0,t.isActive&&t.toggle(!1)}),t.isIcons=!1,t.isActive=!1,t.curValue=null,t.curIndex=0,t}return _(n,[{key:"updateLang",value:function(e){this.renderItemList(this.config.list,this.curIndex)}},{key:"afterCreate",value:function(){var e=this,t=this.config;this.initIcons(),mn&&t.listType!==ei&&(t.listType=br),t.hidePortrait&&v.addClass(this.root,"portrait"),this.on([ge,Pe],function(){e._resizeList()}),this.once(Ae,function(){t.list&&t.list.length>0&&(e.renderItemList(t.list),e.show())}),mn&&this.on(Le,function(){e.isActive&&(e.optionsList&&e.optionsList.hide(),e.isActive=!1)}),mn?(t.toggleMode=Zr,this.activeEvent="touchend"):this.activeEvent=t.toggleMode===Zr?"click":"mouseenter",t.toggleMode===Zr?this.bind(this.activeEvent,this.switchActiveState):(this.bind(this.activeEvent,this.onEnter),this.bind("mouseleave",this.onLeave)),this.isIcons&&this.bind("click",this.onIconClick)}},{key:"initIcons",value:function(){var e=this,t=this.icons,r=Object.keys(t),i=!1;r.length>0&&(r.forEach(function(u){e.appendChild(".xgplayer-icon",t[u]),!i&&(i=t[u])}),this.isIcons=i),i||(this.appendChild(".xgplayer-icon",v.createDom("span","",{},"icon-text")),v.addClass(this.find(".xgplayer-icon"),"btn-text"))}},{key:"show",value:function(){!this.config.list||this.config.list.length<2||v.addClass(this.root,"show")}},{key:"hide",value:function(){v.removeClass(this.root,"show")}},{key:"getTextByLang",value:function(e,t,r){if(e===void 0)return"";var i=this.config.list;!r&&(r=this.player.lang),t=!t||v.isUndefined(e[t])?"text":t,typeof e=="number"&&(e=i[e]);try{return p(e[t])==="object"?e[t][r]||e[t].en:e[t]}catch(u){return console.warn(u),""}}},{key:"toggle",value:function(e){if(e!==this.isActive){var t=this.player.controls,r=this.config.listType;e?(r===br?t.blur():t.focus(),this.optionsList&&this.optionsList.show()):(r===br?t.focus():t.focusAwhile(),this.optionsList&&this.optionsList.hide()),this.isActive=e}}},{key:"onItemClick",value:function(e,t){e.stopPropagation();var r=this.config,i=r.listType,u=r.list;this.curIndex=t.to.index,this.curItem=u[this.curIndex],this.changeCurrentText(),(this.config.isItemClickHide||mn||i===br)&&this.toggle(!1)}},{key:"onIconClick",value:function(e){}},{key:"changeCurrentText",value:function(){if(!this.isIcons){var e=this.config.list,t=e[this.curIndex<e.length?this.curIndex:0];t&&(this.find(".icon-text").innerHTML=this.getTextByLang(t,"iconText"))}}},{key:"renderItemList",value:function(e,t){var r=this,i=this.config,u=this.optionsList,h=this.player;if(typeof t=="number"&&(this.curIndex=t,this.curItem=i.list[t]),u)return u.renderItemList(e),void this.changeCurrentText();var y,k,R={config:{data:e||[],className:(y=i.listType,k=i.position,y===br?k===Qe.CONTROLS_LEFT?"xg-side-list xg-left-side":"xg-side-list xg-right-side":""),onItemClick:function(J,oe){r.onItemClick(J,oe)}},root:i.listType===br?h.innerContainer||h.root:this.root};if(this.config.isShowIcon){var G=this.player.root.getBoundingClientRect().height,X=i.listType===ei?G-50:G;X&&(R.config.maxHeight="".concat(X,"px")),this.optionsList=new Ny(R),this.changeCurrentText(),this.show()}this._resizeList()}},{key:"_resizeList",value:function(){var e=this.player.root.getBoundingClientRect().height,t=this.config.listType===ei?e-50:e;this.optionsList&&this.optionsList.setStyle({maxHeight:"".concat(t,"px")})}},{key:"destroy",value:function(){this.config.toggleMode===Zr?this.unbind(this.activeEvent,this.switchActiveState):(this.unbind(this.activeEvent,this.onEnter),this.unbind("mouseleave",this.onLeave)),this.isIcons&&this.unbind("click",this.onIconClick),this.optionsList&&(this.optionsList.destroy(),this.optionsList=null)}},{key:"render",value:function(){if(this.config.isShowIcon)return'<xg-icon class="xg-options-icon '.concat(this.config.className||"",'">\n    <div class="xgplayer-icon">\n    </div>\n   </xg-icon>')}}],[{key:"pluginName",get:function(){return"optionsIcon"}},{key:"defaultConfig",get:function(){return{position:Qe.CONTROLS_RIGHT,index:100,list:[],listType:"middle",listStyle:{},hidePortrait:!0,isShowIcon:!1,isItemClickHide:!0,toggleMode:Fy}}}]),n}(tt),qy=function(o){S(n,o);var a=E(n);function n(e){var t;return d(this,n),(t=a.call(this,e)).curTime=0,t.isPaused=!0,t}return _(n,[{key:"beforeCreate",value:function(e){var t=e.config.list;Array.isArray(t)&&t.length>0&&(e.config.list=t.map(function(r){return!r.text&&r.name&&(r.text=r.name),r.text||(r.text=r.definition),r}))}},{key:"afterCreate",value:function(){var e=this;P(T(n.prototype),"afterCreate",this).call(this),this.on("resourceReady",function(t){e.changeDefinitionList(t)}),this.on(Z,function(t){e.renderItemList(e.config.list,t.to)}),this.player.definitionList.length<2&&this.hide()}},{key:"show",value:function(){!this.config.list||this.config.list.length<2||v.addClass(this.root,"show")}},{key:"initDefinition",value:function(){var e=this.config,t=e.list,r=e.defaultDefinition;if(t.length>0){var i=null;t.map(function(u){u.definition===r&&(i=u)}),i||(i=t[0]),this.changeDefinition(i)}}},{key:"renderItemList",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.config.list||[],r=arguments.length>1?arguments[1]:void 0,i=r&&r.definition?r.definition:this.config.defaultDefinition;r&&t.forEach(function(y){y.selected=!1});var u=0,h=t.map(function(y,k){var R=f(f({},y),{},{showText:e.getTextByLang(y)||y.definition,selected:!1});return(y.selected||y.definition&&y.definition==i)&&(R.selected=!0,u=k),R});P(T(n.prototype),"renderItemList",this).call(this,h,u)}},{key:"changeDefinitionList",value:function(e){Array.isArray(e)&&(this.config.list=e.map(function(t){return!t.text&&t.name&&(t.text=t.name),t.text||(t.text=t.definition),t}),this.renderItemList(),this.config.list.length<2?this.hide():this.show())}},{key:"changeDefinition",value:function(e,t){this.player.changeDefinition(e,t)}},{key:"onItemClick",value:function(e,t){var r=this.player.definitionList;P(T(n.prototype),"onItemClick",this).apply(this,arguments),this.emitUserAction(e,"change_definition",{from:t.from,to:t.to});for(var i=0;i<r.length;i++)t.to&&r[i].definition===t.to.definition&&(t.to.url=r[i].url),t.from&&r[i].definition===t.from.definition&&(t.from.url=r[i].url);this.player.changeDefinition(t.to,t.from)}}],[{key:"pluginName",get:function(){return"definition"}},{key:"defaultConfig",get:function(){return f(f({},_n.defaultConfig),{},{position:Qe.CONTROLS_RIGHT,index:3,list:[],defaultDefinition:"",disable:!1,hidePortrait:!1,className:"xgplayer-definition",isShowIcon:!0})}}]),n}(_n),By=function(o){S(n,o);var a=E(n);function n(e){var t;return d(this,n),(t=a.call(this,e)).curRate=1,t}return _(n,[{key:"beforeCreate",value:function(e){var t=e.player.config.playbackRate,r=t?Array.isArray(t)?t:e.config.list:[];Array.isArray(r)&&(e.config.list=r.map(function(i){return typeof i=="number"?i={rate:i,text:"".concat(i,"x")}:!i.text&&i.rate&&(i.text="".concat(i.rate,"x")),i}))}},{key:"afterCreate",value:function(){var e=this;P(T(n.prototype),"afterCreate",this).call(this),this.on(ze,function(){e.curValue!==e.player.playbackRate&&e.renderItemList()}),this.renderItemList()}},{key:"show",value:function(){this.config.list&&this.config.list.length!==0&&P(T(n.prototype),"show",this).call(this)}},{key:"onItemClick",value:function(e,t){P(T(n.prototype),"onItemClick",this).apply(this,arguments);var r=e.delegateTarget,i=Number(r.getAttribute("rate"));if(!i||i===this.curValue)return!1;var u={playbackRate:{from:this.player.playbackRate,to:i}};this.emitUserAction(e,"change_rate",{props:u}),this.curValue=i,this.player.playbackRate=i}},{key:"renderItemList",value:function(){var e=this,t=this.player.playbackRate||1;this.curValue=t;var r=-1,i=this.config.list.map(function(u,h){var y={rate:u.rate};return y.rate===t&&(y.selected=!0,r=h),y.showText=e.getTextByLang(u),y});P(T(n.prototype),"renderItemList",this).call(this,i,r)}},{key:"changeCurrentText",value:function(){if(!this.isIcons){var e=this.config.list,t=e[this.curIndex<e.length?this.curIndex:0],r="";r=!t||this.curIndex<0?"".concat(this.player.playbackRate,"x"):this.getTextByLang(t,"iconText"),this.find(".icon-text").innerHTML=r}}},{key:"destroy",value:function(){P(T(n.prototype),"destroy",this).call(this)}}],[{key:"pluginName",get:function(){return"playbackRate"}},{key:"defaultConfig",get:function(){return f(f({},_n.defaultConfig),{},{position:Qe.CONTROLS_RIGHT,index:4,list:[2,1.5,1,.75,.5],className:"xgplayer-playbackrate",isShowIcon:!0,hidePortrait:!1})}}]),n}(_n);function Uy(){return new DOMParser().parseFromString('<svg xmlns="http://www.w3.org/2000/svg" width="31" height="40" viewBox="0 -5 31 40">\n  <path fill="#fff" transform="scale(1.3, 1.3)" class=\'path_full\' d="M9,10v1a.9.9,0,0,1-1,1,.9.9,0,0,1-1-1V9A.9.9,0,0,1,8,8h2a.9.9,0,0,1,1,1,.9.9,0,0,1-1,1Zm6,4V13a1,1,0,0,1,2,0v2a.9.9,0,0,1-1,1H14a1,1,0,0,1,0-2Zm3-7H6V17H18Zm2,0V17a2,2,0,0,1-2,2H6a2,2,0,0,1-2-2V7A2,2,0,0,1,6,5H18A2,2,0,0,1,20,7Z"></path>\n</svg>\n',"image/svg+xml").firstChild}function jy(){return new DOMParser().parseFromString('<svg xmlns="http://www.w3.org/2000/svg" width="31" height="40" viewBox="0 -5 31 40">\n  <path fill="#fff" transform="scale(1.3, 1.3)" d="M9,10V9a.9.9,0,0,1,1-1,.9.9,0,0,1,1,1v2a.9.9,0,0,1-1,1H8a.9.9,0,0,1-1-1,.9.9,0,0,1,1-1Zm6,4v1a1,1,0,0,1-2,0V13a.9.9,0,0,1,1-1h2a1,1,0,0,1,0,2Zm3-7H6V17H18Zm2,0V17a2,2,0,0,1-2,2H6a2,2,0,0,1-2-2V7A2,2,0,0,1,6,5H18A2,2,0,0,1,20,7Z"></path>\n</svg>\n',"image/svg+xml").firstChild}var Fu=function(o){S(n,o);var a=E(n);function n(){return d(this,n),a.apply(this,arguments)}return _(n,[{key:"beforeCreate",value:function(e){typeof e.player.config.cssFullscreen=="boolean"&&(e.config.disable=!e.player.config.cssFullscreen)}},{key:"afterCreate",value:function(){var e=this;P(T(n.prototype),"afterCreate",this).call(this),this.config.disable||(this.config.target&&(this.playerConfig.fullscreenTarget=this.config.target),this.initIcons(),this.on(Oe,function(t){e.animate(t)}),this.btnClick=this.btnClick.bind(this),this.handleCssFullscreen=this.hook("cssFullscreen_change",this.btnClick,{pre:function(t){t.preventDefault(),t.stopPropagation()}}),this.bind(["click","touchend"],this.handleCssFullscreen))}},{key:"initIcons",value:function(){var e=this.icons,t=this.find(".xgplayer-icon");t.appendChild(e.cssFullscreen),t.appendChild(e.exitCssFullscreen)}},{key:"btnClick",value:function(e){e.preventDefault(),e.stopPropagation();var t=this.player.isCssfullScreen;this.emitUserAction(e,"switch_cssfullscreen",{cssfullscreen:t}),t?this.player.exitCssFullscreen():this.player.getCssFullscreen()}},{key:"animate",value:function(e){this.root&&(e?this.setAttr("data-state","full"):this.setAttr("data-state","normal"),this.switchTips(e))}},{key:"switchTips",value:function(e){var t=this.i18nKeys,r=this.find(".xg-tips");r&&this.changeLangTextKey(r,e?t.EXITCSSFULLSCREEN_TIPS:t.CSSFULLSCREEN_TIPS)}},{key:"registerIcons",value:function(){return{cssFullscreen:{icon:Uy,class:"xg-get-cssfull"},exitCssFullscreen:{icon:jy,class:"xg-exit-cssfull"}}}},{key:"destroy",value:function(){P(T(n.prototype),"destroy",this).call(this),this.unbind(["click","touchend"],this.btnClick)}},{key:"render",value:function(){if(!this.config.disable)return"<xg-icon class='xgplayer-cssfullscreen'>\n    <div class=\"xgplayer-icon\">\n    </div>\n    ".concat(or(this,"CSSFULLSCREEN_TIPS",this.playerConfig.isHideTips),"\n    </xg-icon>")}}],[{key:"pluginName",get:function(){return"cssFullscreen"}},{key:"defaultConfig",get:function(){return{position:Qe.CONTROLS_RIGHT,index:1,disable:!1,target:null}}}]),n}(_r),Hy=function(o){S(n,o);var a=E(n);function n(){return d(this,n),a.apply(this,arguments)}return _(n,[{key:"afterCreate",value:function(){var e=this;this.clickHandler=this.hook("errorRetry",this.errorRetry,{pre:function(t){t.preventDefault(),t.stopPropagation()}}),this.onError=this.hook("showError",this.handleError),this.bind(".xgplayer-error-refresh","click",this.clickHandler),this.on(we,function(t){e.onError(t)})}},{key:"errorRetry",value:function(e){this.emitUserAction(e,"error_retry",{}),this.player.retry()}},{key:"handleError",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=this.player,r=e.errorType,i=t.errorNote?this.i18n[t.errorNote]:"";if(!i)switch(r){case"decoder":i=this.i18n.MEDIA_ERR_DECODE;break;case"network":i=this.i18n.MEDIA_ERR_NETWORK;break;default:i=this.i18n.MEDIA_ERR_SRC_NOT_SUPPORTED}this.find(".xgplayer-error-text").innerHTML=i,this.find(".xgplayer-error-tips").innerHTML="".concat(this.i18n.REFRESH_TIPS,'<span class="xgplayer-error-refresh">').concat(this.i18n.REFRESH,"</span>")}},{key:"destroy",value:function(){this.unbind(".xgplayer-error-refresh","click",this.clickHandler)}},{key:"render",value:function(){return'<xg-error class="xgplayer-error">\n      <div class="xgplayer-errornote">\n       <span class="xgplayer-error-text"></span>\n       <span class="xgplayer-error-tips"><em class="xgplayer-error-refresh"></em></span>\n      </div>\n    </xg-error>'}}],[{key:"pluginName",get:function(){return"error"}}]),n}(tt),Gy=function(o){S(n,o);var a=E(n);function n(){return d(this,n),a.apply(this,arguments)}return _(n,[{key:"afterCreate",value:function(){var e=this;this.intervalId=0,this.customConfig=null,this.bind(".highlight",["click","touchend"],function(t){(e.config.onClick||e.customOnClick)&&(t.preventDefault(),t.stopPropagation(),e.customOnClick?e.customOnClick(t):e.config.onClick(t))}),this.player.showPrompt=function(){e.show.apply(e,arguments)},this.player.hidePrompt=function(){e.hide()}}},{key:"setStyle",value:function(e){var t=this;Object.keys(e).map(function(r){t.root.style[r]=e[r]})}},{key:"show",value:function(e){var t=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){};if(e){this.customOnClick=i;var u=this.config.interval;this.intervalId&&(clearTimeout(this.intervalId),this.intervalId=null),v.addClass(this.root,"show"),r.mode==="arrow"&&v.addClass(this.root,"arrow"),this.find(".xgplayer-prompt-detail").innerHTML=typeof e=="string"?e:"".concat(e.text||"")+"".concat(e.highlight?'<i class="highlight">'.concat(e.highlight,"</i>"):""),r.style&&this.setStyle(r.style);var h=typeof r.autoHide=="boolean"?r.autoHide:this.config.autoHide;if(h){var y=r.interval||u;this.intervalId=setTimeout(function(){t.hide()},y)}}}},{key:"hide",value:function(){v.removeClass(this.root,"show"),v.removeClass(this.root,"arrow"),this.root.removeAttribute("style"),this.customOnClick=null}},{key:"render",value:function(){return'<xg-prompt class="xgplayer-prompt '.concat(ye.CONTROLS_FOLLOW,'">\n    <span class="xgplayer-prompt-detail"></span>\n    </xg-prompt>')}}],[{key:"pluginName",get:function(){return"prompt"}},{key:"defaultConfig",get:function(){return{interval:3e3,style:{},mode:"arrow",autoHide:!0,detail:{text:"",highlight:""},onClick:function(){}}}}]),n}(tt),qu={time:0,text:"",id:1,duration:1,color:"#fff",style:{},width:6,height:6};function Bu(o){Object.keys(qu).map(function(a){o[a]===void 0&&(o[a]=qu[a])})}var Uu={_updateDotDom:function(o,a){if(a){var n=this.calcuPosition(o.time,o.duration),e=o.style||{};e.left="".concat(n.left,"%"),e.width="".concat(n.width,"%"),a.setAttribute("data-text",o.text),a.setAttribute("data-time",o.time),n.isMini?v.addClass(a,"mini"):v.removeClass(a,"mini"),Object.keys(e).map(function(t){a.style[t]=e[t]})}},initDots:function(){var o=this;this._ispots.map(function(a){o.createDot(a,!1)}),this.ispotsInit=!0},createDot:function(o){var a=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=this.player.plugins.progress;if(n&&(a&&(Bu(o),this._ispots.push(o)),this.ispotsInit||!a)){var e=this.calcuPosition(o.time,o.duration),t=o.style||{};t.left="".concat(e.left,"%"),t.width="".concat(e.width,"%");var r="xgspot_".concat(o.id," xgplayer-spot");e.isMini&&(r+=" mini");var i=o.template?'<div class="xgplayer-spot-pop">'.concat(o.template,"</div>"):"",u=v.createDom("xg-spot",i,{"data-text":o.text,"data-time":o.time,"data-id":o.id},r);Object.keys(t).map(function(h){u.style[h]=t[h]}),n.outer&&n.outer.appendChild(u),this.positionDot(u,o.id)}},findDot:function(o){if(this.player.plugins.progress){var a=this._ispots.filter(function(n,e){return n.id===o});return a.length>0?a[0]:null}},updateDot:function(o){var a=arguments.length>1&&arguments[1]!==void 0&&arguments[1],n=this.player.plugins.progress;if(n){var e=this.findDot(o.id);if(e&&Object.keys(o).map(function(r){e[r]=o[r]}),this.ispotsInit){var t=n.find('xg-spot[data-id="'.concat(o.id,'"]'));t&&(this._updateDotDom(o,t),a&&this.showDot(o.id))}}},deleteDot:function(o){var a=this._ispots,n=this.player.plugins.progress;if(n){for(var e=[],t=0;t<a.length;t++)a[t].id===o&&e.push(t);for(var r=e.length-1;r>=0;r--)if(a.splice(e[r],1),this.ispotsInit){var i=n.find('xg-spot[data-id="'.concat(o,'"]'));i&&i.parentElement.removeChild(i)}}},deleteAllDots:function(){var o=this.player.plugins.progress;if(o)if(this.ispotsInit){for(var a=o.root.getElementsByTagName("xg-spot"),n=a.length-1;n>=0;n--)o.outer.removeChild(a[n]);this._ispots=[]}else this._ispots=[]},updateAllDots:function(){var o=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=this.player.plugins.progress;if(n)if(this.ispotsInit){this._ispots=[];var e=n.root.getElementsByTagName("xg-spot"),t=e.length;if(t>a.length)for(var r=t-1;r>a.length-1;r--)n.outer.removeChild(e[r]);a.forEach(function(i,u){u<t?(e[u].setAttribute("data-id","".concat(i.id)),o._ispots.push(i),o.updateDot(i)):o.createDot(i)})}else this._ispots=a},positionDots:function(){var o=this,a=this._ispots,n=this.playerSize,e=this.player.sizeInfo,t=this.player.plugins.progress;t&&e.width!==n.width&&(n.width=e.width,n.left=e.left,a.forEach(function(r){var i=t.find('xg-spot[data-id="'.concat(r.id,'"]'));i&&o.positionDot(i,r.id)}))},positionDot:function(o,a){var n=v.findDom(o,".xgplayer-spot-pop");if(n){var e=this.playerSize,t=o.getBoundingClientRect(),r=n.getBoundingClientRect(),i=t.left-e.left,u=e.width-i-t.width/2;if(i<r.width/2||e.width<r.width){var h=r.width/2-i;n.style.left="".concat(h,"px")}else if(u<r.width/2){var y=u-r.width/2+t.width/2;n.style.left="".concat(y,"px")}else n.style.left="50%"}},updateDuration:function(){var o=this,a=this.player.plugins.progress;a&&this._ispots.forEach(function(n){var e=a.find('xg-spot[data-id="'.concat(n.id,'"]'));o._updateDotDom(n,e)})},getAllDotsDom:function(){var o=this.player.plugins.progress;return o?o.root.getElementsByTagName("xg-spot"):[]},getDotDom:function(o){var a=this.player.plugins.progress;if(a)return a.find('xg-spot[data-id="'.concat(o,'"]'))}},qr={dragmove:"onProgressMove",dragstart:"onProgressDragStart",dragend:"onProgressDragEnd",click:"onProgressClick",mouseover:"onProgressMouseOver",mouseenter:"onProgressMouseOver"},Vy=function(o){S(n,o);var a=E(n);function n(e){var t;return d(this,n),g(b(t=a.call(this,e)),"onMousemove",function(r){t.config.disable||(v.hasClass(r.target,"xg-spot-content")&&t.config.isHideThumbnailHover?t.player.plugins.progress.onMouseLeave(r):(t._state.f||v.hasClass(r.target,"xg-spot-content"))&&(v.event(r),r.stopPropagation()))}),g(b(t),"onMousedown",function(r){t.config.disable||(t._state.f||v.hasClass(r.target,"xg-spot-content"))&&(v.event(r),r.stopPropagation())}),g(b(t),"onMouseup",function(r){if(t.isDrag){var i=t.player.plugins.progress;i&&i.pos&&(i.onMouseUp(r),!i.pos.isEnter&&i.onMouseLeave(r))}}),g(b(t),"onDotMouseLeave",function(r){if(!t.config.disable){t._curDot.removeEventListener("mouseleave",t.onDotMouseLeave),t.blurDot(r.target),t._curDot=null;var i=t.player.plugins.progress;i&&i.enableBlur(),t.show()}}),g(b(t),"onProgressMouseOver",function(r,i){if(!t.config.disable&&v.hasClass(i.target,"xgplayer-spot")&&!t._curDot){t._curDot=i.target,t.focusDot(i.target),t._curDot.children.length>0&&t.hide();var u=t.player.plugins.progress;u&&u.disableBlur(),t._curDot.addEventListener("mouseleave",t.onDotMouseLeave)}}),t._ispots=[],t.videoPreview=null,t.videothumbnail=null,t.thumbnail=null,t.timeStr="",t._state={now:0,f:!1},t}return _(n,[{key:"beforeCreate",value:function(e){var t=e.player.plugins.progress;t&&(e.root=t.root)}},{key:"afterCreate",value:function(){var e=this;this._curDot=null,this.handlerSpotClick=this.hook("spotClick",function(t,r){r.seekTime&&e.player.seek(r.seekTime)}),this.transformTimeHook=this.hook("transformTime",function(t){e.setTimeContent(t)}),function(t){var r=t.config,i=t.player;Object.keys(Uu).map(function(h){t[h]=Uu[h].bind(t)});var u=i.config.progressDot||r.ispots||[];t._ispots=u.map(function(h){return Bu(h),h}),t.ispotsInit=!1,t.playerSize={left:i.sizeInfo.left,width:i.sizeInfo.width},t.on(Me,function(){t.ispotsInit?t.updateDuration():t.initDots()}),t.on(ge,function(){t.positionDots()})}(this),this.on(Me,function(){e.show()}),this.config.disable&&this.disable(),this.extTextRoot=this.find(".xg-spot-ext-text")}},{key:"setConfig",value:function(e){var t=this;e&&Object.keys(e).map(function(r){t.config[r]=e[r]})}},{key:"onPluginsReady",value:function(){this.player.plugins.progress&&(this.previewLine=this.find(".xg-spot-line"),this.timePoint=this.find(".xgplayer-progress-point"),this.timeText=this.find(".xg-spot-time"),this.tipText=this.find(".spot-inner-text"),this._hasThumnail=!1,this.registerThumbnail(),this.bindEvents())}},{key:"bindEvents",value:function(){var e=this,t=this.player.plugins.progress;if(t&&(Object.keys(qr).map(function(i){e[qr[i]]=e[qr[i]].bind(e),t.addCallBack(i,e[qr[i]])}),D.device!=="mobile")){this.bind(".xg-spot-info","mousemove",this.onMousemove),this.bind(".xg-spot-info","mousedown",this.onMousedown),this.bind(".xg-spot-info","mouseup",this.onMouseup);var r=this.hook("previewClick",function(){});this.handlerPreviewClick=function(i){i.stopPropagation(),r(parseInt(1e3*e._state.now,10)/1e3,i)},this.bind(".xg-spot-content","mouseup",this.handlerPreviewClick)}}},{key:"onProgressMove",value:function(e,t){!this.config.disable&&this.player.duration&&this.updatePosition(e.offset,e.width,e.currentTime,e.e)}},{key:"onProgressDragStart",value:function(e){!this.config.disable&&this.player.duration&&(this.isDrag=!0,this.videoPreview&&v.addClass(this.videoPreview,"show"))}},{key:"onProgressDragEnd",value:function(e){!this.config.disable&&this.player.duration&&(this.isDrag=!1,this.videoPreview&&v.removeClass(this.videoPreview,"show"))}},{key:"onProgressClick",value:function(e,t){this.config.disable||v.hasClass(t.target,"xgplayer-spot")&&(t.stopPropagation(),t.preventDefault(),["time","id","text"].map(function(r){e[r]=t.target.getAttribute("data-".concat(r))}),e.time&&(e.time=Number(e.time)),this.handlerSpotClick(t,e))}},{key:"updateLinePos",value:function(e,t){var r=this.root,i=this.previewLine,u=this.player,h=this.config,y=u.controls.mode==="flex",k=r.getBoundingClientRect().width;if(k||!this._hasThumnail){var R,G=e-(k=this._hasThumnail&&k<h.width?h.width:k)/2;G<0&&!y?(G=0,R=e-k/2):G>t-k&&!y?(R=G-(t-k),G=t-k):R=0,R!==void 0&&(i.style.transform="translateX(".concat(R.toFixed(2),"px)")),r.style.transform="translateX(".concat(G.toFixed(2),"px) translateZ(0)")}}},{key:"updateTimeText",value:function(e){var t=this.timeText,r=this.timePoint;t.innerHTML=e,!this.thumbnail&&(r.innerHTML=e)}},{key:"updatePosition",value:function(e,t,r,i){var u=this.root,h=this.config,y=this._state;if(u){y.now=r,this.transformTimeHook(r);var k=this.timeStr;i&&i.target&&v.hasClass(i.target,"xgplayer-spot")?(this.showTips(i.target.getAttribute("data-text"),!1,k),this.focusDot(i.target),y.f=!0,h.isFocusDots&&y.f&&(y.now=parseInt(i.target.getAttribute("data-time"),10))):h.defaultText?(y.f=!1,this.showTips(h.defaultText,!0,k)):(y.f=!1,this.hideTips("")),this.updateTimeText(k),this.updateThumbnails(y.now),this.updateLinePos(e,t)}}},{key:"setTimeContent",value:function(e){this.timeStr="".concat(v.format(e))}},{key:"updateThumbnails",value:function(e){var t=this.player,r=this.videoPreview,i=this.config,u=t.plugins.thumbnail;if(u&&u.usable){this.thumbnail&&u.update(this.thumbnail,e,i.width,i.height);var h=r&&r.getBoundingClientRect();this.videothumbnail&&u.update(this.videothumbnail,e,h.width,h.height)}}},{key:"registerThumbnail",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(D.device!=="mobile"){var t=this.player,r=this.config,i=t.getPlugin("thumbnail");if(i&&i.setConfig(e),i&&i.usable&&r.isShowThumbnail){v.removeClass(this.root,"short-line no-thumbnail"),r.mode==="short"&&v.addClass(this.root,"short-line"),this._hasThumnail=!0;var u=this.find(".xg-spot-thumbnail");this.thumbnail=i.createThumbnail(u,"progress-thumbnail"),r.isShowCoverPreview&&(this.videoPreview=v.createDom("xg-video-preview","",{},"xgvideo-preview"),t.root.appendChild(this.videoPreview),this.videothumbnail=i.createThumbnail(this.videoPreview,"xgvideo-thumbnail")),this.updateThumbnails(0)}else v.addClass(this.root,"short-line no-thumbnail")}}},{key:"calcuPosition",value:function(e,t){var r=this.player.plugins.progress,i=this.player,u=r.root.getBoundingClientRect().width,h=i.duration/u*6;return e+t>i.duration&&(t=i.duration-e),i.duration,i.duration,{left:e/i.duration*100,width:t/i.duration*100,isMini:t<h}}},{key:"showDot",value:function(e){var t=this.findDot(e);if(t){var r=this.root.getBoundingClientRect().width,i=t.time/this.player.duration*r;this.updatePosition(i,r,t.time)}}},{key:"focusDot",value:function(e,t){e&&(t||(t=e.getAttribute("data-id")),v.addClass(e,"active"),this._activeDotId=t)}},{key:"blurDot",value:function(e){if(!e){var t=this._activeDotId;e=this.getDotDom(t)}e&&(v.removeClass(e,"active"),this._activeDotId=null)}},{key:"showTips",value:function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";v.addClass(this.root,"no-timepoint"),e&&(v.addClass(this.find(".xg-spot-content"),"show-text"),t&&this.config.mode==="production"?(v.addClass(this.root,"product"),this.tipText.textContent=e):(v.removeClass(this.root,"product"),this.tipText.textContent=this._hasThumnail?e:"".concat(r," ").concat(e)))}},{key:"hideTips",value:function(){v.removeClass(this.root,"no-timepoint"),this.tipText.textContent="",v.removeClass(this.find(".xg-spot-content"),"show-text"),v.removeClass(this.root,"product")}},{key:"hide",value:function(){v.addClass(this.root,"hide")}},{key:"show",value:function(){v.removeClass(this.root,"hide")}},{key:"enable",value:function(){var e=this.config,t=this.playerConfig;this.config.disable=!1,this.show(),!this.thumbnail&&e.isShowThumbnail&&this.registerThumbnail(t.thumbnail||{})}},{key:"disable",value:function(){this.config.disable=!0,this.hide()}},{key:"destroy",value:function(){var e=this,t=this.player.plugins.progress;t&&Object.keys(qr).map(function(r){t.removeCallBack(r,e[qr[r]])}),this.videothumbnail=null,this.thumbnail=null,this.videoPreview&&this.player.root.removeChild(this.videoPreview),this.unbind(".xg-spot-info","mousemove",this.onMousemove),this.unbind(".xg-spot-info","mousedown",this.onMousedown),this.unbind(".xg-spot-info","mouseup",this.onMouseup),this.unbind(".xg-spot-content","mouseup",this.handlerPreviewClick)}},{key:"render",value:function(){return D.device==="mobile"||this.playerConfig.isMobileSimulateMode==="mobile"?"":'<div class="xg-spot-info hide '.concat(this.config.mode==="short"?"short-line":"",'">\n      <div class="xg-spot-content">\n        <div class="xg-spot-thumbnail">\n          <span class="xg-spot-time"></span>\n        </div>\n        <div class="xg-spot-text"><span class="spot-inner-text"></span></div>\n      </div>\n      <div class="xgplayer-progress-point">00:00</div>\n      <div class="xg-spot-ext-text"></div>\n      <div class="xg-spot-line"></div>\n    </div>')}}],[{key:"pluginName",get:function(){return"progresspreview"}},{key:"defaultConfig",get:function(){return{index:1,miniWidth:6,ispots:[],defaultText:"",isFocusDots:!0,isHideThumbnailHover:!0,isShowThumbnail:!0,isShowCoverPreview:!1,mode:"",disable:!1,width:160,height:90}}}]),n}(tt),$y=function(o){S(n,o);var a=E(n);function n(e){var t;return d(this,n),(t=a.call(this,e)).ratio=1,t.interval=null,t._preloadMark={},t}return _(n,[{key:"afterCreate",value:function(){var e=this;this.usable&&this.initThumbnail(),this.on([Me],function(){var t=e.config,r=t.pic_num,i=t.interval;e.usable&&(e.interval=i>0?i:Math.round(1e3*e.player.duration/r)/1e3)})}},{key:"setConfig",value:function(e){var t=this;if(e){var r=Object.keys(e);r.length<1||(r.forEach(function(i){t.config[i]=e[i]}),this.usable&&this.initThumbnail())}}},{key:"usable",get:function(){var e=this.config,t=e.urls,r=e.pic_num;return t&&t.length>0&&r>0}},{key:"initThumbnail",value:function(){var e=this.config,t=e.width,r=e.height,i=e.pic_num,u=e.interval;this.ratio=t/r*100,this.interval=u||Math.round(this.player.duration/i),this._preloadMark={}}},{key:"getUrlByIndex",value:function(e){return e>=0&&e<this.config.urls.length?this.config.urls[e]:""}},{key:"preload",value:function(e){var t=this;if(!this._preloadMark[e]){var r=this.config.urls,i=r.length,u=[];e>0&&u.push(e-1),u.push(e),e>0&&e<i-1&&u.push(e+1),u.map(function(h){!t._preloadMark[h]&&h>=0&&h<i&&(t._preloadMark[h]=1,v.preloadImg(r[h],function(){t._preloadMark[h]=2}))})}}},{key:"getPosition",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=this.config,u=i.pic_num,h=i.row,y=i.col,k=i.width,R=i.height;this.interval=Math.round(this.player.duration/u);var G=Math.ceil(e/this.interval),X=(G=G>u?u:G)<h*y?0:Math.ceil(G/(h*y))-1,J=G-X*(y*h),oe=J>0?Math.ceil(J/y)-1:0,ve=J>0?J-oe*y-1:0,fe=0,Ce=0;if(t&&r){var Be=t/r;Be<k/R?fe=(Ce=r)*(k/R):Ce=(fe=t)/(k/R)}else r?t||(fe=(Ce=r||R)*(k/R)):Ce=(fe=t||k)/(k/R);var Ze=this.getUrlByIndex(X);return{urlIndex:X,rowIndex:oe,colIndex:ve,url:Ze,height:Ce,width:fe,style:{backgroundImage:"url(".concat(Ze,")"),backgroundSize:"".concat(fe*y,"px auto"),backgroundPosition:"-".concat(ve*fe,"px -").concat(oe*Ce,"px"),width:"".concat(fe,"px"),height:"".concat(Ce,"px")}}}},{key:"update",value:function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"",h=this.config,y=h.pic_num,k=h.urls;if(!(y<=0)&&k&&k.length!==0){var R=this.getPosition(t,r,i);this.preload(R.urlIndex),Object.keys(R.style).map(function(G){e.style[G]=R.style[G]}),Object.keys(u).map(function(G){e.style[G]=u[G]})}}},{key:"changeConfig",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.setConfig(e)}},{key:"createThumbnail",value:function(e,t){var r=v.createDom("xg-thumbnail","",{},"thumbnail ".concat(t));return e&&e.appendChild(r),r}}],[{key:"pluginName",get:function(){return"thumbnail"}},{key:"defaultConfig",get:function(){return{isShow:!1,urls:[],pic_num:0,col:0,row:0,height:90,width:160,scale:1,className:"",hidePortrait:!1}}}]),n}(tt),Wy=function(o){S(n,o);var a=E(n);function n(){return d(this,n),a.apply(this,arguments)}return _(n,[{key:"afterCreate",value:function(){}},{key:"update",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{cached:0,played:0},t=arguments.length>1?arguments[1]:void 0;t&&this.root&&(e.cached&&(this.find("xg-mini-progress-cache").style.width="".concat(e.cached/t*100,"%")),e.played&&(this.find("xg-mini-progress-played").style.width="".concat(e.played/t*100,"%")))}},{key:"render",value:function(){if(this.playerConfig.progress&&this.playerConfig.miniprogress)return'<xg-mini-progress class="xg-mini-progress">\n    <xg-mini-progress-cache class="xg-mini-progress-cache"></xg-mini-progress-cache>\n    <xg-mini-progress-played class="xg-mini-progress-played"></xg-mini-progress-played>\n    </xg-mini-progress>'}}],[{key:"pluginName",get:function(){return"MiniProgress"}},{key:"defaultConfig",get:function(){return{}}}]),n}(tt),Ky="realtime",ju="firstframe",Hu="poster";function Yy(){try{return parseInt(window.performance.now(),10)}catch(o){return new Date().getTime()}}var ti=null,zy=function(o){S(n,o);var a=E(n);function n(){var e;d(this,n);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return g(b(e=a.call.apply(a,[this].concat(r))),"onLoadedData",function(u){e.player&&(e._frameCount=e.config.startFrameCount,e.renderOnTimeupdate(u),e.off(_e,e.renderOnTimeupdate),e.on(_e,e.renderOnTimeupdate))}),g(b(e),"renderOnTimeupdate",function(u){e._frameCount>0?(e.renderOnce(),e._frameCount--):(e._isLoaded=!0,e.off(_e,e.renderOnTimeupdate),!e.player.paused&&e._checkIfCanStart()&&e.start())}),g(b(e),"start",function(){var u=e.player.media,h=Yy(),y=e.checkVideoIsSupport(u);y&&e.canvasCtx&&(e.stop(),u.videoWidth&&u.videoHeight&&(e.videoPI=u.videoHeight>0?parseInt(u.videoWidth/u.videoHeight*100,10):0,(e.config.mode===Ky||h-e.preTime>=e.interval)&&(u&&u.videoWidth&&e.update(y,e.videoPI),e.preTime=h)),e.frameId=v.requestAnimationFrame(e.start))}),g(b(e),"stop",function(){e.frameId&&(v.cancelAnimationFrame(e.frameId),e.frameId=null)}),e}return _(n,[{key:"afterCreate",value:function(){var e=this;this.playerConfig.dynamicBg===!0&&(this.config.disable=!1),n.isSupport||(this.config.disable=!0);var t=this.config,r=t.disable,i=t.mode,u=t.frameRate;r||(this._pos={width:0,height:0,rwidth:0,rheight:0,x:0,y:0,pi:0},this.isStart=!1,this._isLoaded=!1,this.videoPI=0,this.preTime=0,this.interval=parseInt(1e3/u,10),this.canvas=null,this.canvasCtx=null,this._frameCount=0,this.once(Ee,function(){e.player&&(e.init(),e.player.paused||e.start())}),i!==Hu&&(i!==ju&&(this.on(We,function(){e.stop()}),this.on(de,function(){e._checkIfCanStart()&&e.start()}),this.on(Re,function(){e.stop()})),this.on(He,this.onLoadedData),this.on(ft,function(){e._isLoaded=!1,e.stop()})))}},{key:"init",value:function(){var e=this.player,t=this.config;this.canvasFilter=n.supportCanvasFilter();try{var r=this.config.isInnerRender&&e.innerContainer||e.root;r.insertAdjacentHTML("afterbegin",'<div class="xgplayer-dynamic-bg" data-index="'.concat(t.index,'"><canvas>\n        </canvas><xgmask></xgmask></div>')),this.root=r.children[0],this.canvas=this.find("canvas"),this.canvasFilter||(this.canvas.style.filter=t.filter,this.canvas.style.webkitFilter=t.filter),this.mask=this.find("xgmask"),t.addMask&&(this.mask.style.background=t.maskBg),this.canvasCtx=this.canvas.getContext("2d"),this.renderByPoster()}catch(i){j.logError("plugin:DynamicBg",i)}}},{key:"checkVideoIsSupport",value:function(e){if(!e)return null;var t=e&&e instanceof window.HTMLVideoElement?e:e.canvas?e.canvas:e.flyVideo?e.flyVideo:null;if(t&&(D.browser!=="safari"||!v.isMSE(t)))return t;var r=t?t.tagName.toLowerCase():"";return r==="canvas"||r==="img"?t:null}},{key:"renderByPoster",value:function(){var e=this.playerConfig.poster;if(e){var t=v.typeOf(e)==="String"?e:v.typeOf(e.poster)==="String"?e.poster:null;this.updateImg(t)}}},{key:"_checkIfCanStart",value:function(){var e=this.config.mode;return this._isLoaded&&e!==ju&&e!==Hu}},{key:"renderOnce",value:function(){var e=this.player.media;if(e.videoWidth&&e.videoHeight){this.videoPI=parseInt(e.videoWidth/e.videoHeight*100,10);var t=this.checkVideoIsSupport(e);t&&e.videoWidth&&this.update(t,this.videoPI)}}},{key:"updateImg",value:function(e){var t=this;if(e){var r=this.canvas.getBoundingClientRect(),i=r.width,u=r.height,h=new window.Image;h.onload=function(){if(t.canvas&&!t.frameId&&!t.isStart){t.canvas.height=u,t.canvas.width=i;var y=parseInt(i/u*100,10);t.update(h,y),h=null}},h.src=e}}},{key:"update",value:function(e,t){if(this.canvas&&this.canvasCtx&&t)try{var r=this._pos,i=this.config,u=this.canvas.getBoundingClientRect(),h=u.width,y=u.height;if(h!==r.width||y!==r.height||r.pi!==t){var k=parseInt(h/y*100,10);r.pi=t,r.width=this.canvas.width=h,r.height=this.canvas.height=y;var R=y,G=h;k<t?G=parseInt(y*t/100,10):k>t&&(R=parseInt(100*h/t,10)),r.rwidth=G*i.multiple,r.rheight=R*i.multiple,r.x=(h-r.rwidth)/2,r.y=(y-r.rheight)/2}this.canvasFilter&&(this.canvasCtx.filter=i.filter),this.canvasCtx.drawImage(e,r.x,r.y,r.rwidth,r.rheight)}catch(X){j.logError("plugin:DynamicBg",X)}}},{key:"destroy",value:function(){this.stop(),this.canvasCtx=null,this.canvas=null}},{key:"render",value:function(){return""}}],[{key:"pluginName",get:function(){return"dynamicBg"}},{key:"defaultConfig",get:function(){return{isInnerRender:!1,disable:!0,index:-1,mode:"framerate",frameRate:10,filter:"blur(50px)",startFrameCount:2,addMask:!0,multiple:1.2,maskBg:"rgba(0,0,0,0.7)"}}},{key:"isSupport",get:function(){return typeof ti=="boolean"?ti:ti=function(){try{return!!document.createElement("canvas").getContext}catch(e){return!1}}()}},{key:"supportCanvasFilter",value:function(){return!(D.browser==="safari"||D.browser==="firefox")}}]),n}(tt),Xy="info",ri=Lr,Jy=function(o){S(n,o);var a=E(n);function n(){var e;d(this,n);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return g(b(e=a.call.apply(a,[this].concat(r))),"_recordUserActions",function(u){var h=e._getTime(),y=Object.assign({},u,{msg:u.msg||u.action});e._stats.info.push(f(f({type:"userAction"},h),{},{payload:y}))}),g(b(e),"_onReset",function(){e.reset()}),g(b(e),"_recordInfo",function(u){e.info(u)}),g(b(e),"_downloadStats",function(){var u=e.getStats(),h=new Blob([JSON.stringify(u)],{type:"application/json"}),y=window.URL.createObjectURL(h),k=document.createElement("a");k.style.display="none",k.href=y,k.download="player.txt",k.disabled=!1,k.click()}),e}return _(n,[{key:"_getTime",value:function(){return{timestamp:Date.now(),timeFormat:new Date().toISOString()}}},{key:"afterCreate",value:function(){this.reset(),this.on(kt,this._recordUserActions),this.on(ri.STATS_INFO,this._recordInfo),this.on(ri.STATS_DOWNLOAD,this._downloadStats),this.on(ri.STATS_RESET,this._onReset)}},{key:"destroy",value:function(){this.offAll()}},{key:"downloadStats",value:function(){this._downloadStats()}},{key:"info",value:function(e){e.profile?this._infoProfile(e):this._info(e)}},{key:"_info",value:function(e){var t=this._getTime();this._stats.info.push(f(f({},t),{},{payload:e}))}},{key:"_infoProfile",value:function(e){if(e&&e.startMs){var t=f({cat:"function",dur:Date.now()-e.startMs,name:e.name||e.msg,ph:"X",pid:0,tid:0,ts:e.startMs,profile:!0},e);this._info(t)}else console.warn("infoProfile need object data, include startMs")}},{key:"reset",value:function(){var e;this._stats=(g(e={},Xy,[]),g(e,"media",{}),e)}},{key:"getStats",value:function(){for(var e=this.player.media,t=[],r=0;r<e.buffered.length;r++)t.push({start:e.buffered.start(r),end:e.buffered.end(r)});var i={currentTime:e.currentTime,readyState:e.readyState,buffered:t,paused:e.paused,ended:e.ended};return this._stats.media=i,{raw:this._stats,timestat:this._getTimeStats(),profile:this._getProfile()}}},{key:"_getTimeStats",value:function(){return this._stats.info.map(function(e){var t=e.payload.data,r="";try{t instanceof Error?r=t.msg:t!==void 0&&(r=JSON.stringify(t))}catch(i){console.log("err",i)}return"[".concat(e.timeFormat,"] : ").concat(e.payload.msg," ").concat(r," ")})}},{key:"_getProfile",value:function(){var e={traceEvents:[]};return this._stats.info.forEach(function(t){t.payload.profile&&e.traceEvents.push(t.payload)}),e}}],[{key:"pluginName",get:function(){return"stats"}},{key:"defaultConfig",get:function(){return{}}}]),n}(Te),Gu=function(o){S(n,o);var a=E(n);function n(){var e;d(this,n);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return g(b(e=a.call.apply(a,[this].concat(r))),"onGapJump",function(){var u=b(e),h=u.player,y=u.config;if(h.media.readyState!==HTMLMediaElement.HAVE_NOTHING){if(h.media.seeking){if(!e.seekingEventReceived)return}else e.seekingEventReceived=!1;if(!h.media.paused||h.media.currentTime===0||!e.hasPlayed){var k=h.media.buffered,R=y.smallGapLimit||.5,G=y.gapDetectionThreshold||.3,X=h.media.currentTime,J=e._getIndex(k,X,G);if(J!==null&&J!==0){console.log("GapJump  bufferRange ",k.start(J),k.end(J));var oe=k.start(J)+.1;if(!(oe>h.media.duration)){var ve=oe-X,fe=ve<=R;ve<n.BROWSER_GAP_TOLERANCE||fe&&(y.useGapJump!==!1&&(h.media.currentTime=e.isSafari?oe+.1:oe),e.player&&e.player.emit("detectGap"),console.log("gapJump gapIndex",J," isGapSamll:",fe," currentTime:",h.media.currentTime," jumpSize:",X-h.media.currentTime),oe!==.08&&h&&h.emit("log",{type:"oneevent",end_type:"gap",vid:h.config.vid,ext:{video_postion:Math.floor(1e3*oe)}}))}}}}}),e}return _(n,[{key:"afterCreate",value:function(){var e=this;this.config.useGapJump!==!1&&(this.hasPlayed=!1,this.seekingEventReceived=!1,this.isSafari=/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),this.on(Ie,this.onGapJump),this.on(de,function(){e.hasPlayed=!0}),this.on(ce,function(){e.seekingEventReceived=!0}))}},{key:"_getIndex",value:function(e,t,r){if(!e||!e.length||e.length===1&&e.end(0)-e.start(0)<1e-6)return null;for(var i=this._getBuffered(e),u=null,h=0;h<i.length;h++)if(i[h].start>t&&(h===0||i[h-1].end-t<=r)){u=h;break}return u}},{key:"_getBuffered",value:function(e){if(!e)return[];for(var t=[],r=0;r<e.length;r++)t.push({start:e.start(r),end:e.end(r)});return t}}],[{key:"pluginName",get:function(){return"gapJump"}},{key:"defaultConfig",get:function(){return{useGapJump:!1,smallGapLimit:.5,gapDetectionThreshold:.3}}}]),n}(tt);Gu.BROWSER_GAP_TOLERANCE=.001;var Zy=function(o){S(n,o);var a=E(n);function n(){var e;d(this,n);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return g(b(e=a.call.apply(a,[this].concat(r))),"onWaiting",function(){var u=b(e).config;e.jumpCnt>u.jumpCntMax||e.timer||u.useWaitingTimeoutJump===!1||(e.timer=setTimeout(e.onJump,1e3*u.waitingTime))}),g(b(e),"onJump",function(){var u=b(e),h=u.player,y=u.config;if(clearTimeout(e.timer),e.timer=null,!(e.jumpCnt>y.jumpCntMax||y.useWaitingTimeoutJump===!1||h.media.paused&&h.media.currentTime!==0&&e.hasPlayed)){e.jumpSize=y.jumpSize*(e.jumpCnt+1),e.jumpCnt===y.jumpSize&&e.jumpSize<6&&(e.jumpSize=6);var k=h.currentTime+e.jumpSize;k>h.media.duration||(console.log("waitintTimeout, currentTime:",h.currentTime,", jumpTo:",k),e.jumpCnt++,h.currentTime=k)}}),e}return _(n,[{key:"afterCreate",value:function(){var e=this,t=this.config,r=t.useWaitingTimeoutJump,i=t.jumpSize;r!==!1&&(this.hasPlayed=!1,this.jumpCnt=0,this.timer=null,this.jumpSize=i,this.on(Ie,this.onWaiting),this.on([be,Ae],function(){clearTimeout(e.timer),e.timer=null,e.jumpSize=e.config.jumpSize}),this.on(de,function(){e.hasPlayed=!0}))}}],[{key:"pluginName",get:function(){return"waitingTimeoutJump"}},{key:"defaultConfig",get:function(){return{useWaitingTimeoutJump:!1,waitingTime:15,jumpSize:2,jumpCntMax:4}}}]),n}(tt),Br="cdn",bn=["cdn"],Qy=function(o){S(n,o);var a=E(n);function n(){var e;d(this,n);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return g(b(e=a.call.apply(a,[this].concat(r))),"getSpeed",function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Br;if(!e.speedListCache||!e.speedListCache[u]||e.speedListCache[u].length<=0)return 0;var h=0;return e.speedListCache[u].map(function(y){h+=y}),Math.floor(h/e.speedListCache[u].length)}),g(b(e),"startTimer",function(){v.isMSE(e.player.video)||(e.initSpeedList(),e.cnt=0,e.timer=setTimeout(e.testSpeed,e.config.testTimeStep))}),g(b(e),"initSpeedList",function(){e.speedListCache={},bn.forEach(function(u){e.speedListCache[u]=[]})}),g(b(e),"_onRealSpeedChange",function(u){u.speed&&e.appendList(u.speed,u.type||Br)}),g(b(e),"testSpeed",function(){if(clearTimeout(e.timer),e.timer=null,e.player&&e.config.openSpeed){var u=e.config,h=u.url,y=u.loadSize,k=u.testCnt,R=u.testTimeStep,G=h+(h.indexOf("?")<0?"?testst=":"&testst=")+Date.now();if(!(e.cnt>=k)){e.cnt++;try{var X=new Date().getTime(),J=null,oe=new XMLHttpRequest;e.xhr=oe,oe.open("GET",G);var ve={},fe=Math.floor(10*Math.random());ve.Range="bytes="+fe+"-"+(y+fe),ve&&Object.keys(ve).forEach(function(Ce){oe.setRequestHeader(Ce,ve[Ce])}),oe.onreadystatechange=function(){if(oe.readyState===4){e.xhr=null,J=new Date().getTime();var Ce=oe.getResponseHeader("Content-Length")/1024*8,Be=Math.round(1e3*Ce/(J-X));e.appendList(Be),e.timer=setTimeout(e.testSpeed,R)}},oe.send()}catch(Ce){console.error(Ce)}}}}),g(b(e),"appendList",function(u){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Br;if(e.speedListCache&&e.speedListCache[h]){var y=e.config.saveSpeedMax;e.speedListCache[h].length>=y&&e.speedListCache[h].shift(),e.speedListCache[h].push(u);var k=b(e),R=k.player;R&&(h===Br?R.realTimeSpeed=u:R[e.getSpeedName("realTime",h)]=u),e.updateSpeed(h)}}),g(b(e),"updateSpeed",function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Br,h=e.getSpeed(u),y=b(e),k=y.player;if(k)if(u===Br)k.avgSpeed&&h===k.avgSpeed||(k.avgSpeed=h,k.emit(nt,{speed:h,realTimeSpeed:k.realTimeSpeed}));else{var R=e.getSpeedName("avg",u);k[R]&&h===k[R]||(k[R]=h,k.emit(nt,{speed:h,realTimeSpeed:k.realTimeSpeed}))}}),e}return _(n,[{key:"afterCreate",value:function(){var e=this.config,t=e.openSpeed,r=e.addSpeedTypeList;(r==null?void 0:r.length)>0&&bn.push.apply(bn,B(r)),this.initSpeedList(),this.on("real_time_speed",this._onRealSpeedChange),this.timer=null,this.cnt=0,this.xhr=null,t&&this.on([He,Se],this.startTimer)}},{key:"getSpeedName",value:function(e,t){return e+"Speed"+t.toUpperCase()}},{key:"openSpeed",get:function(){return this.config.openSpeed},set:function(e){if(this.config.openSpeed=e,!e&&this.timer)return clearTimeout(this.timer),void(this.timer=null);if(this.config.openSpeed){if(this.timer)return;this.timer=setTimeout(this.testSpeed,this.config.testTimeStep)}}},{key:"destroy",value:function(){var e=this;this.off("real_time_speed",this._onRealSpeedChange),this.off([He,Se],this.startTimer),bn.forEach(function(t){e.speedListCache&&e.speedListCache[t]&&(e.speedListCache[t]=[])}),this.speedListCache&&(this.speedListCache={}),clearTimeout(this.timer),this.timer=null,this.xhr&&this.xhr.readyState!==4&&(this.xhr.cancel&&this.xhr.cancel(),this.xhr=null)}}],[{key:"pluginName",get:function(){return"testspeed"}},{key:"defaultConfig",get:function(){return{openSpeed:!1,testCnt:3,loadSize:204800,testTimeStep:3e3,url:"",saveSpeedMax:5,addSpeedTypeList:[]}}}]),n}(tt),em=function(o){S(n,o);var a=E(n);function n(){return d(this,n),a.apply(this,arguments)}return _(n,[{key:"afterCreate",value:function(){var e=this,t=this.player,r=this.config;this.timer=null,this._lastDecodedFrames=0,this._currentStuckCount=0,this._lastCheckPoint=null,this._payload=[],r.disabled||t.media.getVideoPlaybackQuality&&(this.on(de,function(){e._startTick()}),this.on(Re,function(){e._stopTick()}),this.on(ke,function(){e._stopTick()}),this.on(We,function(){e._stopTick()}))}},{key:"_startTick",value:function(){var e=this;this._stopTick(),this._timer=setTimeout(function(){e._checkDecodeFPS(),e._startTick()},this.config.tick)}},{key:"_stopTick",value:function(){clearTimeout(this._timer),this._timer=null}},{key:"_checkStuck",value:function(e,t,r,i){var u=this.player.media,h=document.hidden,y=u.paused;if(typeof h=="boolean"&&!h&&!y){for(var k=u.currentTime,R=u.buffered,G=!1,X=[],J=0;J<R.length;J++){var oe=R.start(J),ve=R.end(J);if(X.push({start:oe,end:ve}),oe<=k&&k<=ve-1){G=!0;break}}u.readyState===4&&G&&(this._currentStuckCount>this.config.stuckCount?(this.emit(Dr,this._payload),this._reset()):e<=this.config.reportFrame?(this._currentStuckCount++,this._payload.push({bufs:X,currentTime:u.currentTime,curDecodedFrames:e,totalVideoFrames:t,droppedVideoFrames:r,checkInterval:i})):this._reset())}}},{key:"_reset",value:function(){this._payload=[],this._currentStuckCount=0}},{key:"_checkDecodeFPS",value:function(){if(this.player.media){var e=this.player.media.getVideoPlaybackQuality(),t=e.totalVideoFrames,r=e.droppedVideoFrames,i=performance.now();if(t&&this._lastCheckPoint){var u=t-this._lastDecodedFrames,h=i-this._lastCheckPoint;this._checkStuck(u,t,r,h)}this._lastDecodedFrames=t,this._lastCheckPoint=i}}},{key:"destroy",value:function(){this._stopTick()}}],[{key:"pluginName",get:function(){return"FpsDetect"}},{key:"defaultConfig",get:function(){return{disabled:!1,tick:1e3,stuckCount:3,reportFrame:0}}}]),n}(tt);Fr.use({LANG:"zh-cn",TEXT:{ERROR_TYPES:{network:{code:1,msg:"视频下载错误"},mse:{code:2,msg:"流追加错误"},parse:{code:3,msg:"解析错误"},format:{code:4,msg:"格式错误"},decoder:{code:5,msg:"解码错误"},runtime:{code:6,msg:"语法错误"},timeout:{code:7,msg:"播放超时"},other:{code:8,msg:"其他错误"}},HAVE_NOTHING:"没有关于音频/视频是否就绪的信息",HAVE_METADATA:"音频/视频的元数据已就绪",HAVE_CURRENT_DATA:"关于当前播放位置的数据是可用的，但没有足够的数据来播放下一帧/毫秒",HAVE_FUTURE_DATA:"当前及至少下一帧的数据是可用的",HAVE_ENOUGH_DATA:"可用数据足以开始播放",NETWORK_EMPTY:"音频/视频尚未初始化",NETWORK_IDLE:"音频/视频是活动的且已选取资源，但并未使用网络",NETWORK_LOADING:"浏览器正在下载数据",NETWORK_NO_SOURCE:"未找到音频/视频来源",MEDIA_ERR_ABORTED:"取回过程被用户中止",MEDIA_ERR_NETWORK:"网络错误",MEDIA_ERR_DECODE:"解码错误",MEDIA_ERR_SRC_NOT_SUPPORTED:"不支持的音频/视频格式",REPLAY:"重播",ERROR:"网络连接似乎出现了问题",PLAY_TIPS:"播放",PAUSE_TIPS:"暂停",PLAYNEXT_TIPS:"下一集",DOWNLOAD_TIPS:"下载",ROTATE_TIPS:"旋转",RELOAD_TIPS:"重新载入",FULLSCREEN_TIPS:"进入全屏",EXITFULLSCREEN_TIPS:"退出全屏",CSSFULLSCREEN_TIPS:"进入样式全屏",EXITCSSFULLSCREEN_TIPS:"退出样式全屏",TEXTTRACK:"字幕",PIP:"画中画",SCREENSHOT:"截图",LIVE:"正在直播",OFF:"关闭",OPEN:"开启",MINI_DRAG:"点击按住可拖动视频",MINISCREEN:"小屏幕",REFRESH_TIPS:"请试试",REFRESH:"刷新",FORWARD:"快进中",LIVE_TIP:"直播"}});var tm=_(function o(a,n){var e,t,r;d(this,o);var i=n&&n.isMobileSimulateMode==="mobile",u=n.isLive,h=[].concat(u?[]:[by,hy,Wy,Vy,_y],[dy,my,wy,Oy,qy,By,Dy,My,Ey,Ay]),y=[Ug,jg,Hg,ly,Gg,Hy,Gy,$y,Yg];this.plugins=[Jy,qg].concat(B(h),y,[Gu,Zy]);var k=i?"mobile":D.device;switch(k){case"pc":(e=this.plugins).push.apply(e,[Ou,Zn,Fu,Qy,em]);break;case"mobile":(t=this.plugins).push.apply(t,[sy]);break;default:(r=this.plugins).push.apply(r,[Ou,Zn,Fu])}(D.os.isIpad||k==="pc")&&this.plugins.push(zy),D.os.isIpad&&this.plugins.push(Zn),this.ignores=[],this.i18n=[]}),zt=function(o){S(n,o);var a=E(n);function n(){return d(this,n),a.apply(this,arguments)}return _(n)}(Wn);return g(zt,"defaultPreset",tm),g(zt,"Util",v),g(zt,"Sniffer",D),g(zt,"Errors",he),g(zt,"Events",hn),g(zt,"Plugin",tt),g(zt,"BasePlugin",Te),g(zt,"I18N",Fr),g(zt,"STATE_CLASS",ye),zt})})(xp);var e_=xp.exports;const t_=qs(e_);async function r_(){const s=Array.from({length:1e4},(l,c)=>({key:c,author:$u.person.firstName(),content:$u.lorem.paragraph(1)}));return new Promise(l=>{setTimeout(()=>{l(s)},200)})}const wg=s=>(Tp("data-v-7a926a2e"),s=s(),kp(),s),n_={class:"container"},i_=wg(()=>It("div",{class:"video"},[It("div",{id:"player"})],-1)),a_=wg(()=>It("h2",{style:{transform:"translateX(-30vw)"}},"评论",-1)),Tr=132,o_=Bs({__name:"[id]",setup(s){Wu(()=>{new t_({id:"player",url:"//lf9-cdn-tos.bytecdntp.com/cdn/expire-1-M/byted-player-videos/1.0.0/xgplayer-demo.mp4",fluid:!0,poster:"/2.avif"})});let l=ur(void 0);const c=ur(void 0),f=ur(0);Wu(async function(){window.scrollTo({top:0});let _=await r_();l.value=_,c.value=_.filter(g=>g.key<=9),f.value=_.length*Tr});const p=ur(0),d=ur(0),m=_=>{var S,T;let g=_.target.scrollTop;console.log(Math.ceil(g/Tr)),g>Tr*4?(d.value=g%Tr+Tr,p.value=g,c.value=(S=l.value)==null?void 0:S.filter(C=>C.key>=Math.ceil(g/Tr)-2&&C.key<=Math.ceil(g/Tr)+9)):(p.value=0,d.value=0,c.value=(T=l.value)==null?void 0:T.filter(C=>C.key<=9))};return(_,g)=>{const S=om;return er(),lr(um,null,{default:Gt(()=>[It("div",n_,[i_,a_,It("div",{class:"outer",onScroll:m},[It("div",{style:Ku({height:"".concat(f.value,"px")}),class:"placeholder"},null,4),It("div",{class:"viewWindow",style:Ku({transform:"translateY(".concat(p.value,"px)"),top:"-".concat(d.value,"px")})},[(er(!0),lm(fm,null,cm(c.value,T=>(er(),lr($m,{key:T.key,class:"comment"},{author:Gt(()=>[It("a",null,Ur(T.author),1)]),content:Gt(()=>[It("p",null,Ur(T.content),1)]),default:Gt(()=>[dm(Ur(T.key)+" ",1)]),_:2},1024))),128))],4),f.value===0?(er(),lr(S,{key:0})):hm("",!0)],32)])]),_:1})}}}),f_=Sp(o_,[["__scopeId","data-v-7a926a2e"]]);export{f_ as default};
